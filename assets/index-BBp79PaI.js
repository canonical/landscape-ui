import{f as n,v as c,w as l,o as s,ag as m,B as d,j as i}from"./index-DYykpNVa.js";import{S as p}from"./SidePanel-DVyPWXM9.js";import{S as u}from"./ScriptProfileForm-BM85OXMW.js";import"./AssociationBlock-Bs5is6Zl.js";import"./MultiSelectField-85mhFA5_.js";import"./useGetTags-BbkSXw8M.js";import"./index-CqeMv2OD.js";import"./TableFilterChips-DLH4XQ-H.js";import"./TablePagination-CIA4CRba.js";import"./ScriptsTabs-BrOiXEKJ.js";import"./helpers-DblkVUdf.js";import"./constants-CXofZZ4i.js";import"./NoData-CT6SeJUX.js";import"./ResponsiveTable-C-8YbfBJ.js";import"./StaticLink-BX9qJBBO.js";import"./TruncatedCell-DQQZxgbr.js";import"./Truncated-DtD6hAHP.js";import"./useExpandableRow-CGDZ27WS.js";import"./useRoles-CK1OAvut.js";import"./useFetchOld-BGD2hIpr.js";import"./TextConfirmationModal-DuGXYB1S.js";import"./PageParamFilter-LH49uHXA.js";import"./TableFilter-C7yTBfOe.js";import"./HeaderWithSearch-DH3OfcZg.js";import"./SingleInstanceTabs.module-DvhuGYYD.js";import"./index-Cbj0Sz5k.js";import"./ProfileAssociatedInstancesLink-CRAimTVK.js";import"./SidePanelFormButtons-Aj5ThB2m.js";import"./SidePanelFormButtons.module-CcPyiogC.js";import"./useGetInstances-CQaSwVqm.js";import"./InstancesPageActions-nbDXpXLr.js";import"./index-C2TKYmcI.js";import"./formikErrors-Bw8iTXYS.js";import"./ListTitle-anvzyHx6.js";import"./InfoGrid-CVtcW3Y8.js";import"./InfoItem-DMBAN7ig.js";import"./ScriptDropdown-C9m_9P8C.js";import"./useInfiniteQuery-uvFBsnEF.js";import"./downshift.esm-CVSNbv_O.js";const f=()=>{const r=n(),o=c(),{isPending:e,mutateAsync:t}=l({mutationFn:async a=>r.post("script-profiles",a),onSuccess:async()=>o.invalidateQueries({queryKey:["scriptProfiles"]})});return{isAddingScriptProfile:e,addScriptProfile:t}},_={all_computers:!1,interval:"",start_after:s().utc().format(m),tags:[],time_limit:300,timestamp:s().utc().format(m),title:"",trigger_type:"",username:"root",script:null},it=()=>{const{notify:r}=d(),{addScriptProfile:o,isAddingScriptProfile:e}=f();return i.jsxs(i.Fragment,{children:[i.jsx(p.Header,{children:"Add script profile"}),i.jsx(p.Content,{children:i.jsx(u,{initialValues:_,onSubmit:async t=>{await o({all_computers:t.all_computers,script_id:t.script_id,tags:t.tags,time_limit:t.time_limit,title:t.title,trigger:t.trigger,username:t.username})},onSuccess:t=>{r.success({title:`You have successfully created ${t.title}`,message:"The profile has been created and associated to the defined instances."})},submitButtonText:"Add profile",submitting:e})})]})};export{it as default};
