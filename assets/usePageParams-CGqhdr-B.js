import{w as T}from"./index-Bd4iIRe_.js";const e={ACCESS_GROUPS:"accessGroups",AVAILABILITY_ZONES:"availabilityZones",CURRENT_PAGE:"currentPage",DAYS:"days",DISABLED_COLUMNS:"disabledColumns",FROM_DATE:"fromDate",GROUP_BY:"groupBy",OS:"os",PAGE_SIZE:"pageSize",SEARCH:"search",SORT:"sort",SORT_BY:"sortBy",STATUS:"status",TAB:"tab",TAGS:"tags",TO_DATE:"toDate",TYPE:"type"},n=[20,50,100],_=[1,7,30,90,180,365],m=(t,r,s)=>{s===""||Array.isArray(s)&&s.length===0||s===null?t.delete(r):t.set(r,String(s))},O=t=>[e.ACCESS_GROUPS,e.AVAILABILITY_ZONES,e.DAYS,e.FROM_DATE,e.GROUP_BY,e.OS,e.PAGE_SIZE,e.SEARCH,e.STATUS,e.TAGS,e.TO_DATE,e.TYPE].some(s=>s in t),R=(t,r)=>{switch(e[t]){case e.CURRENT_PAGE:return Number(r??"1");case e.PAGE_SIZE:return n.includes(Number(r))?Number(r):n[0];case e.DAYS:return _.includes(Number(r))?Number(r):7;case e.ACCESS_GROUPS:case e.AVAILABILITY_ZONES:case e.DISABLED_COLUMNS:case e.TAGS:return(r==null?void 0:r.split(",").filter(Boolean))??[];default:return r||""}},i=t=>Object.keys(e).reduce((c,S)=>{const a=t.get(e[S]);return{...c,[e[S]]:R(S,a)}},{}),C=()=>{const[t,r]=T(),{tab:s,...c}=i(t);return{tab:s,...c,setPageParams:a=>{r(o=>{if(a.tab&&a.tab!==s)return new URLSearchParams({tab:a.tab});const A=new URLSearchParams(o.toString());return O(a)&&A.delete(e.CURRENT_PAGE),Object.entries(a).forEach(([E,P])=>{m(A,E,P)}),A},{replace:!0})}}};export{C as u};
