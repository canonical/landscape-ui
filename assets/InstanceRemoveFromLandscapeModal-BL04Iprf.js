import{b as g,e as f,f as h,p as y,q as v,B as n,j as l,ad as L}from"./index-Cl3Ng_mk.js";import{u as b}from"./useRemoveInstancesFromLandscape-T5aF5xK3.js";const I=()=>{const t=g(),e=f(),{isPending:s,mutateAsync:o}=h({mutationKey:["instance","sanitize"],mutationFn:async({computer_id:i,...r})=>t.post(`computers/${i}/sanitize`,r),onSuccess:async()=>e.invalidateQueries({queryKey:["instances"]})});return{sanitizeInstance:o,isSanitizingInstance:s}},x=({close:t,instances:e,isOpen:s,onSuccess:o})=>{const i=y(),{notify:r}=v(),{removeInstancesFromLandscape:d,isRemovingInstancesFromLandscape:m}=b(),[u]=e;if(!u)return;const a=n(e.length,u.title,`${e.length} instances`),p=async()=>{try{await d({computer_ids:e.map(({id:c})=>c)}),r.success({title:`You have successfully removed ${n(e.length,e[0].title,`${e.length} instances`)} from Landscape.`,message:`${n(e.length,`${a} has been removed from Landscape. To manage it again, you will need to re-register it in Landscape.`,`${a} have been removed from Landscape. To manage them again, you will need to re-register them in Landscape.`)}`}),o?.()}catch(c){i(c)}finally{t()}};return l.jsx(L,{isOpen:s,close:t,title:`Remove ${a} from Landscape`,confirmButtonLabel:"Remove",confirmButtonAppearance:"negative",confirmButtonDisabled:m,confirmButtonLoading:m,confirmationText:`remove ${a}`,onConfirm:p,children:l.jsx("p",{children:n(e.length,"This will delete all associated data and free up one license slot for another computer to be registered. You can re-register it to Landscape at any time.","This will delete all associated data and free up license slots for other computers to be registered. You can re-register them to Landscape at any time.")})})};export{x as I,I as u};
