const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CClcRxsK.js","assets/index-5gUg1wBm.js","assets/index-D38JayDC.css","assets/AssociationBlock-BwsTaS_1.js","assets/MultiSelectField-DeAhX_th.js","assets/MultiSelectField-GyNA33om.css","assets/useInstances-Bwh27CFJ.js","assets/useFetchOld-DoJhfK-Q.js","assets/AssociationBlock-OuvPxND7.css","assets/SidePanelFormButtons-B3h2hemk.js","assets/SidePanelFormButtons.module-tJTvEwdD.js","assets/SidePanelFormButtons-Cl1KfOFD.css","assets/useRoles-D_4_uFUG.js","assets/index-mSHsAoN_.js","assets/PageMain-B2M7d-if.js","assets/PageMain--v5xNZ5p.css","assets/usePageParams-D1oM-inl.js","assets/NoData-CkszD9V_.js","assets/HeaderWithSearch-FkYK9Nhc.js","assets/HeaderWithSearch-C2lwo0VI.css","assets/TableFilterChips-DTuS4Wl3.js","assets/TableFilterChips-CHqetGbX.css","assets/index-D0l_ETrt.css","assets/WslInstancesHeader-BO2k08Rn.js","assets/WslInstancesHeader-Dj3EjS23.css","assets/constants-Ck3Ryr56.js","assets/index-_v2C-3Y0.css","assets/index-BdLJvYB7.js","assets/FileInput-D0WhwJId.js","assets/CodeEditor-2K0ZPBuq.js","assets/CodeEditor-Dykd0T8L.css"])))=>i.map(i=>d[i]);
import{r as l,p as C,q as N,f as E,j as e,g as n,I as t,n as m,_ as g}from"./index-5gUg1wBm.js";import{N as W}from"./NoData-CkszD9V_.js";import{u as S}from"./index-mSHsAoN_.js";import"./PageMain-B2M7d-if.js";import"./useRoles-D_4_uFUG.js";import"./useFetchOld-DoJhfK-Q.js";import"./usePageParams-D1oM-inl.js";import"./HeaderWithSearch-FkYK9Nhc.js";import"./TableFilterChips-DTuS4Wl3.js";try{let s=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},o=new s.Error().stack;o&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[o]="9f7faa45-9429-4117-a4d7-95c9b600a1e5",s._sentryDebugIdIdentifier="sentry-dbid-9f7faa45-9429-4117-a4d7-95c9b600a1e5")}catch{}const k="_block_1i2to_1",h={block:k},w=l.lazy(()=>g(()=>import("./index-CClcRxsK.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]))),R=l.lazy(()=>g(()=>import("./index-BdLJvYB7.js"),__vite__mapDeps([27,1,2,3,4,5,6,7,8,9,10,11,12,25,28,23,18,16,19,20,21,24,13,14,15,17,22,29,30,26]))),q=({profile:s,accessGroupOptions:o})=>{var d,u;const[i,x]=l.useState(""),p=C(),{notify:j}=N(),{closeSidePanel:b,setSidePanelContent:c}=E(),{removeWslProfileQuery:f}=S(),{mutateAsync:_,isPending:r}=f,v=async a=>{try{await _({name:a}),b(),j.success({message:`WSL profile "${a}" removed successfully.`,title:"WSL profile removed"})}catch(D){p(D)}},y=()=>{c(`Edit "${s.title}" profile`,e.jsx(l.Suspense,{fallback:e.jsx(m,{}),children:e.jsx(w,{profile:s})}))},P=()=>{c(`Duplicate "${s.title}" profile`,e.jsx(l.Suspense,{fallback:e.jsx(m,{}),children:e.jsx(R,{action:"duplicate",profile:s})}))},I=a=>{x(a.target.value)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-segmented-control",children:[e.jsxs(n.Button,{type:"button",hasIcon:!0,className:"p-segmented-control__button",onClick:y,children:[e.jsx(n.Icon,{name:"edit"}),e.jsx("span",{children:"Edit"})]}),e.jsxs(n.Button,{type:"button",hasIcon:!0,className:"p-segmented-control__button",onClick:P,children:[e.jsx(n.Icon,{name:"canvas"}),e.jsx("span",{children:"Duplicate"})]}),e.jsxs(n.ConfirmationButton,{type:"button",className:"p-segmented-control__button has-icon",confirmationModalProps:{title:"Remove WSL profile",children:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["Removing this profile will affect"," ",e.jsxs("b",{children:[s.computers.constrained.length," instances"]}),". This action is irreversible."]}),e.jsxs("div",{children:["Type ",e.jsxs("b",{children:["remove ",s.name]})," to confirm."]}),e.jsx(n.Input,{type:"text",value:i,onChange:I})]}),confirmButtonLabel:"Remove",confirmButtonAppearance:"negative",confirmButtonDisabled:r||i!==`remove ${s.name}`,confirmButtonLoading:r,onConfirm:()=>v(s.name)},children:[e.jsx(n.Icon,{name:n.ICONS.delete}),e.jsx("span",{children:"Remove"})]})]}),e.jsxs(n.Row,{className:"u-no-padding--left u-no-padding--right",children:[e.jsx(n.Col,{size:6,children:e.jsx(t,{label:"name",value:s.title})}),e.jsx(n.Col,{size:6,children:e.jsx(t,{label:"access group",value:((d=o.find(({value:a})=>a===s.access_group))==null?void 0:d.label)??s.access_group})}),e.jsx(t,{label:"description",value:s.description}),e.jsxs("div",{className:h.block,children:[e.jsx(t,{label:"rootfs image name",value:s.image_name}),s.image_source&&e.jsx(t,{type:"truncated",label:"rootfs image source",value:s.image_source}),e.jsx(t,{label:"cloud init",value:s.cloud_init_contents||"N/A"})]}),e.jsxs("div",{className:h.block,children:[e.jsx("p",{className:"p-heading--5",children:"Association"}),s.all_computers&&e.jsx("p",{children:"This profile has been associated with all instances."}),!s.all_computers&&!s.tags.length&&e.jsx("p",{children:"This profile has not yet been associated with any instances."}),!s.all_computers&&s.tags.length>0&&e.jsx(t,{label:"tags",value:s.tags.length?s.tags.join(", "):e.jsx(W,{})})]}),e.jsx(n.Col,{size:12,children:e.jsx(t,{label:"associated",value:`${s.computers.constrained.length} instances`})}),e.jsx(n.Col,{size:6,children:e.jsx(t,{label:"not compliant",value:`${s.computers["non-compliant"].length} instances`})}),e.jsx(n.Col,{size:6,children:e.jsx(t,{label:"pending",value:`${((u=s.computers.pending)==null?void 0:u.length)??0} instances`})})]})]})};export{q as default};
