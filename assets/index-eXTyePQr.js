import{f as W,h as G,c as F,l as E,d as k,r as d,j as e,e as n,x,_ as T,g as v}from"./index-7rbqZGOC.js";import{P as U,a as K,b as Y}from"./PageMain-J6fXnbp-.js";import{u as J}from"./useFetchOld-DEPeqKqM.js";import{u as j}from"./useMutation-CcXaMJpM.js";import{u as O}from"./useQuery-B9bt25H8.js";import"./MultiSelectField.module-D1r8qo_i.js";import"./AssociationBlock.module-BSYf3X0u.js";import{c as I,a as P,d as $,b as A,g as X,f as Z}from"./index.esm-Dndhfijq.js";import"./SidePanelFormButtons.module-CoxOjuX8.js";import{I as y}from"./InfoItem-CT4qJo1M.js";import{S as ee}from"./SidePanelTablePagination-DggXOV9Y.js";import"./TablePagination.module-DLVph1Z1.js";import{u as L}from"./useConfirm-B_JFtESx.js";import{E as te}from"./EmptyState-Z1WsBfRf.js";import{u as q}from"./formik.esm-CYdaNCDR.js";import{u as D}from"./useRoles-Mlgq2EBh.js";import{S as B}from"./SidePanelFormButtons-CjpyfPYH.js";import{A as R}from"./AssociationBlock-6LBfpdNV.js";function N(){const t=W(),a=G(),r=J(),p=(i={},g={})=>O({queryKey:["packageProfiles",i],queryFn:()=>a.get("packageprofiles",{params:i}),...g}),m=j({mutationFn:i=>a.post("packageprofiles",i),onSuccess:()=>t.invalidateQueries(["packageProfiles"])}),c=j({mutationFn:i=>a.post("packageprofiles",i),onSuccess:()=>t.invalidateQueries(["packageProfiles"])}),l=j({mutationFn:i=>r.get("RemovePackageProfile",{params:i}),onSuccess:()=>t.invalidateQueries(["packageProfiles"])}),h=j({mutationFn:({name:i,...g})=>a.put(`packageprofiles/${i}`,g),onSuccess:()=>t.invalidateQueries(["packageProfiles"])}),_=({instanceId:i,...g},b={})=>O({queryKey:["instancePackageProfiles",{instanceId:i,...g}],queryFn:()=>a.get(`computers/${i}/packages/profile`,{params:g}),...b}),o=({name:i,...g},b={})=>O({queryKey:["packageProfileConstraints",{name:i,...g}],queryFn:()=>a.get(`packageprofiles/${i}/constraints`,{params:g}),...b}),s=j({mutationFn:({name:i,...g})=>a.post(`packageprofiles/${i}/constraints`,g),onSuccess:()=>Promise.all([t.invalidateQueries(["packageProfiles"]),t.invalidateQueries(["packageProfileConstraints"])])}),u=j({mutationFn:({id:i,name:g,...b})=>a.put(`packageprofiles/${g}/constraints/${i}`,b),onSuccess:()=>Promise.all([t.invalidateQueries(["packageProfiles"]),t.invalidateQueries(["packageProfileConstraints"])])}),f=j({mutationFn:({name:i,...g})=>a.delete(`packageprofiles/${i}/constraints`,{params:g}),onSuccess:()=>Promise.all([t.invalidateQueries(["packageProfiles"]),t.invalidateQueries(["packageProfileConstraints"])])});return{addPackageProfileConstraintsQuery:s,copyPackageProfileQuery:m,createPackageProfileQuery:c,editPackageProfileConstraintQuery:u,editPackageProfileQuery:h,getInstancePackageProfileQuery:_,getPackageProfileConstraintsQuery:o,getPackageProfilesQuery:p,removePackageProfileConstraintsQuery:f,removePackageProfileQuery:l}}const V={constraint:"",notAnyVersion:!1,package:"",rule:"",version:""},ft=Object.fromEntries(Object.keys(V).map(t=>[t,!0])),ae={constraint:"",id:0,package:"loading",rule:"",version:"",notAnyVersion:!1},se=[{label:"Any",value:""},{label:"Newer or equal to",value:">="},{label:"Newer than",value:">"},{label:"Equal to",value:"="},{label:"Older than",value:"<"},{label:"Older or equal to",value:"<="}],ne=[{label:"Select",value:""},{label:"Conflicts with",value:"conflicts"},{label:"Depends on",value:"depends"}],oe="_action_1ni0v_1",ie="_cell_1ni0v_7",re="_input_1ni0v_18",ce="_inputWrapper_1ni0v_26",Pt={action:oe,cell:ie,input:re,inputWrapper:ce},le="_container_1y4qx_1",ue="_cta_1y4qx_7",_t={container:le,cta:ue},xt={access_group:"",all_computers:!1,constraints:[V],constraintsType:"",csvFile:null,description:"",isCsvFileParsed:!1,material:"",source_computer_id:0,tags:[],title:""},kt=I().shape({access_group:P(),all_computers:$(),constraints:A().when("constraintsType",{is:"manual",then:t=>t.of(I().shape({constraint:P().required("Required."),notAnyVersion:$(),package:P().required("Required."),rule:P().when("notAnyVersion",{is:!0,then:a=>a.required("Required.")}),version:P().when("notAnyVersion",{is:!0,then:a=>a.required("Required.")})})).min(1,"Package profiles must have at least one package constraint.")}),constraintsType:P().required("This field is required."),csvFile:X().nullable().test({name:"mime-type",message:"Invalid file type.",test:t=>!t||t.type==="text/csv"}).when("constraintsType",{is:"material",then:t=>t.required("This field is required.")}),description:P().required("This field is required."),isCsvFileParsed:$(),material:P().when("constraintsType",{is:"material",then:t=>t.required("The file cannot be empty.")}),source_computer_id:Z().when("constraintsType",{is:"instance",then:t=>t.min(1,"This field is required.")}),tags:A().of(P()),title:P().required("This field is required.")}),de="_container_1eujd_1",bt={container:de},pe={access_group:"",all_computers:!1,description:"",tags:[],title:""},ge=I().shape({access_group:P(),all_computers:$(),description:P(),tags:A().of(P()),title:P().required("Required")}),Q=({profile:t})=>{const a=F(),{notify:r}=E(),{closeSidePanel:p}=k(),{editPackageProfileQuery:m}=N(),{getAccessGroupQuery:c}=D(),{data:l}=c(),h=(l==null?void 0:l.data.map(({name:u,title:f})=>({label:f,value:u})))??[],{mutateAsync:_}=m,s=q({initialValues:pe,onSubmit:async u=>{try{await _({...u,name:t.name,tags:u.all_computers?[]:u.tags}),p(),r.success({message:`Package profile "${t.name}" updated successfully`,title:"Package profile updated"})}catch(f){a(f)}},validationSchema:ge});return d.useEffect(()=>{t&&s.setValues({access_group:t.access_group,all_computers:t.all_computers,description:t.description,tags:t.tags,title:t.title})},[t]),e.jsxs(n.Form,{onSubmit:s.handleSubmit,noValidate:!0,children:[e.jsx(n.Input,{type:"text",label:"Name",...s.getFieldProps("title"),error:s.touched.title&&s.errors.title?s.errors.title:void 0}),e.jsx(n.Input,{type:"text",label:"Description",...s.getFieldProps("description"),error:s.touched.description&&s.errors.description?s.errors.description:void 0}),e.jsx(n.Select,{label:"Access group",options:h,...s.getFieldProps("access_group"),error:s.touched.access_group&&s.errors.access_group||void 0}),e.jsx(R,{formik:s}),e.jsx(B,{submitButtonDisabled:s.isSubmitting,submitButtonText:"Save changes"})]})},me=Object.freeze(Object.defineProperty({__proto__:null,default:Q},Symbol.toStringTag,{value:"Module"})),he={access_group:"",all_computers:!1,description:"",tags:[],title:""},fe=I().shape({access_group:P(),all_computers:$(),description:P(),tags:A().of(P()),title:P()}),M=({profile:t})=>{const a=F(),{notify:r}=E(),{closeSidePanel:p}=k(),{getAccessGroupQuery:m}=D(),{copyPackageProfileQuery:c}=N(),{mutateAsync:l}=c,{data:h}=m(),_=(h==null?void 0:h.data.map(({name:u,title:f})=>({label:f,value:u})))??[];_.unshift({label:"Select access group",value:""});const s=q({initialValues:he,onSubmit:async u=>{const f={all_computers:u.all_computers,access_group:u.access_group,copy_from:t.title,description:u.description,title:u.title};!u.all_computers&&u.tags.length>0&&(f.tags=u.tags);try{await l(f),p(),r.success({message:`Profile "${t.title}" duplicated successfully`,title:"Profile duplicated"})}catch(i){a(i)}},validationSchema:fe});return d.useEffect(()=>{t&&s.setValues({access_group:t.access_group,all_computers:t.all_computers,description:t.description,tags:t.tags,title:`${t.title} (copy)`})},[t]),e.jsxs(n.Form,{onSubmit:s.handleSubmit,noValidate:!0,children:[e.jsx(n.Input,{type:"text",label:"Name",required:!0,...s.getFieldProps("title"),error:s.touched.title&&s.errors.title?s.errors.title:void 0}),e.jsx(n.Input,{type:"text",label:"Description",required:!0,autoComplete:"off",...s.getFieldProps("description"),error:s.touched.description&&s.errors.description?s.errors.description:void 0}),e.jsx(n.Select,{label:"Access group",...s.getFieldProps("access_group"),options:_,error:s.touched.access_group&&s.errors.access_group?s.errors.access_group:void 0}),e.jsx(R,{formik:s}),e.jsx(B,{submitButtonDisabled:s.isSubmitting,submitButtonText:"Duplicate"})]})},Pe=Object.freeze(Object.defineProperty({__proto__:null,default:M},Symbol.toStringTag,{value:"Module"})),_e="_container_1sxc2_1",xe="_search_1sxc2_7",ke="_noShrink_1sxc2_12",w={container:_e,search:xe,noShrink:ke},z=({actions:t,autocomplete:a,onSearch:r,...p})=>{const[m,c]=d.useState("");return e.jsxs("div",{className:w.container,children:[e.jsx("div",{className:w.search,children:e.jsx(n.Form,{className:"u-no-margin--bottom",onSubmit:l=>{l.preventDefault(),r(m.trim())},children:e.jsx(n.SearchBox,{externallyControlled:!0,shouldRefocusAfterReset:!0,autocomplete:a??"off",onSearch:()=>r(m.trim()),value:m,onChange:l=>c(l),onClear:()=>{c(""),r("")},...p})})}),d.isValidElement(t)&&e.jsx("div",{className:w.noShrink,children:t})]})},be="_constraint_1lz67_1",je="_hidden_1lz67_5",H={constraint:be,hidden:je},ye=({row:t,column:a})=>{const r={};return t.original.package==="loading"?a.id==="package"?r.colSpan=3:(r.className=H.hidden,r["aria-hidden"]=!0):a.id==="package"?r.role="rowheader":a.id==="constraint"?r["aria-label"]="Constraint":a.id==="rule"?r["aria-label"]="Rule":a.id==="version"&&(r["aria-label"]="Version"),r},ve=({isConstraintsLoading:t,profileConstraints:a,search:r})=>{const p=d.useMemo(()=>{if(t)return[ae];if(!a)return[];const c=a.map(l=>({...l,notAnyVersion:!!l.version}));return r?c.filter(l=>l.package.toLowerCase().includes(r.toLowerCase())):c},[t,a,r]),m=d.useMemo(()=>[{accessor:"constraint",className:H.constraint,Header:"Constraint",Cell:({row:{original:c}})=>{var l;return((l=ne.find(({value:h})=>h===c.constraint))==null?void 0:l.label)??c.constraint}},{accessor:"package",Header:"Package",Cell:({row:{original:c}})=>c.package==="loading"?e.jsx(x,{}):c.package},{accessor:"version",Header:"Version",Cell:({row:{original:c}})=>{var l;return c.version?`${(l=se.find(({value:h})=>h===c.rule))==null?void 0:l.label} ${c.version}`:"Any"}}],[p]);return e.jsx(n.ModularTable,{columns:m,data:p,getCellProps:ye,emptyMsg:`No constraints found with the search: "${r}"`})},Ce="_actions_nxngq_1",Se={actions:Ce},Te=d.lazy(()=>T(()=>import("./index-BCgFb0XR.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30]))),Ne=({profile:t})=>{const[a,r]=d.useState(1),[p,m]=d.useState(20),[c,l]=d.useState(""),{setSidePanelContent:h}=k(),{getPackageProfileConstraintsQuery:_}=N(),{data:o,isLoading:s}=_({name:t.name,limit:p,offset:(a-1)*p,search:c}),u=()=>{h(`Change "${t.name}" profile's constraints`,e.jsx(d.Suspense,{fallback:e.jsx(x,{}),children:e.jsx(Te,{profile:t})}),"medium")};return e.jsxs(e.Fragment,{children:[!c&&a===1&&p===20&&s&&e.jsx(x,{}),(c||a!==1||p!==20||!s&&o&&o.data.results.length>0)&&e.jsxs(e.Fragment,{children:[e.jsxs(n.Row,{className:v("u-no-padding--left u-no-padding--right",Se.actions),children:[e.jsx(n.Col,{size:6,children:e.jsx(z,{onSearch:f=>l(f)})}),e.jsx(n.Col,{size:6,className:"u-align-text--right",children:e.jsx(n.Button,{type:"button",onClick:u,children:"Change package constraints"})})]}),e.jsx(ve,{isConstraintsLoading:s,profileConstraints:o==null?void 0:o.data.results,search:c}),e.jsx(ee,{currentPage:a,pageSize:p,paginate:f=>r(f),setPageSize:f=>m(f),totalItems:o==null?void 0:o.data.count})]})]})},$e=({profile:t})=>{var i;const a=F(),{notify:r}=E(),{closeSidePanel:p,setSidePanelContent:m}=k(),{closeConfirmModal:c,confirmModal:l}=L(),{removePackageProfileQuery:h}=N(),{mutateAsync:_}=h,o=async g=>{try{await _({name:g}),p(),r.success({message:`Package profile "${g}" removed successfully.`,title:"Package profile removed"})}catch(b){a(b)}finally{c()}},s=g=>{l({title:"Remove package profile",body:`This will remove "${g}" profile.`,buttons:[e.jsx(n.Button,{type:"button",appearance:"negative",onClick:()=>o(g),"aria-label":`Remove ${g} profile`,children:"Remove"},"remove")]})},u=()=>{m("Edit package profile",e.jsx(d.Suspense,{fallback:e.jsx(x,{}),children:e.jsx(Q,{profile:t})}))},f=()=>{m("Duplicate package profile",e.jsx(d.Suspense,{fallback:e.jsx(x,{}),children:e.jsx(M,{profile:t})}))};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-segmented-control",children:[e.jsxs(n.Button,{type:"button",hasIcon:!0,className:"p-segmented-control__button",onClick:f,children:[e.jsx(n.Icon,{name:"canvas"}),e.jsx("span",{children:"Duplicate profile"})]}),e.jsxs(n.Button,{type:"button",hasIcon:!0,className:"p-segmented-control__button",onClick:u,children:[e.jsx(n.Icon,{name:"edit"}),e.jsx("span",{children:"Edit"})]}),e.jsxs(n.Button,{type:"button",hasIcon:!0,className:"p-segmented-control__button",onClick:()=>s(t.name),children:[e.jsx(n.Icon,{name:"delete"}),e.jsx("span",{children:"Remove"})]})]}),e.jsxs(n.Row,{className:"u-no-padding--left u-no-padding--right",children:[e.jsx(n.Col,{size:3,children:e.jsx(y,{label:"Name",value:t.name})}),e.jsx(n.Col,{size:9,children:e.jsx(y,{label:"Description",value:t.description})}),e.jsx(n.Col,{size:3,children:e.jsx(y,{label:"Access group",value:t.access_group})}),e.jsx(n.Col,{size:9,children:e.jsx(y,{label:"Tags",value:t.tags.join(", ")})}),e.jsx(n.Col,{size:3,children:e.jsx(y,{label:"Associated to",value:`${t.computers.constrained.length} instances`})}),e.jsx(n.Col,{size:3,children:e.jsx(y,{label:"Pending on",value:`${((i=t.computers.pending)==null?void 0:i.length)??0} instances`})}),e.jsx(n.Col,{size:3,children:e.jsx(y,{label:"Not compliant on",value:`${t.computers["non-compliant"].length} instances`})})]}),e.jsx(Ne,{profile:t})]})},Ie="_noWrap_1bvel_1",Ae="_toggleButton_1bvel_5",Fe="_actionButton_1bvel_10",C={noWrap:Ie,toggleButton:Ae,actionButton:Fe},Ee=d.lazy(()=>T(()=>import("./index-BCgFb0XR.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30]))),Oe=d.lazy(()=>T(()=>Promise.resolve().then(()=>Pe),void 0)),we=d.lazy(()=>T(()=>Promise.resolve().then(()=>me),void 0)),De=({profile:t})=>{const a=F(),{notify:r}=E(),{closeConfirmModal:p,confirmModal:m}=L(),{setSidePanelContent:c}=k(),{removePackageProfileQuery:l}=N(),{mutateAsync:h}=l,_=i=>()=>{c(`Change "${i.name}" profile's constraints`,e.jsx(d.Suspense,{fallback:e.jsx(x,{}),children:e.jsx(Ee,{profile:i})}),"medium")},o=i=>{c("Edit package profile",e.jsx(d.Suspense,{fallback:e.jsx(x,{}),children:e.jsx(we,{profile:i})}))},s=i=>{c("Duplicate package profile",e.jsx(d.Suspense,{fallback:e.jsx(x,{}),children:e.jsx(Oe,{profile:i})}))},u=async i=>{try{await h({name:i}),r.success({message:`Package profile "${i}" removed successfully`,title:"Package profile removed"})}catch(g){a(g)}finally{p()}},f=i=>{m({title:"Remove package profile",body:`This will remove "${i}" profile.`,buttons:[e.jsx(n.Button,{type:"button",appearance:"negative",onClick:()=>u(i),"aria-label":`Remove ${i} profile`,children:"Remove"},"remove")]})};return e.jsxs(n.ContextualMenu,{position:"left",toggleClassName:C.toggleButton,toggleAppearance:"base",toggleLabel:e.jsx(n.Icon,{name:"contextual-menu"}),children:[e.jsxs(n.Button,{type:"button",appearance:"base",hasIcon:!0,className:v("u-no-margin--bottom u-no-margin--right",C.actionButton),onClick:()=>o(t),"aria-label":`Edit ${t.name} profile`,children:[e.jsx(n.Icon,{name:"edit"}),e.jsx("span",{children:"Edit"})]}),e.jsxs(n.Button,{type:"button",appearance:"base",hasIcon:!0,className:v("u-no-margin--bottom u-no-margin--right",C.actionButton),onClick:_(t),"aria-label":`Change ${t.name} package constraints`,children:[e.jsx(n.Icon,{name:"applications"}),e.jsx("span",{className:C.noWrap,children:"Change package constraints"})]}),e.jsxs(n.Button,{type:"button",appearance:"base",hasIcon:!0,className:v("u-no-margin--bottom u-no-margin--right",C.actionButton),onClick:()=>s(t),"aria-label":`Duplicate ${t.name} profile`,children:[e.jsx(n.Icon,{name:"canvas"}),e.jsx("span",{children:"Duplicate"})]}),e.jsxs(n.Button,{type:"button",appearance:"base",hasIcon:!0,className:v("u-no-margin--bottom u-no-margin--right",C.actionButton),onClick:()=>f(t.name),"aria-label":`Remove ${t.name} profile`,children:[e.jsx(n.Icon,{name:"delete"}),e.jsx("span",{children:"Remove"})]})]})},Le=`These instances are not compliant
with the profile. They do not have a
pending activity to become compliant.`,qe=`These instances are not compliant
with the profile. They do have a
pending activity to apply its
constraints.`,Be=({column:t})=>{const a={};return t.id==="name"?a.role="rowheader":t.id==="description"?a["aria-label"]="Description":t.id==="access_group"?a["aria-label"]="Access group":t.id==="tags"?a["aria-label"]="Tags":t.id==="computers['non-compliant']"?a["aria-label"]="Not compliant instances":t.id==="computers['pending']"?a["aria-label"]="Pending instances":t.id==="computers['constrained']"?a["aria-label"]="Associated instances":t.id==="actions"&&(a["aria-label"]="Actions"),a},Re="_truncated_c5ban_1",Ve="_noWrap_c5ban_2",Qe="_actions_c5ban_11",Me="_description_c5ban_15",S={truncated:Re,noWrap:Ve,actions:Qe,description:Me},ze=({packageProfiles:t,searchText:a})=>{const{setSidePanelContent:r}=k(),{getAccessGroupQuery:p}=D(),{data:m}=p(),c=(m==null?void 0:m.data.map(({name:o,title:s})=>({label:s,value:o})))??[],l=o=>{r(o.title,e.jsx($e,{profile:o}),"medium")},h=d.useMemo(()=>a?t.filter(o=>o.title.toLowerCase().includes(a.toLowerCase())):t,[t,a]),_=d.useMemo(()=>[{accessor:"name",Header:"Name",Cell:({row:{original:o}})=>e.jsx(n.Button,{type:"button",appearance:"link",className:"u-no-margin--bottom u-no-padding--top u-align-text--left",onClick:()=>l(o),children:o.title})},{accessor:"description",className:v(S.truncated,S.description),Header:"Description"},{accessor:"access_group",Header:"Access group",Cell:({row:{original:{access_group:o}}})=>{var s;return((s=c.find(({value:u})=>u===o))==null?void 0:s.label)??o}},{accessor:"tags",className:S.truncated,Header:"Tags",Cell:({row:{original:{tags:o}}})=>o.join(", ")},{accessor:"computers['non-compliant']",Header:e.jsxs("div",{className:S.noWrap,children:[e.jsx("span",{children:"Not compliant "}),e.jsx(n.Tooltip,{position:"btm-left",message:Le,children:e.jsx(n.Icon,{name:"help"})})]}),Cell:({row:{original:o}})=>e.jsx(e.Fragment,{children:`${o.computers["non-compliant"].length} ${o.computers["non-compliant"].length===1?"instance":"instances"}`})},{accessor:"computers['pending']",Header:e.jsxs("div",{className:S.noWrap,children:[e.jsx("span",{children:"Pending "}),e.jsx(n.Tooltip,{position:"btm-left",message:qe,children:e.jsx(n.Icon,{name:"help"})})]}),Cell:({row:{original:o}})=>{var s,u;return e.jsx(e.Fragment,{children:`${((s=o.computers.pending)==null?void 0:s.length)??0} ${((u=o.computers.pending)==null?void 0:u.length)===1?"instance":"instances"}`})}},{accessor:"computers['constrained']",Header:"Associated",Cell:({row:{original:o}})=>e.jsx(e.Fragment,{children:`${o.computers.constrained.length} ${o.computers.constrained.length===1?"instance":"instances"}`})},{accessor:"actions",className:v("u-align-text--right",S.actions),Header:"Actions",Cell:({row:{original:o}})=>e.jsx(De,{profile:o})}],[h,c.length]);return e.jsx(n.ModularTable,{columns:_,data:h,emptyMsg:`No package profiles found with the search "${a}"`,getCellProps:Be})},He=d.lazy(()=>T(()=>import("./index-BOPeEiTB.js").then(t=>t.i),__vite__mapDeps([31,1,2,3,32,5,29,12,13,14,25,27,28,15,16,17,18,26,19,20]))),We=()=>{const{setSidePanelContent:t}=k(),a=()=>{t("Add package profile",e.jsx(d.Suspense,{fallback:e.jsx(x,{}),children:e.jsx(He,{})}),"medium")};return e.jsx(te,{body:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"You haven’t added any package profile yet."}),e.jsx("a",{href:"https://ubuntu.com/landscape/docs/managing-packages",target:"_blank",rel:"nofollow noopener noreferrer",children:"How to manage packages in Landscape"})]}),cta:[e.jsx(n.Button,{appearance:"positive",onClick:a,children:"Add package profile"},"add")],icon:"package-profiles",title:"No package profiles found"})},Ge=({packageProfiles:t=[]})=>{const[a,r]=d.useState("");return e.jsxs(e.Fragment,{children:[e.jsx(z,{onSearch:p=>r(p)}),e.jsx(ze,{packageProfiles:t,searchText:a})]})},Ue=()=>{const{getPackageProfilesQuery:t}=N(),{data:a,isLoading:r}=t();return e.jsxs(e.Fragment,{children:[r&&e.jsx(x,{}),!r&&(!a||a.data.result.length===0)&&e.jsx(We,{}),!r&&a&&a.data.result.length>0&&e.jsx(Ge,{packageProfiles:a==null?void 0:a.data.result})]})},Ke=d.lazy(()=>T(()=>import("./index-BOPeEiTB.js").then(t=>t.a),__vite__mapDeps([31,1,2,3,32,5,29,12,13,14,25,27,28,15,16,17,18,26,19,20])).then(t=>({default:t.PackageProfileCreateForm}))),Ye=()=>{const{setSidePanelContent:t}=k(),a=()=>{t("Add package profile",e.jsx(d.Suspense,{fallback:e.jsx(x,{}),children:e.jsx(Ke,{})}),"medium")};return e.jsxs(U,{children:[e.jsx(K,{title:"Package profiles",actions:[e.jsx(n.Button,{type:"button",appearance:"positive",onClick:a,children:"Add package profile"},"add-package-profile")]}),e.jsx(Y,{children:e.jsx(Ue,{})})]})},Je=Ye,jt=Object.freeze(Object.defineProperty({__proto__:null,default:Je},Symbol.toStringTag,{value:"Module"}));export{ne as C,V as E,z as H,xt as I,ae as L,ze as P,ft as T,kt as V,se as a,_t as b,Pt as c,bt as d,We as e,jt as i,N as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/index-BCgFb0XR.js","assets/index-7rbqZGOC.js","assets/index-57O3pXzM.css","assets/formik.esm-CYdaNCDR.js","assets/useConfirm-B_JFtESx.js","assets/CellInput-DqTveI6e.js","assets/index.esm-Dndhfijq.js","assets/SidePanelTablePagination-DggXOV9Y.js","assets/TablePagination.module-DLVph1Z1.js","assets/TablePagination-JK-zjkSx.css","assets/PageMain-J6fXnbp-.js","assets/PageMain-DtiowUD8.css","assets/useFetchOld-DEPeqKqM.js","assets/useMutation-CcXaMJpM.js","assets/useQuery-B9bt25H8.js","assets/MultiSelectField.module-D1r8qo_i.js","assets/MultiSelectField-B2rqRhX9.css","assets/AssociationBlock.module-BSYf3X0u.js","assets/AssociationBlock-Cb2Mr2ww.css","assets/SidePanelFormButtons.module-CoxOjuX8.js","assets/SidePanelFormButtons-CR46v8uL.css","assets/InfoItem-CT4qJo1M.js","assets/InfoItem-BbayMzTk.css","assets/EmptyState-Z1WsBfRf.js","assets/EmptyState-BNXajmMK.css","assets/useRoles-Mlgq2EBh.js","assets/SidePanelFormButtons-CjpyfPYH.js","assets/AssociationBlock-6LBfpdNV.js","assets/MultiSelectField-DYLovPBJ.js","assets/useInstances-rbmDqIqq.js","assets/index-BLslklsG.css","assets/index-BOPeEiTB.js","assets/PackageProfileConstraintsBlock-BT6PE4t1.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
