const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Vn_g_ROs.js","assets/index-BSTMQTHR.js","assets/index-DZF0LgVk.js","assets/index-BJ2QPnO2.css","assets/PageMain-DM3E6OWx.js","assets/PageMain-CIunaku7.css","assets/TruncatedCell-BR0xotE4.js","assets/TruncatedCell-DraJKZqh.css","assets/useExpandableRow-XVaXaj3C.js","assets/useRoles-DlzB6KGu.js","assets/HeaderWithSearch-BW1L9XJe.js","assets/HeaderWithSearch-C2lwo0VI.css","assets/AssociationBlock-BLK-eEjG.js","assets/MultiSelectField-CTS0Uvq-.js","assets/MultiSelectField-CD3NDVCz.css","assets/useGetTags-BJ8DSjSn.js","assets/AssociationBlock-vsPH8fvb.css","assets/SidePanelFormButtons-D2oVguFC.js","assets/SidePanelFormButtons.module-BuIu-Bem.js","assets/SidePanelFormButtons-CmV-sWf7.css","assets/helpers-CeElQcBW.js","assets/index-C8M75lnL.css"])))=>i.map(i=>d[i]);
import{P as y,p as R,q as I,n as P,j as e,d as a,I as o,B as E,D,O as T,i as d,w as b,_ as S}from"./index-DZF0LgVk.js";import{B as l}from"./Blocks-7Yxu9fHE.js";import{u as A,R as $}from"./index-BSTMQTHR.js";import{p as k}from"./helpers-CeElQcBW.js";import"./PageMain-DM3E6OWx.js";import"./TruncatedCell-BR0xotE4.js";import"./useExpandableRow-XVaXaj3C.js";import"./useRoles-DlzB6KGu.js";import"./HeaderWithSearch-BW1L9XJe.js";const B={mo:"Monday",tu:"Tuesday",we:"Wednesday",th:"Thursday",fr:"Friday",sa:"Saturday",su:"Sunday"},w=s=>s.length===2?`${s[0]} and ${s[1]}`:s.length>2?`${s.slice(0,-1).join(", ")}, and ${s[s.length-1]}`:s[0]??"",C=s=>{const{freq:t,on_days:n}=k(s.schedule);if(t!=="weekly"||!n.length)return"One-time";const r=n.map(i=>B[i.toLowerCase()]);return`Every week on ${w(r)}`},x=d.lazy(async()=>S(()=>import("./index-Vn_g_ROs.js").then(s=>s.i),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]))),G=({accessGroupOptions:s,profile:t})=>{const{value:n,setFalse:r,setTrue:u}=y(),i=R(),{notify:j}=I(),{closeSidePanel:p,setSidePanelContent:m}=P(),{removeRebootProfile:g,isRemovingRebootProfile:h}=A(),v=async()=>{try{await g({id:t.id}),p(),j.success({title:"Reboot profile removed",message:`Reboot profile ${t.title} has been removed`})}catch(c){i(c)}},f=()=>{m(`Edit "${t.title}" profile`,e.jsx(d.Suspense,{fallback:e.jsx(b,{}),children:e.jsx(x,{action:"edit",profile:t})}))},_=()=>{m(`Duplicate "${t.title}" profile`,e.jsx(d.Suspense,{fallback:e.jsx(b,{}),children:e.jsx(x,{action:"duplicate",profile:t})}))};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-segmented-control",children:[e.jsxs(a.Button,{type:"button",hasIcon:!0,className:"p-segmented-control__button",onClick:f,"aria-label":`Edit reboot profile ${t.title}`,children:[e.jsx(a.Icon,{name:"edit"}),e.jsx("span",{children:"Edit"})]}),e.jsxs(a.Button,{type:"button",hasIcon:!0,className:"p-segmented-control__button",onClick:_,"aria-label":`Edit reboot profile ${t.title}`,children:[e.jsx(a.Icon,{name:"canvas"}),e.jsx("span",{children:"Duplicate"})]}),e.jsxs(a.Button,{className:"p-segmented-control__button has-icon",type:"button",hasIcon:!0,onClick:u,"aria-label":`Remove reboot profile ${t.title}`,children:[e.jsx(a.Icon,{name:a.ICONS.delete}),e.jsx("span",{children:"Remove"})]})]}),e.jsxs(l,{children:[e.jsx(l.Item,{children:e.jsxs(o,{children:[e.jsx(o.Item,{label:"Title",value:t.title}),e.jsx(o.Item,{label:"Access group",value:s.find(({value:c})=>c===t.access_group)?.label??t.access_group})]})}),e.jsx(l.Item,{title:"Reboot schedule",children:e.jsxs(o,{children:[e.jsx(o.Item,{label:"Schedule",large:!0,value:C(t)}),e.jsx(o.Item,{label:"Next reboot",large:!0,value:E(t.next_run).format(D)})]})}),e.jsxs(l.Item,{title:"Association",children:[t.all_computers&&e.jsx("p",{children:"This profile has been associated with all instances."}),!t.all_computers&&!t.tags.length&&e.jsx("p",{children:"This profile has not yet been associated with any instances."}),(t.all_computers||!!t.tags.length)&&e.jsxs(o,{children:[!t.all_computers&&e.jsx(o.Item,{label:"Tags",large:!0,value:t.tags.join(", ")||null,type:"truncated"}),e.jsx(o.Item,{label:"Associated instances",large:!0,value:e.jsx($,{rebootProfile:t})})]})]})]}),e.jsx(T,{isOpen:n,title:"Remove reboot profile",confirmButtonLabel:"Remove",confirmButtonAppearance:"negative",onConfirm:v,confirmButtonDisabled:h,confirmButtonLoading:h,close:r,confirmationText:`remove ${t.title}`,children:e.jsxs("p",{children:['Are you sure you want to remove "',t.title,'" reboot profile? The removal of "',t.title,'" reboot profile is irreversible and might adversely affect your system.']})})]})};export{G as default};
