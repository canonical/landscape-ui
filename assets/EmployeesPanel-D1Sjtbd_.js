import{r,j as e,ak as d,ag as h,c as y,E as g,m as E,o as f,ah as x}from"./index-BLUNVNi0.js";import{u as j,g as v,c as _}from"./EmployeeGroupIdentityIssuerList-azxMpJ8f.js";import{H as F}from"./HeaderWithSearch-CuoLt-7V.js";import"./index-C6dMcHjK.js";import{g as T,E as b}from"./helpers-cy92xJPM.js";import{u as G}from"./useGetEmployeeGroups-BmwuNMPG.js";import{u as P,E as S}from"./EmployeeList-v2bHbGVX.js";import"./TruncatedCell-Dck5yj2C.js";const w=[{label:"All",value:""},{label:"Active",value:"active"},{label:"Inactive",value:"inactive"}],O="_filters_1bctl_1",A={filters:O},I=()=>{const{employeeGroups:t}=G({},{listenToUrlParams:!1}),{autoinstallFiles:s}=j(),o=r.useMemo(()=>T(t),[t]),a=r.useMemo(()=>v(s),[s]);return e.jsxs(e.Fragment,{children:[e.jsx(F,{actions:e.jsxs("div",{className:A.filters,children:[e.jsx(b,{options:o}),e.jsx(_,{options:a}),e.jsx(d,{options:w})]})}),e.jsx(h,{filtersToDisplay:["autoinstallFiles","employeeGroups","search","status"],employeeGroupOptions:o,autoinstallFileOptions:a})]})},u=1e5,c={title:"No employees found",body:"Employees will appear here once they authenticate using your organizationâ€™s OIDC provider. You will see details about each user, their status, and associated instances."},L=t=>{switch(t){case"active":return!0;case"inactive":return!1;default:return}},U=()=>{const{status:t,employeeGroups:s,autoinstallFiles:o,search:a}=y(),{employees:i,isPending:n,count:l}=P({with_autoinstall_file:!0,with_computers:!0,with_groups:!0,is_active:L(t),employee_group_ids:s.length>0?s:void 0,autoinstall_file_ids:o.length>0?o:void 0,search:a}),p=r.useMemo(()=>i,[i]),m=i&&l&&l>=u;return!n&&l===0&&s.length===0&&o.length===0&&t===""&&a===""?e.jsx(g,{title:c.title,body:c.body}):e.jsxs(e.Fragment,{children:[e.jsx(I,{}),m?e.jsx(E.Notification,{severity:"caution",children:e.jsxs("span",{children:[e.jsx("strong",{children:"Employee limit reached:"})," You have reached the limit of ",u.toLocaleString()," employees. To allow new registrations, delete deactivated users."]})}):null,n?e.jsx(f,{}):e.jsx(S,{employees:p}),e.jsx(x,{totalItems:l,currentItemCount:i.length})]})};export{U as default};
