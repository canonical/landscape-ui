import{r as i,j as t,P as u,g as r,y as b,n as g,J as p,f as y,S as f}from"./index-Bj3y1t-6.js";import{P as v,a as x,b as P}from"./PageMain-BzoqSo_G.js";try{let a=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},e=new a.Error().stack;e&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[e]="4fc9ca75-a336-484e-845c-ca492aa71b11",a._sentryDebugIdIdentifier="sentry-dbid-4fc9ca75-a336-484e-845c-ca492aa71b11")}catch{}const h={enabled:!0,id:-1,name:"Ubuntu One",provider:"ubuntu-one"},m=({oidcAvailable:a,oidcProviders:e,ubuntuOneAvailable:s,ubuntuOneEnabled:o})=>{const d=i.useMemo(()=>[...[{...h,enabled:o}].slice(s?0:1),...e.slice(a?0:e.length)],[e,a,s,o]),l=d.filter(({enabled:n})=>n).length>1,c=i.useMemo(()=>[{accessor:"name",Header:"Name"},{accessor:"enabled",Header:"Status",Cell:({row:{original:n}})=>n.enabled?"Enabled":"Disabled",getCellIcon:({row:{original:n}})=>n.enabled?"status-succeeded-small":"status-queued-small"},{accessor:"provider",Header:"Provider"},{accessor:"actions",className:"u-align--right",Header:"Actions",Cell:({row:{original:n}})=>t.jsx(u,{canBeDisabled:l,provider:n})}],[d]);return t.jsx(r.ModularTable,{columns:c,data:d})},j=()=>{const{getLoginMethodsQuery:a}=b(),{data:e,isLoading:s}=a();return t.jsxs(t.Fragment,{children:[s&&t.jsx(g,{}),!s&&(!e||!e.data.ubuntu_one.available&&e.data.oidc.configurations.length===0)&&t.jsx(p,{}),!s&&e&&(e.data.ubuntu_one.available||e.data.oidc.available&&e.data.oidc.configurations.length>0)&&t.jsx(m,{oidcAvailable:e.data.oidc.available,oidcProviders:e.data.oidc.configurations,ubuntuOneAvailable:e.data.ubuntu_one.available,ubuntuOneEnabled:e.data.ubuntu_one.enabled})]})},w=()=>{const{setSidePanelContent:a}=y(),e=()=>{a("Choose an identity provider",t.jsx(f,{}))};return t.jsxs(v,{children:[t.jsx(x,{title:"Identity Providers",actions:[t.jsx(r.Button,{type:"button",appearance:"positive",onClick:e,children:"Add identity provider"},"add-identity-provider")]}),t.jsx(P,{children:t.jsx(j,{})})]})};export{w as default};
