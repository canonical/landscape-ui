import{j as a,d as c}from"./index-BQ4lKZ_y.js";import{M as i}from"./MultiSelectField-CYSmVtlI.js";import{u}from"./useInstances-DOwT-vNv.js";const r="_chips_v4ckc_1",p={chips:r},h=({formik:s})=>{const{getAllInstanceTagsQuery:n}=u(),{data:o}=n(),l=o?.data.results.map(e=>({label:e,value:e}))??[];return a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"u-no-margin--bottom",children:"Association"}),a.jsx(c.CheckboxInput,{label:"Associate to all instances",...s.getFieldProps("all_computers"),checked:s.values.all_computers}),!s.values.all_computers&&a.jsxs(a.Fragment,{children:[a.jsx(i,{label:"Tags",labelClassName:"u-off-screen",disabled:s.values.all_computers,placeholder:"Search and add tags",...s.getFieldProps("tags"),items:l,selectedItems:l.filter(({value:e})=>s.values.tags.includes(e)),onItemsUpdate:async e=>s.setFieldValue("tags",e.map(({value:t})=>t))}),a.jsx("div",{className:p.chips,children:s.values.tags.map(e=>a.jsx(c.Chip,{className:"u-no-margin--bottom u-no-margin--right",value:e,onDismiss:async()=>s.setFieldValue("tags",s.values.tags.filter(t=>t!==e))},e))})]})]})};export{h as A};
