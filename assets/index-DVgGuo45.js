import{z as _,l as f,Z as y,r as a,v as S,$ as g,a0 as h,j as s,n as x}from"./index-uBNuGD_s.js";import{S as B}from"./SidePanelFormButtons-CqnuUz9i.js";import{u as P}from"./useSecurityProfileForm-BI2KNtVj.js";import"./SidePanelFormButtons.module-D2P5PizG.js";import"./AssociationBlock-CN2USJHv.js";import"./MultiSelectField-DOFnZ5Iz.js";import"./useInstances-D8I8Bnnt.js";import"./FileInput-Drmm1H1W.js";import"./Flow-wX2l8jRx.js";import"./useOrgSettings-BZRt0GE1.js";import"./useRoles-1TXi8Zi1.js";import"./formikErrors-Bw8iTXYS.js";import"./RadioGroup-DkShVFkF.js";const b="_step_koqdi_1",j={step:b},R=({onSuccess:n})=>{const{notify:l}=_(),{setSidePanelTitle:d}=f(),{addSecurityProfile:m,isSecurityProfileAdding:o}=y(),[t,i]=a.useState(0),{formik:u,steps:e}=P({initialValues:{all_computers:!1,access_group:"global",day_of_month_type:"day-of-month",days:[],delivery_time:"asap",end_date:"",end_type:"never",every:7,months:[],randomize_delivery:"no",restart_deliver_delay_window:1,restart_deliver_delay:1,start_date:S().utc().format(g),start_type:"",tags:[],tailoring_file:null,title:"",unit_of_time:"DAILY"},mutate:m,onSuccess:r=>{h(r,l),n(r)}});a.useEffect(()=>{d(s.jsxs(s.Fragment,{children:["Add security profile",s.jsxs("small",{className:x(j.step,"u-text--muted"),children:["Step ",t+1," of ",e.length]})]}))},[t]);const c=()=>{i(t-1)},p=()=>{t<e.length-1?i(t+1):u.handleSubmit()};return s.jsxs(s.Fragment,{children:[s.jsx("p",{children:e[t].description}),e[t].content,s.jsx(B,{hasBackButton:t>0,onBackButtonPress:t>0?c:void 0,onSubmit:p,submitButtonDisabled:e[t].isLoading||!e[t].isValid||o,submitButtonLoading:e[t].isLoading||o,submitButtonText:e[t].submitButtonText})]})};export{R as default};
