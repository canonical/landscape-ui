import{h as d,o as l,p,x as f,y,j as r,a6 as g}from"./index-_GBNEgML.js";import{u as v}from"./useRemoveInstancesFromLandscape-CqDVRjN-.js";const x=()=>{const t=d(),e=l(),{isPending:n,mutateAsync:a}=p({mutationKey:["instance","sanitize"],mutationFn:async({computer_id:s,...o})=>t.post(`computers/${s}/sanitize`,o),onSuccess:async()=>e.invalidateQueries({queryKey:["instances"]})});return{sanitizeInstance:a,isSanitizingInstance:n}},F=({close:t,instance:e,isOpen:n,onSuccess:a})=>{const s=f(),{notify:o}=y(),{removeInstancesFromLandscape:c,isRemovingInstancesFromLandscape:i}=v(),m=async()=>{try{await c({computer_ids:[e.id]}),o.success({title:`You have successfully removed ${e.title} from Landscape.`,message:`${e.title} has been removed from Landscape. To manage it again, you will need to re-register it in Landscape.`}),a?.()}catch(u){s(u)}finally{t()}};return r.jsx(g,{isOpen:n,close:t,title:`Remove ${e.title} from Landscape`,confirmButtonLabel:"Remove",confirmButtonAppearance:"negative",confirmButtonDisabled:i,confirmButtonLoading:i,confirmationText:`remove ${e.title}`,onConfirm:m,children:r.jsx("p",{children:"This will delete all associated data and free up one license slot for another computer to be registered. You can re-register it to Landscape at any time."})})};export{F as I,x as u};
