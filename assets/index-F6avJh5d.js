import{j as t,a as I,O as a,I as e,L as c,R as n,x as l,P as o}from"./index-B8b5RWTQ.js";import{P as p}from"./ProfileAssociationInfo-DNkfOZZ8.js";import{b as v}from"./ScriptsTabs-D2muThN1.js";import"./index-C6r1s6VY.js";import{u as b}from"./useRoles-BQau3qF0.js";import{g as S,a as _,S as h}from"./index-C9wxC44e.js";import"./constants-C21-NywW.js";import"./TextConfirmationModal-DAl1a2_8.js";import"./HeaderWithSearch-Dy5Limb4.js";import"./SingleInstanceTabs.module-Cm1BYFZQ.js";import"./ProfileAssociatedInstancesLink-DrO-3ZOW.js";const $=({profile:s})=>{const{script:i,isScriptLoading:u}=v(s.script_id),{getAccessGroupQuery:m}=b(),{data:x,isLoading:g}=m();if(u||g)return t.jsx(I,{});const d=x?.data.find(j=>j.name==s.access_group)?.title||s.access_group,r=s.activities.last_activity;return t.jsxs(a,{children:[t.jsx(a.Item,{children:t.jsxs(e,{children:[t.jsx(e.Item,{label:"Title",value:s.title}),t.jsx(e.Item,{label:"Status",value:S(s)}),t.jsx(e.Item,{label:"Script",value:i?t.jsx(c,{to:n.scripts.root({tab:"scripts"}),state:{scriptId:i.id},children:i.title}):null}),t.jsx(e.Item,{label:"Access group",value:d}),t.jsx(e.Item,{label:"Run as user",value:s.username}),t.jsx(e.Item,{label:"Time limit",value:`${s.time_limit}s`})]})}),t.jsx(a.Item,{children:t.jsxs(e,{children:[t.jsx(e.Item,{label:"Trigger",large:!0,value:_(s)}),s.trigger.trigger_type!=="event"&&t.jsx(e.Item,{label:"Next run",value:s.trigger.next_run?`${l(s.trigger.next_run).utc().format(o)}`:null}),t.jsx(e.Item,{label:"Last run",value:r?t.jsx(c,{to:n.activities.root({query:`parent-id:${r.id}`}),children:l(r.creation_time).utc().format(o)}):null})]})}),t.jsx(a.Item,{title:"Association",children:t.jsx(p,{profile:s,children:t.jsxs(e,{children:[t.jsx(e.Item,{label:"Associated instances",large:!0,value:t.jsx(h,{scriptProfile:s})}),t.jsx(e.Item,{label:"Tags",large:!0,value:s.tags.join(", "),type:"truncated"})]})})})]})};export{$ as default};
