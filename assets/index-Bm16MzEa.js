import{c as w,l,d as p,j as e,e as r}from"./index-USfFY6y3.js";import{S as P}from"./SidePanelFormButtons-eq1cIORy.js";import{u as h}from"./index-BcX5sVs5.js";import{u as g}from"./formik.esm-C4aerYG-.js";import{c as b,a as t}from"./index.esm-D9RDGm6v.js";import"./SidePanelFormButtons.module-CoxOjuX8.js";import"./PageMain-BxDaTx_L.js";import"./useMutation-DY_6kw1u.js";import"./useQuery-BXclWMSX.js";import"./EmptyState-C3F4hI0m.js";const f=()=>{const a=w(),{notify:n}=l(),{closeSidePanel:d}=p(),{changePassword:i}=h(),{mutateAsync:u,isLoading:c}=i,s=g({initialValues:{currentPassword:"",newPassword:""},validationSchema:b().shape({currentPassword:t().required("This field is required"),newPassword:t().required("This field is required").min(8,"Password must be at least 8 characters long").matches(/[a-z]/,"Password must contain at least one lowercase letter").matches(/[A-Z]/,"Password must contain at least one uppercase letter").matches(/[0-9]/,"Password must contain at least one number")}),onSubmit:async o=>{try{u({password:o.currentPassword,new_password:o.newPassword}),d(),n.success({message:"Password changed successfully"})}catch(m){a(m)}}});return e.jsxs(r.Form,{noValidate:!0,onSubmit:s.handleSubmit,children:[e.jsx(r.Input,{label:"Current",type:"password",required:!0,autoComplete:"current-password",error:s.touched.currentPassword&&s.errors.currentPassword?s.errors.currentPassword:void 0,...s.getFieldProps("currentPassword")}),e.jsx(r.PasswordToggle,{required:!0,id:"new-password",label:"New password",help:"Password must contain lowercase letters, uppercase letters, numbers and be minimum 8 characters long",autoComplete:"new-password",error:s.touched.newPassword&&s.errors.newPassword?s.errors.newPassword:void 0,...s.getFieldProps("newPassword")}),e.jsx(P,{submitButtonDisabled:c,submitButtonText:"Save changes"})]})},D=f;export{D as default};
