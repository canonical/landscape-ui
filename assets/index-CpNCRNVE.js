const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CjDX2_F1.js","assets/index-oHELamW6.js","assets/index-tBQFzVrl.css","assets/AssociationBlock-BO--HRt8.js","assets/MultiSelectField-Ccwo0J7a.js","assets/MultiSelectField-GyNA33om.css","assets/useInstances-T7pkMqt6.js","assets/AssociationBlock-DQBJa-xL.css","assets/SidePanelFormButtons-CoDSai3y.js","assets/SidePanelFormButtons.module-D2P5PizG.js","assets/SidePanelFormButtons-JM1G8Sq6.css","assets/useRoles-D_--rcor.js","assets/index-D9nazDmF.js","assets/PageMain-BdjJHk-q.js","assets/PageMain--v5xNZ5p.css","assets/HeaderWithSearch-BB_CpSjU.js","assets/HeaderWithSearch-C2lwo0VI.css","assets/index-CnkZdCe6.css","assets/WslInstancesHeader-BS5dbry2.js","assets/WslInstancesHeader-Dj3EjS23.css","assets/constants-CGmSpzVx.js","assets/index-_v2C-3Y0.css","assets/index-BMTHiIrw.js","assets/FileInput-CHYOBN1-.js","assets/CodeEditor-B3FMDmtk.js","assets/index-BY2iVtCr.js","assets/CodeEditor-CwlLRp3p.css"])))=>i.map(i=>d[i]);
import{r as a,y as N,z as W,l as E,j as e,m as n,I as t,N as R,a2 as S,o as u,_ as x}from"./index-oHELamW6.js";import{u as k}from"./index-D9nazDmF.js";import"./PageMain-BdjJHk-q.js";import"./useRoles-D_--rcor.js";import"./HeaderWithSearch-BB_CpSjU.js";const D="_block_1i2to_1",h={block:D},z=a.lazy(async()=>x(()=>import("./index-CjDX2_F1.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]))),L=a.lazy(async()=>x(()=>import("./index-BMTHiIrw.js"),__vite__mapDeps([22,1,2,3,4,5,6,7,8,9,10,11,20,23,18,15,16,19,12,13,14,17,24,25,26,21]))),w=({profile:s,accessGroupOptions:j})=>{var d,m;const[g,o]=a.useState(!1),p=N(),{notify:b}=W(),{closeSidePanel:_,setSidePanelContent:c}=E(),{removeWslProfileQuery:v}=k(),{mutateAsync:y,isPending:i}=v,f=()=>{o(!0)},r=()=>{o(!1)},P=async()=>{try{await y({name:s.name}),r(),_(),b.success({message:`WSL profile "${s.title}" removed successfully.`,title:"WSL profile removed"})}catch(l){p(l)}},C=()=>{c(`Edit "${s.title}" profile`,e.jsx(a.Suspense,{fallback:e.jsx(u,{}),children:e.jsx(z,{profile:s})}))},I=()=>{c(`Duplicate "${s.title}" profile`,e.jsx(a.Suspense,{fallback:e.jsx(u,{}),children:e.jsx(L,{action:"duplicate",profile:s})}))};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-segmented-control",children:[e.jsxs(n.Button,{type:"button",hasIcon:!0,className:"p-segmented-control__button",onClick:C,children:[e.jsx(n.Icon,{name:"edit"}),e.jsx("span",{children:"Edit"})]}),e.jsxs(n.Button,{type:"button",hasIcon:!0,className:"p-segmented-control__button",onClick:I,children:[e.jsx(n.Icon,{name:"canvas"}),e.jsx("span",{children:"Duplicate"})]}),e.jsxs(n.Button,{type:"button",hasIcon:!0,className:"p-segmented-control__button","aria-label":`Remove ${s.title} profile`,onClick:f,children:[e.jsx(n.Icon,{name:n.ICONS.delete}),e.jsx("span",{children:"Remove"})]})]}),e.jsxs(n.Row,{className:"u-no-padding--left u-no-padding--right",children:[e.jsx(n.Col,{size:6,children:e.jsx(t,{label:"name",value:s.title})}),e.jsx(n.Col,{size:6,children:e.jsx(t,{label:"access group",value:((d=j.find(({value:l})=>l===s.access_group))==null?void 0:d.label)??s.access_group})}),e.jsx(t,{label:"description",value:s.description}),e.jsxs("div",{className:h.block,children:[e.jsx(t,{label:"rootfs image name",value:s.image_name}),s.image_source&&e.jsx(t,{type:"truncated",label:"rootfs image source",value:s.image_source}),e.jsx(t,{label:"cloud init",value:s.cloud_init_contents||"N/A"})]}),e.jsxs("div",{className:h.block,children:[e.jsx("p",{className:"p-heading--5",children:"Association"}),s.all_computers&&e.jsx("p",{children:"This profile has been associated with all instances."}),!s.all_computers&&!s.tags.length&&e.jsx("p",{children:"This profile has not yet been associated with any instances."}),!s.all_computers&&s.tags.length>0&&e.jsx(t,{label:"tags",value:s.tags.length?s.tags.join(", "):e.jsx(R,{})})]}),e.jsx(n.Col,{size:12,children:e.jsx(t,{label:"associated",value:`${s.computers.constrained.length} instances`})}),e.jsx(n.Col,{size:6,children:e.jsx(t,{label:"not compliant",value:`${s.computers["non-compliant"].length} instances`})}),e.jsx(n.Col,{size:6,children:e.jsx(t,{label:"pending",value:`${((m=s.computers.pending)==null?void 0:m.length)??0} instances`})})]}),e.jsx(S,{isOpen:g,close:r,onConfirm:P,title:"Remove WSL profile",confirmButtonLabel:"Remove",confirmButtonAppearance:"negative",confirmButtonDisabled:i,confirmButtonLoading:i,confirmationText:`remove ${s.name}`,children:e.jsxs("p",{children:["Removing this profile will affect"," ",e.jsxs("b",{children:[s.computers.constrained.length," instances"]}),". This action is ",e.jsx("b",{children:"irreversible"}),"."]})})]})};export{w as default};
