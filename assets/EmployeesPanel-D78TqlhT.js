import{r,j as e,E as d,g as h,n as y}from"./index-ByADQnPs.js";import{T as f}from"./TablePagination-BQvrOeIR.js";import{u as g}from"./usePageParams-5nFqhiQZ.js";import{S as E}from"./StatusFilter-CTul-nBV.js";import{u as x,g as j,c as v}from"./EmployeeGroupIdentityIssuerList-B-CYBRo3.js";import{T as _}from"./TableFilterChips-B0xVlNvZ.js";import{H as T}from"./HeaderWithSearch-Cqvt7mQJ.js";import"./index-BUG3Yipx.js";import{g as F,E as S}from"./helpers-B_5Yq_-w.js";import{u as b}from"./useGetEmployeeGroups-Cvr9H3PJ.js";import{u as G,E as P}from"./EmployeeList-BSoq_qs4.js";import"./TablePaginationBase-C43SLHIs.js";import"./TableFilter-BS-fqEh_.js";import"./TruncatedCell-dRAwLE2Y.js";import"./NoData-DItfLEGM.js";const w=[{label:"All",value:""},{label:"Active",value:"active"},{label:"Inactive",value:"inactive"}],O="_filters_1bctl_1",A={filters:O},I=()=>{const{employeeGroups:t}=b({},{listenToUrlParams:!1}),{autoinstallFiles:s}=x(),o=r.useMemo(()=>F(t),[t]),i=r.useMemo(()=>j(s),[s]);return e.jsxs(e.Fragment,{children:[e.jsx(T,{actions:e.jsxs("div",{className:A.filters,children:[e.jsx(S,{options:o}),e.jsx(v,{options:i}),e.jsx(E,{options:w})]})}),e.jsx(_,{filtersToDisplay:["autoinstallFiles","employeeGroups","search","status"],employeeGroupOptions:o,autoinstallFileOptions:i})]})},u=1e5,m={title:"No employees found",body:"Employees will appear here once they authenticate using your organizationâ€™s OIDC provider. You will see details about each user, their status, and associated instances."},L=t=>{switch(t){case"active":return!0;case"inactive":return!1;default:return}},Q=()=>{const{status:t,employeeGroups:s,autoinstallFiles:o,search:i}=g(),{employees:a,isPending:n,count:l}=G({with_autoinstall_file:!0,with_computers:!0,with_groups:!0,is_active:L(t),employee_group_ids:s.length>0?s:void 0,autoinstall_file_ids:o.length>0?o:void 0,search:i}),p=r.useMemo(()=>a,[a]),c=a&&l&&l>=u;return!n&&l===0&&s.length===0&&o.length===0&&t===""&&i===""?e.jsx(d,{title:m.title,body:m.body}):e.jsxs(e.Fragment,{children:[e.jsx(I,{}),c?e.jsx(h.Notification,{severity:"caution",children:e.jsxs("span",{children:[e.jsx("strong",{children:"Employee limit reached:"})," You have reached the limit of ",u.toLocaleString()," employees. To allow new registrations, delete deactivated users."]})}):null,n?e.jsx(y,{}):e.jsx(P,{employees:p}),e.jsx(f,{totalItems:l,currentItemCount:a.length})]})};export{Q as default};
