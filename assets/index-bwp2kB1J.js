import{j as e,at as x,an as k,r as f,O as j,c as S,au as v,p as y,ap as I}from"./index-B6Stkoqq.js";import{P as b,a as N,b as L}from"./useUsns-Ck9Sz1MS.js";import{H as T}from"./HeaderWithSearch-dEINsbCe.js";import"./ResponsiveButtons-BHBlJ0TB.js";const g=[{label:"All",value:""},{label:"Upgrades",value:"upgrade"},{label:"Security upgrades",value:"security"},{label:"Held",value:"held"}],A="_actions_dhdem_1",F={actions:A},_=({handleClearSelection:s,selectedPackages:t})=>e.jsxs(e.Fragment,{children:[e.jsx(T,{afterSearch:s,actions:e.jsxs("div",{className:F.actions,children:[e.jsx(x,{options:g}),e.jsx(b,{selectedPackages:t})]})}),e.jsx(k,{filtersToDisplay:["search","status"],statusOptions:g})]}),H=(s,t)=>{let a;return s===""?a="No packages found":s==="upgrade"?a="No available upgrades found":s==="security"?a="No available security upgrades found":s==="installed"?a="No installed packages found":a="No held packages found",t?`${a} with the search "${t}"`:a},Q=()=>{const[s,t]=f.useState([]),{instanceId:a,childInstanceId:p}=j(),{status:n,search:l,currentPage:r,pageSize:c}=S(),{getInstancePackagesQuery:m}=N(),{state:o}=v(),h=Number(p??a),d=()=>{t([])},{data:{data:i}={data:{count:0,results:[]}},isLoading:u}=m({instance_id:h,search:l,limit:c,offset:r*c-c,installed:!n||void 0,upgrade:n==="upgrade"||void 0,held:n==="held"||void 0,security:n==="security"||void 0});return e.jsxs(e.Fragment,{children:[!l&&!n&&r===1&&c===20&&u?e.jsx(y,{}):e.jsxs(e.Fragment,{children:[e.jsx(_,{selectedPackages:s,handleClearSelection:d}),e.jsx(L,{packages:i.results,packagesLoading:u,selectedPackages:s,onPackagesSelect:P=>{t(P)},emptyMsg:H(n,l),selectAll:!!(o!=null&&o.selectAll)})]}),e.jsx(I,{handleClearSelection:d,totalItems:i.count,currentItemCount:i.results.length})]})};export{Q as default};
