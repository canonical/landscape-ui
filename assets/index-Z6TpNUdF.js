import{m as d,f as p,r as o,j as e,ak as c,L as S,G as f,R as g,Z as m,d as v,l as y,i as A,E as x}from"./index-BniO5lih.js";import{S as E}from"./SidePanelTablePagination-C6dKV_fX.js";const T=({id:i,...s})=>{const t=d(),{data:a,isLoading:r}=p({queryKey:["scriptProfileActivities",{id:i,...s}],queryFn:async()=>t.get(`script-profiles/${i}/activities`,{params:s})});return{activities:a?.data.results??[],activitiesCount:a?.data.count,isGettingActivities:r}},P=({activities:i})=>{const s=o.useMemo(()=>[{Header:"Run",accessor:"creation_time",Cell:({row:{original:t}})=>e.jsx(S,{className:"font-monospace",to:g.activities.root({query:`parent-id:${t.id}`}),children:f(t.creation_time).utc().format(m)})},{Header:"Status",accessor:"activity_status",Cell:({row:{original:t}})=>c[t.activity_status].label,getCellIcon:({row:{original:t}})=>c[t.activity_status].icon}],[i]);return e.jsx(v.ModularTable,{columns:s,data:i})},j=({profile:i})=>{const[s,t]=o.useState(1),[a,r]=o.useState(y),{activities:n,activitiesCount:u,isGettingActivities:l}=T({id:i.id,limit:a,offset:(s-1)*a});return l?e.jsx(A,{}):n.length?e.jsxs(e.Fragment,{children:[e.jsx(P,{activities:n}),e.jsx(E,{currentPage:s,pageSize:a,paginate:t,setPageSize:r,totalItems:u})]}):e.jsx(x,{title:"No runs found",body:"The profile has not run yet."})};export{j as default};
