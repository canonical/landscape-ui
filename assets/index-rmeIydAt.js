const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-D1Z2vo2X.js","assets/index-P3tcVer_.js","assets/index-CjWED4RU.css","assets/SidePanelFormButtons-CEx4Wy-H.js","assets/SidePanelFormButtons.module-D2P5PizG.js","assets/SidePanelFormButtons-JM1G8Sq6.css","assets/usePageParams-CZXld3eS.js","assets/useEditScript-Dn0325Yb.js","assets/useFetchOld-BGcQOp2P.js","assets/ScriptsTabs-C3hIDC9c.js","assets/TablePagination-9PvQlVgk.js","assets/TablePaginationBase-DrquMGK2.js","assets/TablePaginationBase-CJl3HN1X.css","assets/NoData-DfvYDVkG.js","assets/TruncatedCell-D_3fzDwd.js","assets/TruncatedCell-CoXbu3VM.css","assets/StatusFilter-BjWN4DdL.js","assets/TableFilter-DTXx6h3i.js","assets/TableFilter-CNw_lMaf.css","assets/TableFilterChips-HMcdOmXT.js","assets/TableFilterChips-CHqetGbX.css","assets/HeaderWithSearch-DCz7Mge8.js","assets/HeaderWithSearch-C2lwo0VI.css","assets/SingleInstanceTabs.module-Cm1BYFZQ.js","assets/SingleInstanceTabs-9EpKZLyq.css","assets/index-BbHeewcZ.js","assets/ScriptsTabs-CNG6qEx6.css"])))=>i.map(i=>d[i]);
import{f as _,e as m,g as p,r as n,j as e,h as i,D as v,o as c,_ as x}from"./index-P3tcVer_.js";import{h as y}from"./usePageParams-CZXld3eS.js";const h=t=>{const a=_(),{data:o,isLoading:r}=m({queryKey:["scripts","versions",t],queryFn:async()=>a.get(`scripts/${t}/versions`)});return{versions:(o==null?void 0:o.data.results)??[],isVersionsLoading:r}},g="_version_1w5gk_1",j={version:g},b=n.lazy(async()=>x(()=>import("./index-D1Z2vo2X.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26]))),V=({script:t,viewVersionHistory:a})=>{const{setSidePanelContent:o}=p(),{versions:r,isVersionsLoading:d}=h(t.id),u=s=>{o(s.title,e.jsx(n.Suspense,{fallback:e.jsx(c,{}),children:e.jsx(b,{scriptId:t.id,scriptVersion:s,goBack:a,isArchived:t.status==="ARCHIVED"})}))},l=n.useMemo(()=>[{accessor:"version_number",Header:"Version",className:j.version,Cell:({row:{original:s}})=>e.jsx(i.Button,{type:"button",appearance:"link",className:"u-no-margin--bottom u-no-padding--top",onClick:()=>{u(s)},children:s.version_number})},{accessor:"created_at",Header:"Created",Cell:({row:{original:s}})=>e.jsxs(e.Fragment,{children:[y(s.created_at).format(v)," by"," ",s.created_by.name]})}],[r]);return d?e.jsx(c,{}):e.jsx(i.ModularTable,{columns:l,data:r})};export{V as default};
