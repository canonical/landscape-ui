const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DIeEoLkP.js","assets/index-Bj3y1t-6.js","assets/index-D38JayDC.css","assets/UdebCheckboxInput-CGwqsW47.js","assets/UdebCheckboxInput-mCgCMP_S.css","assets/SidePanelFormButtons-dpQcLrQ5.js","assets/SidePanelFormButtons.module-tJTvEwdD.js","assets/SidePanelFormButtons-Cl1KfOFD.css","assets/useGPGKeys-CovwgpEt.js","assets/useFetchOld-BtTLYE3Q.js","assets/formikErrors-Dz7WiKjY.js","assets/usePageParams-CXSkxOFx.js","assets/tests-DQ3sX2Nf.js","assets/NoData-D4e57A2j.js","assets/index-DQHzbw7N.js","assets/TablePagination-CdVMJYdj.js","assets/TablePaginationBase-CXsMC9fV.js","assets/TablePaginationBase-CJl3HN1X.css","assets/StatusFilter-DVQJH1hk.js","assets/TableFilter-Bt7vmO0n.js","assets/TableFilter-DXBG6q86.css","assets/TableFilterChips-D1Inrseb.js","assets/TableFilterChips-CHqetGbX.css","assets/index-geI-abAU.css","assets/index-DCjFE0oa.js","assets/SidePanelTablePagination-C9_fTFTY.js","assets/index-B3N-WETI.css","assets/index-CekuL2H1.js","assets/debug-DGcPR_wm.js","assets/debug-CHNhm1j1.css","assets/MultiSelectField-BaWeYjGS.js","assets/MultiSelectField-GyNA33om.css","assets/index-CTZ5jHaJ.js","assets/index-BApJG-9y.js","assets/index-Di7X3FUl.js","assets/useRoles-BuiQ5OVH.js"])))=>i.map(i=>d[i]);
import{b as K,c as _,d as I,f as T,j as n,g as r,r as p,n as S,_ as L,B as N,N as Z,D as J,m as h,p as Q,I as $,V as X,E as ee,a0 as ne}from"./index-Bj3y1t-6.js";import{u as R}from"./useFetchOld-BtTLYE3Q.js";import{h as O}from"./usePageParams-CXSkxOFx.js";import{N as ae}from"./NoData-D4e57A2j.js";import{a as H,b as te}from"./index-DQHzbw7N.js";try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},a=new e.Error().stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="a76c4514-d31b-443d-951c-bfad7cbefaa5",e._sentryDebugIdIdentifier="sentry-dbid-a76c4514-d31b-443d-951c-bfad7cbefaa5")}catch{}function se(){const e=K(),a=R(),s=(m={},l={})=>I({queryKey:["distributions"],queryFn:async()=>a.get("GetDistributions",{params:m}),...l}),d=_({mutationKey:["distributions","new"],mutationFn:async m=>a.get("CreateDistribution",{params:m}),onSuccess:async()=>e.invalidateQueries({queryKey:["distributions"]})}),o=_({mutationKey:["distributions","remove"],mutationFn:async m=>a.get("RemoveDistribution",{params:m}),onSuccess:async()=>e.invalidateQueries({queryKey:["distributions"]})});return{getDistributionsQuery:s,createDistributionQuery:d,removeDistributionQuery:o}}function oe(){const e=K(),a=R(),s=_({mutationKey:["pockets","create"],mutationFn:async t=>a.get("CreatePocket",{params:t}),onSuccess:async()=>e.invalidateQueries({queryKey:["distributions"]})}),d=_({mutationKey:["pockets","edit"],mutationFn:async t=>a.get("EditPocket",{params:t}),onSuccess:async()=>e.invalidateQueries({queryKey:["distributions"]})}),o=_({mutationKey:["pockets","remove"],mutationFn:async t=>a.get("RemovePocket",{params:t}),onSuccess:async()=>e.invalidateQueries({queryKey:["distributions"]})}),m=_({mutationKey:["pocketPackages","sync"],mutationFn:async t=>a.get("SyncMirrorPocket",{params:t}),onSuccess:async(t,i)=>Promise.all([e.invalidateQueries({queryKey:["pocketPackages",{...i}]}),e.invalidateQueries({queryKey:["distributions"]})])}),l=_({mutationKey:["pocketPackages","pull"],mutationFn:async t=>a.get("PullPackagesToPocket",{params:t}),onSuccess:async(t,i)=>Promise.all([e.invalidateQueries({queryKey:["pocketPackages",{...i}]}),e.invalidateQueries({queryKey:["distributions"]})])}),c=_({mutationKey:["pocketPackages","remove"],mutationFn:async t=>a.get("RemovePackagesFromPocket",{params:t}),onSuccess:async(t,i)=>e.invalidateQueries({queryKey:["pocketPackages",{...i},"list"]})}),f=(t,i={})=>I({queryKey:["pocketPackages",{...t},"difference"],queryFn:async()=>a.get("DiffPullPocket",{params:t}),...i}),x=(t,i={})=>I({queryKey:["pocketPackages",{...t},"list"],queryFn:async()=>a.get("ListPocket",{params:t}),...i}),v=_({mutationKey:["packageFilters","add"],mutationFn:async t=>a.get("AddPackageFiltersToPocket",{params:t}),onSuccess:async(t,i)=>Promise.all([e.invalidateQueries({queryKey:["distributions"]}),e.invalidateQueries({queryKey:["pocketPackages",{...i}]})])}),k=_({mutationKey:["packageFilters","remove"],mutationFn:async t=>a.get("RemovePackageFiltersFromPocket",{params:t}),onSuccess:async(t,i)=>Promise.all([e.invalidateQueries({queryKey:["distributions"]}),e.invalidateQueries({queryKey:["pocketPackages",{...i}]})])}),C=_({mutationKey:["uploaderGPGKeys","add"],mutationFn:async t=>a.get("AddUploaderGPGKeysToPocket",{params:t}),onSuccess:async(t,i)=>Promise.all([e.invalidateQueries({queryKey:["distributions"]}),e.invalidateQueries({queryKey:["pocketPackages",{...i}]})])}),j=_({mutationKey:["uploaderGPGKeys","remove"],mutationFn:async t=>a.get("RemoveUploaderGPGKeysFromPocket",{params:t}),onSuccess:async(t,i)=>Promise.all([e.invalidateQueries({queryKey:["distributions"]}),e.invalidateQueries({queryKey:["pocketPackages",{...i}]})])});return{createPocketQuery:s,editPocketQuery:d,syncMirrorPocketQuery:m,pullPackagesToPocketQuery:l,diffPullPocketQuery:f,removePocketQuery:o,listPocketQuery:x,removePackagesFromPocketQuery:c,addPackageFiltersToPocketQuery:v,removePackageFiltersFromPocketQuery:k,addUploaderGPGKeysToPocketQuery:C,removeUploaderGPGKeysFromPocketQuery:j}}function ie(){const e=K(),a=R(),s=_({mutationKey:["series","new"],mutationFn:async l=>a.get("CreateSeries",{params:l}),onSuccess:async()=>e.invalidateQueries({queryKey:["distributions"]})}),d=_({mutationKey:["series","derive"],mutationFn:async l=>a.get("DeriveSeries",{params:l}),onSuccess:async()=>e.invalidateQueries({queryKey:["distributions"]})}),o=_({mutationKey:["series","remove"],mutationFn:async l=>a.get("RemoveSeries",{params:l}),onSuccess:async()=>e.invalidateQueries({queryKey:["distributions"]})});return{createSeriesQuery:s,removeSeriesQuery:o,deriveSeriesQuery:d,getRepoInfo:(l,c={})=>I({queryKey:["repoInfo",{queryParams:l}],queryFn:async()=>a.get("GetRepoInfo",{params:l}),...c})}}const re="_card_40gow_1",ce="_header_40gow_5",le="_title_40gow_11",de="_content_40gow_20",F={card:re,header:ce,title:le,content:de},ue=p.lazy(async()=>L(()=>import("./index-DIeEoLkP.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]))),me=({distribution:e})=>{const{setSidePanelContent:a}=T(),s=()=>{a(`Add mirror for ${e.name}`,n.jsx(p.Suspense,{fallback:n.jsx(S,{}),children:n.jsx(ue,{distribution:e})}))};return n.jsxs("div",{className:F.card,children:[n.jsx("div",{className:F.header,children:n.jsx("h3",{className:F.title,children:"No series have been added yet"})}),n.jsxs("div",{className:F.content,children:[n.jsx("p",{className:"u-no-margin--bottom",children:"Add a new mirror or series to get started"}),n.jsx("p",{className:"u-no-margin--top",children:n.jsx("a",{href:"https://ubuntu.com/landscape/docs/repositories",target:"_blank",rel:"nofollow noopener noreferrer",children:"How to manage repositories in Landscape"})}),n.jsx(r.Button,{type:"button",appearance:"positive",className:"u-no-margin--bottom",onClick:s,"aria-label":`Add mirror for ${e.name}`,children:"Add mirror"})]})]})},He="http://archive.ubuntu.com/ubuntu",pe="https://snapshot.ubuntu.com/ubuntu",Ve={ubuntu:["main","universe","restricted","multiverse"],thirdParty:["main"]},Ye={ubuntu:["amd64"],thirdParty:["amd64"]},We={ubuntu:["release","security","updates"],thirdParty:["release"]},Ze=[{label:"Main",value:"main"},{label:"Universe",value:"universe"},{label:"Restricted",value:"restricted"},{label:"Multiverse",value:"multiverse"}],Je=[{label:"amd64",value:"amd64"},{label:"i386",value:"i386"}],Xe=1,q=(e,a,s)=>e===1?a:s,ye=e=>!e||e==="synced"||e==="in progress"?"":H[e==="queued"?"undelivered":e].icon,ge="_progressContainer_xxjjr_1",be="_progress_xxjjr_1",_e="_progressBarContainer_xxjjr_11",he="_progressBar_xxjjr_11",fe="_iconContainer_xxjjr_27",E={progressContainer:ge,progress:be,progressBarContainer:_e,progressBar:he,iconContainer:fe},z=({pocket:e,syncPocketRefAdd:a,syncPocketRefs:s})=>{const d=N("(min-width: 620px)"),{setSidePanelContent:o}=T();if(p.useEffect(()=>{e.mode==="upload"||e.last_sync_status!=="in progress"||s.some(({distributionName:c})=>c===e.distribution.name)||a({distributionName:e.distribution.name,seriesName:e.series.name,pocketName:e.name})},[e,s]),e.mode==="upload")return Z;if(!e.last_sync_status)return n.jsx(ae,{});if(e.last_sync_status==="synced")return O(e.last_sync_time).format(J);if(e.last_sync_status==="in progress")return n.jsxs("div",{className:E.progressContainer,children:[d&&n.jsx("div",{className:E.progressBarContainer,children:n.jsx("div",{className:E.progressBar,style:{width:`${e.last_sync_activity.progress}%`}})}),n.jsx("span",{className:E.progress,children:`${e.last_sync_activity.progress}%`})]});const m=e.last_sync_status==="queued"?"undelivered":e.last_sync_status,l=()=>{o(e.last_sync_activity.summary,n.jsx(te,{activityId:e.last_sync_activity.id}))};return n.jsxs("div",{className:h("p-table__cell--icon-placeholder",E.iconContainer),children:[n.jsx(r.Icon,{name:ye(e.last_sync_status)}),n.jsx(r.Button,{type:"button",appearance:"link",className:"u-no-margin--bottom u-no-padding--top",onClick:l,children:H[m].label})]})},ve=p.lazy(async()=>L(()=>import("./index-DCjFE0oa.js"),__vite__mapDeps([24,1,2,25,16,11,17,9,13,14,15,18,19,20,21,22,23,26]))),G=({distributionName:e,pocket:a,seriesName:s})=>{const{setSidePanelContent:d}=T(),o=()=>{d(`${s} ${a.name}`,n.jsx(p.Suspense,{fallback:n.jsx(S,{}),children:n.jsx(ve,{distributionName:e,pocket:a,seriesName:s})}))};return n.jsxs(n.Fragment,{children:[n.jsx(r.Button,{type:"button",appearance:"link",className:"u-no-margin--bottom u-no-padding--top",onClick:o,"aria-label":`List ${a.name} pocket of ${e}/${s}`,children:a.name}),a.mode==="pull"&&n.jsx("p",{className:"p-text--small u-text--muted u-no-margin--bottom",children:`pulling from ${a.pull_pocket}`})]})},Pe=p.lazy(async()=>L(()=>import("./index-CekuL2H1.js"),__vite__mapDeps([27,1,2,3,4,28,8,9,29,30,31,5,6,7,10,11,13,14,15,16,17,18,19,20,21,22,23]))),U=({distributionName:e,pocket:a,seriesName:s,syncPocketRefs:d})=>{const o=N("(min-width: 620px)"),m=Q(),{setSidePanelContent:l}=T(),{removePocketQuery:c,syncMirrorPocketQuery:f,pullPackagesToPocketQuery:x}=oe(),{mutateAsync:v,isPending:k}=c,C=async()=>{try{await v({distribution:e,series:s,name:a.name})}catch(b){m(b)}},{mutateAsync:j,isPending:t}=f,{mutateAsync:i,isPending:u}=x,D=async()=>{try{await j({name:a.name,series:s,distribution:e})}catch(b){m(b)}},B=async()=>{try{await i({name:a.name,series:s,distribution:e})}catch(b){m(b)}},P=()=>a.mode==="mirror"?{title:`Synchronizing ${a.name} pocket`,children:n.jsx("p",{children:"Do you want to synchronize packages?"}),confirmButtonLabel:"Sync",confirmButtonAppearance:"positive",confirmButtonDisabled:t,confirmButtonLoading:t,onConfirm:D}:a.mode==="pull"?{title:`Pulling packages to ${a.name} pocket`,children:n.jsxs("p",{children:["Do you want to pull packages from ",a.pull_pocket,"?"]}),confirmButtonLabel:"Pull",confirmButtonAppearance:"positive",confirmButtonDisabled:u,confirmButtonLoading:u,onConfirm:B}:{},y=b=>{b.currentTarget.blur(),l(`Edit ${a.name} pocket`,n.jsx(p.Suspense,{fallback:n.jsx(S,{}),children:n.jsx(Pe,{pocket:a,distributionName:e,seriesName:s})}))};return n.jsxs("div",{className:"divided-blocks",children:[a.mode!="upload"&&n.jsx("div",{className:"divided-blocks__item",children:n.jsx(r.ConfirmationButton,{type:"button",className:h("u-no-margin--bottom has-icon",{"u-no-padding--right":o,"is-small":o}),appearance:o?"base":void 0,"aria-label":a.mode==="mirror"?`Synchronize ${a.name} pocket of ${e}/${s}`:`Pull packages to ${a.name} pocket of ${e}/${s}`,disabled:d.some(b=>b.distributionName===e),confirmationModalProps:P(),children:n.jsx(r.Tooltip,{position:"btm-center",message:a.mode==="mirror"?"Sync":"Pull",children:n.jsx(r.Icon,{name:"change-version",className:h({"u-no-margin--right":o})})})})}),n.jsx("div",{className:"divided-blocks__item",children:n.jsx(r.Tooltip,{message:"Edit",position:"btm-center",children:n.jsx(r.Button,{type:"button",small:o,hasIcon:!0,appearance:o?"base":"",className:h("u-no-margin--bottom",{"u-no-padding--right":o}),"aria-label":`Edit ${a.name} pocket of ${e}/${s}`,onClick:y,disabled:d.some(b=>b.distributionName===e),children:n.jsx(r.Icon,{name:"edit",className:h({"u-no-margin--right":o})})})})}),n.jsx("div",{className:"divided-blocks__item",children:n.jsx(r.ConfirmationButton,{type:"button",className:h("u-no-margin--bottom has-icon",{"u-no-padding--right":o,"is-small":o}),appearance:o?"base":void 0,"aria-label":`Remove ${a.name} pocket of ${e}/${s}`,disabled:d.some(b=>b.distributionName===e),confirmationModalProps:{title:"Deleting pocket",children:n.jsxs("p",{children:["Do you really want to delete ",a.name," pocket from"," ",s," series of ",e," distribution?"]}),confirmButtonLabel:"Delete",confirmButtonAppearance:"negative",confirmButtonDisabled:k,confirmButtonLoading:k,onConfirm:C},children:n.jsx(r.Tooltip,{position:"btm-center",message:"Delete",children:n.jsx(r.Icon,{name:r.ICONS.delete,className:h({"u-no-margin--right":o})})})})})]})},xe=({column:e})=>{const a={};return e.id==="name"?a.role="rowheader":e.id==="mode"?a["aria-label"]="Mode":e.id==="last_sync"?a["aria-label"]="Last synced":e.id==="package_count"?a["aria-label"]="Content":e.id==="actions"&&(a["aria-label"]="Actions"),a},ke="_pocketWrapper_596vd_1",je="_ctaRow_596vd_9",Ce="_actions_596vd_13",w={pocketWrapper:ke,ctaRow:je,actions:Ce},Se=({distributionName:e,series:a,syncPocketRefAdd:s,syncPocketRefs:d})=>{const o=N("(min-width: 620px)"),m=p.useMemo(()=>a.pockets,[a.pockets]),l=p.useMemo(()=>[{accessor:"name",Header:"Pocket",Cell:({row:{original:c}})=>n.jsx(G,{distributionName:e,pocket:c,seriesName:a.name})},{accessor:"mode",Header:"Mode"},{accessor:"last_sync",Header:"Last synced",Cell:({row:{original:c}})=>n.jsx(z,{pocket:c,syncPocketRefAdd:s,syncPocketRefs:d})},{accessor:"package_count",Header:"Content",Cell:({row:{original:c}})=>n.jsx(n.Fragment,{children:`${c.package_count} ${q(c.package_count,"package","packages")}`})},{accessor:"actions",className:w.actions,Cell:({row:{original:c}})=>n.jsx(U,{distributionName:e,pocket:c,seriesName:a.name,syncPocketRefs:d})}],[m,d]);return o?n.jsx(r.ModularTable,{columns:l,data:m,getCellProps:xe,emptyMsg:"No pockets yet"}):a.pockets.map((c,f)=>n.jsxs(r.Row,{className:h("u-no-padding--left u-no-padding--right",w.pocketWrapper),children:[n.jsx(r.Col,{size:2,small:2,children:n.jsx($,{label:"Pocket",value:n.jsx(G,{distributionName:e,pocket:c,seriesName:a.name})})}),n.jsx(r.Col,{size:2,small:2,children:n.jsx($,{label:"Last synced",value:n.jsx(z,{pocket:c,syncPocketRefAdd:s,syncPocketRefs:d})})}),n.jsx(r.Col,{size:2,small:2,children:n.jsx($,{label:"Mode",value:c.mode})}),n.jsx(r.Col,{size:2,small:2,children:n.jsx($,{label:"Content",value:n.jsx(n.Fragment,{children:`${c.package_count} ${q(c.package_count,"package","packages")}`})})}),n.jsx("div",{className:w.ctaRow,children:n.jsx(U,{distributionName:e,pocket:c,seriesName:a.name,syncPocketRefs:d})})]},f))},Te="_card_10z7u_1",Le="_header_10z7u_8",Ae="_title_10z7u_17",De="_snapshot_10z7u_26",Be="_cta_10z7u_36",Ee="_content_10z7u_43",A={card:Te,header:Le,title:Ae,snapshot:De,cta:Be,content:Ee},Ne=p.lazy(async()=>L(()=>import("./index-CTZ5jHaJ.js"),__vite__mapDeps([32,1,2,3,4,28,8,9,29,30,31,5,6,7,10,12,11,13,14,15,16,17,18,19,20,21,22,23]))),$e=p.lazy(async()=>L(()=>import("./index-BApJG-9y.js"),__vite__mapDeps([33,1,2,5,6,7,10,12,9,11,13,14,15,16,17,18,19,20,21,22,23]))),Fe=({distribution:e,series:a,syncPocketRefAdd:s,syncPocketRefs:d})=>{const[o,m]=p.useState(!1),[l,c]=p.useState("");p.useEffect(()=>{const[g]=a.pockets;!g||g.mode!=="mirror"||!g.mirror_uri.startsWith(pe)||c(g.mirror_uri.replace(/^.*\/(\d{8})T\d{6}Z$/,"$1"))},[a]);const f=N("(min-width: 620px)"),{setSidePanelContent:x}=T(),{removeSeriesQuery:v}=ie(),k=Q(),{mutateAsync:C,isPending:j}=v,t=()=>{m(!1)},i=async()=>{try{await C({name:a.name,distribution:e.name})}catch(g){k(g)}finally{t()}},u=()=>{m(!0)},D=()=>{x("Derive series",n.jsx(p.Suspense,{fallback:n.jsx(S,{}),children:n.jsx($e,{distribution:e,origin:a.name})}))},B=()=>{x(`New pocket for ${a.name}`,n.jsx(p.Suspense,{fallback:n.jsx(S,{}),children:n.jsx(Ne,{distribution:e,series:a})}))},P=[{label:"Derive series",ariaLabel:`Derive series ${e.name}/${a.name}`,onClick:D},{label:"New pocket",ariaLabel:`Add new pocket for ${e.name}/${a.name}`,onClick:B}],y={label:"Remove",ariaLabel:`Remove ${e.name}/${a.name}`,appearance:"negative",modalTitle:"Remove series",modalBody:n.jsx("p",{children:"Are you sure? This action cannot be undone."}),isLoading:j,onClick:u,onConfirm:i},b=[...P,y],V=[...P.map(g=>n.jsx(r.Button,{type:"button",className:"is-small","aria-label":g.ariaLabel,onMouseDown:W=>{W.preventDefault()},onClick:g.onClick,children:g.label},`${g.label}-button`)),n.jsx(r.ConfirmationButton,{type:"button",className:"is-small","aria-label":y.ariaLabel,confirmationModalProps:{title:y.modalTitle,children:y.modalBody,confirmButtonLabel:y.label,confirmButtonAppearance:y.appearance,confirmButtonLoading:y.isLoading,confirmButtonDisabled:y.isLoading,onConfirm:y.onConfirm},children:y.label},`${y.label}-button`)],Y=b.map(g=>({children:g.label,"aria-label":g.ariaLabel,onClick:g.onClick})).filter(g=>!(l&&(g.children==="Derive series"||g.children==="New pocket")));return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:A.card,children:[n.jsxs("div",{className:A.header,children:[n.jsx("h3",{className:A.title,children:a.name}),!!l&&n.jsx("span",{className:h("u-text--muted",A.snapshot),children:`Snapshot from ${O(l).format(X)}`}),f?n.jsx("div",{className:A.cta,children:V}):n.jsx(r.ContextualMenu,{position:"left",hasToggleIcon:!0,toggleLabel:"Actions",toggleClassName:"u-no-margin--bottom",links:Y})]}),n.jsx("div",{className:A.content,children:n.jsx(Se,{distributionName:e.name,series:a,syncPocketRefAdd:s,syncPocketRefs:d})})]}),o&&n.jsx(r.ConfirmationModal,{title:y.modalTitle,confirmButtonLabel:y.label,close:t,confirmButtonAppearance:y.appearance,confirmButtonLoading:y.isLoading,confirmButtonDisabled:y.isLoading,onConfirm:y.onConfirm,children:y.modalBody})]})},Ie="_item_1v4o6_1",we="_titleGroup_1v4o6_5",Me="_title_1v4o6_5",M={item:Ie,titleGroup:we,title:Me},Ke=p.lazy(async()=>L(()=>import("./index-DIeEoLkP.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]))),en=({distribution:e,syncPocketRefAdd:a,syncPocketRefs:s})=>{const[d,o]=p.useState(!1),{setSidePanelContent:m}=T(),l=N("(min-width: 620px)"),{removeDistributionQuery:c}=se(),f=Q(),{mutateAsync:x,isPending:v}=c,k=()=>{m(`Add series to ${e.name}`,n.jsx(p.Suspense,{fallback:n.jsx(S,{}),children:n.jsx(Ke,{distribution:e,ctaText:"Add series"})}))},C=()=>{o(!0)},j=()=>{o(!1)},t=async()=>{try{await x({name:e.name})}catch(P){f(P)}finally{j()}},i={label:"Add series",ariaLabel:`Add series to ${e.name}`,onClick:k},u={label:"Remove distribution",ariaLabel:`Remove ${e.name} distribution`,appearance:"negative",modalTitle:`Removing ${e.name} distribution`,modalBody:n.jsx("p",{children:"Are you sure? This action cannot be undone."}),modalActionLabel:"Remove",isLoading:v,onClick:C,onConfirm:t},D=[n.jsx(r.Button,{type:"button",className:"is-small","aria-label":i.ariaLabel,onClick:i.onClick,children:i.label},`${i.label}-button`),n.jsx(r.ConfirmationButton,{type:"button",className:"is-small","aria-label":u.ariaLabel,confirmationModalProps:{title:u.modalTitle,children:u.modalBody,confirmButtonLabel:u.modalActionLabel,confirmButtonAppearance:u.appearance,confirmButtonLoading:v,confirmButtonDisabled:v,onConfirm:u.onConfirm},children:u.label},`${u.label}-button`)],B=[{children:i.label,"aria-label":i.ariaLabel,onClick:i.onClick},{children:u.label,"aria-label":u.ariaLabel,onClick:u.onClick}];return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:M.item,children:[n.jsxs("div",{className:M.titleGroup,children:[n.jsx("h2",{className:h("p-heading--4 u-no-margin--bottom u-no-padding--top",M.title),children:e.name}),l?n.jsx("div",{children:D}):n.jsx(r.ContextualMenu,{position:"left",hasToggleIcon:!0,toggleLabel:"Actions",toggleProps:{"aria-label":`${e.name} distribution actions`},links:B})]}),e.series.length?e.series.map(P=>n.jsx(Fe,{distribution:e,series:P,syncPocketRefAdd:a,syncPocketRefs:s},P.name)):n.jsx(me,{distribution:e})]}),d&&n.jsx(r.ConfirmationModal,{title:u.modalTitle,confirmButtonLabel:u.modalActionLabel,confirmButtonAppearance:u.appearance,confirmButtonDisabled:u.isLoading,confirmButtonLoading:u.isLoading,onConfirm:u.onConfirm,close:j,children:u.modalBody})]})},Qe=p.lazy(async()=>L(()=>import("./index-Di7X3FUl.js"),__vite__mapDeps([34,1,2,5,6,7,35,9,10,12,11,13,14,15,16,17,18,19,20,21,22,23]))),nn=()=>{const{setSidePanelContent:e}=T(),a=()=>{e("Add distribution",n.jsx(p.Suspense,{fallback:n.jsx(S,{}),children:n.jsx(Qe,{})}))};return n.jsx(ee,{title:"No mirrors have been added yet",icon:"containers",body:n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"u-no-margin--bottom",children:"To add a new mirror you must first add a distribution"}),n.jsx("a",{href:"https://ubuntu.com/landscape/docs/repositories",target:"_blank",rel:"nofollow noopener noreferrer",children:"How to manage repositories in Landscape"})]}),cta:[n.jsx(r.Button,{onClick:a,type:"button",children:"Add distribution"},"add-distribution")]})},an="2023-02-28",tn="YYYYMMDD[T]HHmmss[Z]",sn={type:"ubuntu",name:"",distribution:"",mirror_series:"",mirror_uri:"",gpg_key:"",pockets:[],components:[],architectures:[],include_udeb:!1,hasPockets:!1,snapshotDate:O().format(ne)},on=[{label:"Release",value:"release"},{label:"Security",value:"security"},{label:"Updates",value:"updates"},{label:"Proposed",value:"proposed"},{label:"Backports",value:"backports"}];export{Je as A,Ze as C,pe as D,sn as I,Xe as M,Ve as P,an as S,ie as a,nn as b,en as c,M as d,He as e,oe as f,Ye as g,on as h,We as i,tn as j,q as p,A as s,se as u};
