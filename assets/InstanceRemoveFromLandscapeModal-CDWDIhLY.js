import{d,k as l,l as p,t as f,v as y,j as r}from"./index-CmSMPezD.js";import{T as v}from"./TextConfirmationModal-B_Arotg1.js";import{u as g}from"./useRemoveInstancesFromLandscape-rZ5xBqN0.js";const I=()=>{const t=d(),e=l(),{isPending:n,mutateAsync:s}=p({mutationKey:["instance","sanitize"],mutationFn:async({computer_id:a,...o})=>t.post(`computers/${a}/sanitize`,o),onSuccess:async()=>e.invalidateQueries({queryKey:["instances"]})});return{sanitizeInstance:s,isSanitizingInstance:n}},x=({close:t,instance:e,isOpen:n,onSuccess:s})=>{const a=f(),{notify:o}=y(),{removeInstancesFromLandscape:c,isRemovingInstancesFromLandscape:i}=g(),m=async()=>{try{await c({computer_ids:[e.id]}),o.success({title:`You have successfully removed ${e.title} from Landscape.`,message:`${e.title} has been removed from Landscape. To manage it again, you will need to re-register it in Landscape.`}),s?.()}catch(u){a(u)}finally{t()}};return r.jsx(v,{isOpen:n,close:t,title:`Remove ${e.title} from Landscape`,confirmButtonLabel:"Remove",confirmButtonAppearance:"negative",confirmButtonDisabled:i,confirmButtonLoading:i,confirmationText:`remove ${e.title}`,onConfirm:m,children:r.jsx("p",{children:"This will delete all associated data and free up one license slot for another computer to be registered. You can re-register it to Landscape at any time."})})};export{x as I,I as u};
