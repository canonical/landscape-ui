import{j as e,f as y,s as p,c as g,r as x,E,d as f,e as v}from"./index-DYykpNVa.js";import{a as j}from"./TablePagination-CIA4CRba.js";import{P}from"./PageParamFilter-LH49uHXA.js";import{a as S}from"./TableFilterChips-DLH4XQ-H.js";import{H as T}from"./HeaderWithSearch-DH3OfcZg.js";import{E as b}from"./EmployeeList-BGX_o-u-.js";import"./TableFilter-C7yTBfOe.js";import"./constants-CXofZZ4i.js";import"./NoData-CT6SeJUX.js";import"./ResponsiveTable-C-8YbfBJ.js";import"./TruncatedCell-DQQZxgbr.js";import"./Truncated-DtD6hAHP.js";const c=[{label:"All",value:""},{label:"Active",value:"active"},{label:"Inactive",value:"inactive"}],F=()=>e.jsxs(e.Fragment,{children:[e.jsx(T,{actions:e.jsx(P,{pageParamKey:"status",label:"Status",options:c})}),e.jsx(S,{filtersToDisplay:["search","status"],statusOptions:c})]}),I=a=>{switch(a){case"active":return!0;case"inactive":return!1;default:return}},w=(a={})=>{const r=y(),{currentPage:t,pageSize:o,search:s,status:n}=p(),i={with_computers:!0,is_active:I(n),limit:o,offset:(t-1)*o,search:s??void 0},{data:l,isPending:d,isFetching:h}=g({queryKey:["employees",i],queryFn:async()=>r.get("employees",{params:i}),...a});return{employees:l?.data?.results||[],isPending:d,isFetching:h,count:l?.data?.count}},u=1e5,m={title:"No employees found",body:"Employees will appear here once they authenticate using your organizationâ€™s OIDC provider. You will see details about each user, their status, and associated instances."},K=()=>{const{status:a,search:r}=p(),{employees:t,isPending:o,count:s}=w(),n=x.useMemo(()=>t,[t]),i=t&&s&&s>=u;return!o&&s===0&&a===""&&r===""?e.jsx(E,{title:m.title,body:m.body}):e.jsxs(e.Fragment,{children:[e.jsx(F,{}),i?e.jsx(f.Notification,{severity:"caution",children:e.jsxs("span",{children:[e.jsx("strong",{children:"Employee limit reached:"})," You have reached the limit of ",u.toLocaleString()," employees. To allow new registrations, delete deactivated users."]})}):null,o?e.jsx(v,{}):e.jsx(b,{employees:n}),e.jsx(j,{totalItems:s,currentItemCount:t.length})]})};export{K as default};
