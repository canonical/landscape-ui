import{i as c,j as s,o as u,d as y}from"./index-CAxb-9CO.js";const I="_container_48dfw_1",S="_errorMessage_48dfw_14",_={container:I,errorMessage:S},R=({className:j,disabled:d,disabledItems:b,dropdownFooter:f,error:t,help:p,innerRef:o,items:m,label:i,labelClassName:g,required:h,...v})=>{const[x,E]=c.useState(!1),a=c.useRef(null),l=c.useRef(""),M=e=>{if(!e||(o&&(typeof o=="function"?o(e):o.current=e),!e.closest(".l-aside")))return;const r=e.querySelector(".multi-select__select-button"),n=e.querySelector(".p-search-box__input");a.current=r||n,l.current=a.current?.getAttribute("aria-controls")||""};c.useEffect(()=>{if(!a.current)return;const e=new MutationObserver(r=>{r.some(({attributeName:n,type:N})=>N==="attributes"&&n==="aria-expanded")&&E(n=>!n)});return e.observe(a.current,{attributes:!0}),()=>{e.disconnect()}},[]),c.useEffect(()=>{if(!x||!l.current)return;const r=document.getElementById(l.current)?.closest(".multi-select");r&&(r.style.zIndex="101")},[x]);const w=t?s.jsxs("div",{children:[s.jsx("p",{className:"p-form-validation__message",children:s.jsx("span",{children:t})}),f]}):f;return s.jsxs("div",{className:u("p-form-validation p-form__group",{"is-error":!!t},_.container,j),ref:M,children:[i&&s.jsx("label",{className:u("p-form__label",{"is-required":h},g),children:i}),p&&s.jsx("p",{className:"p-form-help-text",children:p}),s.jsx(y.MultiSelect,{dropdownFooter:w,disabled:d,disabledItems:d?m:b,error:t,items:m,label:i,...v}),t&&s.jsx("p",{className:u(_.errorMessage,"p-form-validation__message"),children:s.jsx("span",{children:t})})]})};export{R as M};
