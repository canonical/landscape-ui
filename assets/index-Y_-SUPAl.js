import{w as g,x as h,y as b,a as p,r as f,j as e,C as x,L as y}from"./index-BHRcNEjD.js";try{let t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},a=new t.Error().stack;a&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[a]="57a51b0c-5903-401e-9349-58c7b405ae93",t._sentryDebugIdIdentifier="sentry-dbid-57a51b0c-5903-401e-9349-58c7b405ae93")}catch{}const _="_container_1uszo_1",m={container:_},j=()=>{const[t]=g(),{redirectToExternalUrl:a,setAuthLoading:o,setUser:u}=h(),{getAuthStateWithUbuntuOneQuery:c}=b(),l=p(),{data:n,isLoading:d}=c({url:window.location.toString()},{enabled:t.size>0});return f.useEffect(()=>{var s,r;if(!(!n||!("current_account"in n.data)))if((s=n.data.return_to)!=null&&s.external&&n.data.return_to.url)a(n.data.return_to.url,{replace:!0});else{o(!0),u(n.data);const i=new URL(((r=n.data.return_to)==null?void 0:r.url)??"/overview",location.origin);l(i.toString().replace(i.origin,""),{replace:!0})}},[n,a]),e.jsx("div",{className:m.container,children:d?e.jsxs("div",{className:"u-align-text--center",children:[e.jsxs("span",{role:"status",style:{marginRight:"1rem"},children:[e.jsx("span",{className:"u-off-screen",children:"Loading..."}),e.jsx("i",{className:"p-icon--spinner u-animation--spin","aria-hidden":!0})]}),e.jsx("span",{children:"Please wait while your request is being processed..."})]}):e.jsxs("div",{children:[e.jsx("p",{children:x}),e.jsx(y,{to:"/login",className:"p-button",children:"Back to login"})]})})};export{j as default};
