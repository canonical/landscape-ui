import{i as r,h,l as x,j as e,m as y,az as f,$ as g,E as j,d as E,v as F,aB as S}from"./index-BCIQRWZN.js";import{H as T}from"./HeaderWithSearch-R8DS_T4K.js";import{u as b}from"./useGetAutoinstallFiles-DyRNDuAe.js";import"./index-CBC07LaC.js";import{g as v}from"./helpers-B4nWsGMV.js";import"./AutoinstallFileVersionHistory-D-ua3Cao.js";import{E as P}from"./EmployeeList-BLK_T3zJ.js";import{u as I}from"./useGetEmployees-CMvSyYnE.js";import"./SidePanelTablePagination-CFMakOLa.js";const A=({options:t,label:l,inline:c=!1})=>{const[s,o]=r.useState(""),{autoinstallFiles:i,setPageParams:u}=h(),n=r.useMemo(()=>t.filter(({label:a})=>a.toLowerCase().includes(s.toLowerCase())),[t,s]);return x("autoinstallFiles",n.map(a=>a.value)),e.jsx(y,{type:"multiple",hasBadge:!0,label:l,hasToggleIcon:!0,options:n,onItemsSelect:a=>{u({autoinstallFiles:a})},onSearch:a=>{o(a)},selectedItems:i,hideSelectAllButton:!0,inline:c})},m=[{label:"All",value:""},{label:"Active",value:"active"},{label:"Inactive",value:"inactive"}],L="_filters_1bctl_1",O={filters:L},w=()=>{const{autoinstallFiles:t}=b(),l=r.useMemo(()=>v(t),[t]);return e.jsxs(e.Fragment,{children:[e.jsx(T,{actions:e.jsxs("div",{className:O.filters,children:[e.jsx(A,{label:"Autoinstall files",options:l}),e.jsx(f,{label:"Status",options:m})]})}),e.jsx(g,{filtersToDisplay:["autoinstallFiles","search","status"],autoinstallFileOptions:l,statusOptions:m})]})},p=1e5,d={title:"No employees found",body:"Employees will appear here once they authenticate using your organizationâ€™s OIDC provider. You will see details about each user, their status, and associated instances."},G=()=>{const{status:t,autoinstallFiles:l,search:c}=h(),{employees:s,isPending:o,count:i}=I(),u=r.useMemo(()=>s,[s]),n=s&&i&&i>=p;return!o&&i===0&&l.length===0&&t===""&&c===""?e.jsx(j,{title:d.title,body:d.body}):e.jsxs(e.Fragment,{children:[e.jsx(w,{}),n?e.jsx(E.Notification,{severity:"caution",children:e.jsxs("span",{children:[e.jsx("strong",{children:"Employee limit reached:"})," You have reached the limit of ",p.toLocaleString()," employees. To allow new registrations, delete deactivated users."]})}):null,o?e.jsx(F,{}):e.jsx(P,{employees:u}),e.jsx(S,{totalItems:i,currentItemCount:s.length})]})};export{G as default};
