import{r as n,j as s,p as u,d as I}from"./index-W6vPPLJL.js";const S="_container_v4cko_1",w="_errorMessage_v4cko_14",_={container:S,errorMessage:w},q=({className:j,disabled:d,disabledItems:b,dropdownFooter:p,error:t,help:f,innerRef:o,items:m,label:i,labelClassName:v,required:g,...h})=>{const[x,E]=n.useState(!1),a=n.useRef(null),l=n.useRef(""),M=e=>{if(!e||(o&&(typeof o=="function"?o(e):o.current=e),!e.closest(".l-aside")))return;const r=e.querySelector(".multi-select__select-button"),c=e.querySelector(".p-search-box__input");a.current=r||c,l.current=a.current?.getAttribute("aria-controls")||""};n.useEffect(()=>{if(!a.current)return;const e=new MutationObserver(r=>{r.some(({attributeName:c,type:y})=>y==="attributes"&&c==="aria-expanded")&&E(c=>!c)});return e.observe(a.current,{attributes:!0}),()=>{e.disconnect()}},[]),n.useEffect(()=>{if(!x||!l.current)return;const r=document.getElementById(l.current)?.closest(".multi-select");r&&(r.style.zIndex="101")},[x]);const N=t?s.jsxs("div",{children:[s.jsx("p",{className:"p-form-validation__message",children:s.jsx("span",{children:t})}),p]}):p;return s.jsxs("div",{className:u("p-form-validation p-form__group",{"is-error":!!t},_.container,j),ref:M,children:[i&&s.jsx("label",{className:u("p-form__label",{"is-required":g},v),children:i}),f&&s.jsx("p",{className:"p-form-help-text",children:f}),s.jsx(I.MultiSelect,{dropdownFooter:N,disabled:d,disabledItems:d?m:b,error:t,items:m,label:i,...h}),t&&s.jsx("p",{className:u(_.errorMessage,"p-form-validation__message"),children:s.jsx("span",{children:t})})]})};export{q as M};
