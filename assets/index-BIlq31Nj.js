import{b as d,y as g,z as p,a as h,r as m,R as r,j as e,L as x}from"./index-DAhtk5GF.js";import{r as j}from"./helpers-Bo73Thd0.js";const f="_container_1uszo_1",_={container:f},U=()=>{const[i]=d(),{setUser:o}=g(),{getAuthStateWithUbuntuOneQuery:u}=p(),c=h(),{data:t,isLoading:l}=u({url:window.location.toString()},{enabled:i.size>0});return m.useEffect(()=>{var a,n;if(!(!t||!("current_account"in t.data)))if((a=t.data.return_to)!=null&&a.external&&t.data.return_to.url)j(t.data.return_to.url,{replace:!0});else{o(t.data);const s=new URL(((n=t.data.return_to)==null?void 0:n.url)??`${r}overview`,location.origin);c(s.toString().replace(s.origin,""),{replace:!0})}},[t]),e.jsx("div",{className:_.container,children:l?e.jsxs("div",{className:"u-align-text--center",children:[e.jsxs("span",{role:"status",style:{marginRight:"1rem"},children:[e.jsx("span",{className:"u-off-screen",children:"Loading..."}),e.jsx("i",{className:"p-icon--spinner u-animation--spin","aria-hidden":!0})]}),e.jsx("span",{children:"Please wait while your request is being processed..."})]}):e.jsxs("div",{children:[e.jsx("p",{children:"Oops! Something went wrong. Please try again or contact our support team."}),e.jsx(x,{to:`${r}login`,className:"p-button",children:"Back to login"})]})})};export{U as default};
