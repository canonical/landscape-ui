import{j as a,h as n}from"./index-ChpBdI_6.js";import{M as p}from"./MultiSelectField-Bw2l6HuF.js";import{u as r}from"./useInstances-CtHMA3X1.js";const d="_container_j6wgv_1",u="_chips_j6wgv_7",i={container:d,chips:u},v=({formik:s})=>{const{getAllInstanceTagsQuery:o}=r(),{data:t}=o(),c=(t==null?void 0:t.data.results.map(e=>({label:e,value:e})))??[];return a.jsxs("div",{className:i.container,children:[a.jsx("p",{className:"p-heading--5",children:"Association"}),a.jsx(n.CheckboxInput,{label:"Associate to all instances",...s.getFieldProps("all_computers"),checked:s.values.all_computers}),!s.values.all_computers&&a.jsxs(a.Fragment,{children:[a.jsx(p,{label:"Tags",labelClassName:"u-off-screen",disabled:s.values.all_computers,placeholder:"Search and add tags",...s.getFieldProps("tags"),items:c,selectedItems:c.filter(({value:e})=>s.values.tags.includes(e)),onItemsUpdate:e=>s.setFieldValue("tags",e.map(({value:l})=>l))}),a.jsx("div",{className:i.chips,children:s.values.tags.map(e=>a.jsx(n.Chip,{className:"u-no-margin--bottom u-no-margin--right",value:e,onDismiss:()=>s.setFieldValue("tags",s.values.tags.filter(l=>l!==e))},e))})]})]})};export{v as A};
