import{b as d,i as p,l as o,j as e,a0 as c,L as g,z as S,N as f,d as m,D as A,A as v,E as y}from"./index-CELeJNAV.js";import{S as x}from"./SidePanelTablePagination-BiSwLO4Y.js";const E=({id:i,...s})=>{const t=d(),{data:a,isLoading:r}=p({queryKey:["scriptProfileActivities",{id:i,...s}],queryFn:async()=>t.get(`script-profiles/${i}/activities`,{params:s})});return{activities:a?.data.results??[],activitiesCount:a?.data.count,isGettingActivities:r}},P=({activities:i})=>{const s=o.useMemo(()=>[{Header:"Run",accessor:"creation_time",Cell:({row:{original:t}})=>e.jsx(g,{className:"font-monospace",to:`/activities?query=parent-id%3A${t.id}`,children:S(t.creation_time).utc().format(f)})},{Header:"Status",accessor:"activity_status",Cell:({row:{original:t}})=>c[t.activity_status].label,getCellIcon:({row:{original:t}})=>c[t.activity_status].icon}],[i]);return e.jsx(m.ModularTable,{columns:s,data:i})},h=({profile:i})=>{const[s,t]=o.useState(1),[a,r]=o.useState(A),{activities:n,activitiesCount:u,isGettingActivities:l}=E({id:i.id,limit:a,offset:(s-1)*a});return l?e.jsx(v,{}):n.length?e.jsxs(e.Fragment,{children:[e.jsx(P,{activities:n}),e.jsx(x,{currentPage:s,pageSize:a,paginate:t,setPageSize:r,totalItems:u})]}):e.jsx(y,{title:"No runs found",body:"The profile has not run yet."})};export{h as default};
