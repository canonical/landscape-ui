const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-C3c_sckR.js","assets/index-pjkRJjdg.js","assets/index-DyfkgHlR.css","assets/SidePanelFormButtons-DNfi_mPC.js","assets/SidePanelFormButtons.module-D2P5PizG.js","assets/SidePanelFormButtons-JM1G8Sq6.css","assets/useEditScript-BbVmR3zc.js","assets/ScriptsTabs-Rnbr6oi7.js","assets/TruncatedCell-N0DCUglk.js","assets/TruncatedCell-CoXbu3VM.css","assets/useRoles-aZ6qe7Px.js","assets/HeaderWithSearch-0Fy-bwNt.js","assets/HeaderWithSearch-C2lwo0VI.css","assets/SingleInstanceTabs.module-Cm1BYFZQ.js","assets/SingleInstanceTabs-9EpKZLyq.css","assets/index-C_TfcBMe.js","assets/ScriptsTabs-BN73-9Za.css"])))=>i.map(i=>d[i]);
import{i as _,h as m,l as p,r as n,j as e,m as i,v,D as x,o as c,_ as y}from"./index-pjkRJjdg.js";const h=t=>{const a=_(),{data:o,isLoading:r}=m({queryKey:["scripts","versions",t],queryFn:async()=>a.get(`scripts/${t}/versions`)});return{versions:(o==null?void 0:o.data.results)??[],isVersionsLoading:r}},j="_version_1w5gk_1",b={version:j},g=n.lazy(async()=>y(()=>import("./index-C3c_sckR.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]))),S=({script:t,viewVersionHistory:a})=>{const{setSidePanelContent:o}=p(),{versions:r,isVersionsLoading:d}=h(t.id),u=s=>{o(s.title,e.jsx(n.Suspense,{fallback:e.jsx(c,{}),children:e.jsx(g,{scriptId:t.id,scriptVersion:s,goBack:a,isArchived:t.status==="ARCHIVED"})}))},l=n.useMemo(()=>[{accessor:"version_number",Header:"Version",className:b.version,Cell:({row:{original:s}})=>e.jsx(i.Button,{type:"button",appearance:"link",className:"u-no-margin--bottom u-no-padding--top",onClick:()=>{u(s)},children:s.version_number})},{accessor:"created_at",Header:"Created",Cell:({row:{original:s}})=>e.jsxs(e.Fragment,{children:[v(s.created_at).format(x)," by"," ",s.created_by.name]})}],[r]);return d?e.jsx(c,{}):e.jsx(i.ModularTable,{columns:l,data:r})};export{S as default};
