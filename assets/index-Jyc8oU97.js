import{b as p,x,y as m,a as j,r as f,R as r,j as e,h as y}from"./index-B7B6ilm5.js";const A="_container_1uszo_1",w={container:A},_=()=>{const[n]=p(),{setUser:d}=x(),{getAuthStateWithOidcQuery:g}=m(),o=j(),s=n.get("code"),a=n.get("state"),{data:t,isLoading:i,error:h}=g({code:s,state:a},{enabled:!!s&&!!a});return f.useEffect(()=>{var c,u;if(t)if((c=t.data.return_to)!=null&&c.external)window.location.replace(t.data.return_to.url??r);else{d(t.data);const l=new URL(((u=t.data.return_to)==null?void 0:u.url)??r,location.origin);o(l.toString().replace(l.origin,""),{replace:!0})}},[t]),e.jsxs("div",{className:w.container,children:[s&&a&&i&&e.jsxs("div",{className:"u-align-text--center",children:[e.jsxs("span",{role:"status",style:{marginRight:"1rem"},children:[e.jsx("span",{className:"u-off-screen",children:"Loading..."}),e.jsx("i",{className:"p-icon--spinner u-animation--spin","aria-hidden":!0})]}),e.jsx("span",{children:"Please wait while your request is being processed..."})]}),(!s||!a||!i&&h)&&e.jsxs("div",{children:[e.jsx("p",{children:"Oops! Something went wrong. Please try again or contact our support team."}),e.jsx(y.Button,{onClick:()=>o(`${r}login`),children:"Back to login"})]})]})};export{_ as default};
