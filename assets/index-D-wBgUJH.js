import{r as x,q as j,j as i,d as o}from"./index-CSSscRtK.js";import{P as _,a as P,b as C}from"./PageMain-C_EL0_NR.js";import{u as L,A as w}from"./index-kinc5XAu.js";import"./moment-C0lIsxcK.js";import"./TablePagination-Bk6IFP8F.js";import"./TablePagination.module-CgQ3jx4B.js";import"./usePageParams-DquXj6di.js";import"./TableFilterChips-D-0Xad7c.js";import"./useFetchOld-Bg7OzTFV.js";import"./NoData-HQm8ZFJm.js";const N="_header_116wp_1",R={header:N},H=()=>{const[t,d]=x.useState([]),n=j(),{approveActivitiesQuery:l,cancelActivitiesQuery:u,redoActivitiesQuery:p,undoActivitiesQuery:m}=L(),{mutateAsync:v,isPending:s}=l,{mutateAsync:y,isPending:c}=u,{mutateAsync:h,isPending:a}=p,{mutateAsync:A,isPending:r}=m,g=async()=>{try{await v({query:`id:${t.join(" OR id:")}`})}catch(e){n(e)}},f=async()=>{try{await y({query:`id:${t.join(" OR id:")}`})}catch(e){n(e)}},b=async()=>{try{await h({activity_ids:t})}catch(e){n(e)}},B=async()=>{try{await A({activity_ids:t})}catch(e){n(e)}};return i.jsxs(_,{children:[i.jsx(P,{title:"Activities",className:R.header,actions:[i.jsx("div",{className:"p-segmented-control",children:i.jsxs("div",{className:"p-segmented-control__list",children:[i.jsx(o.ConfirmationButton,{className:"p-segmented-control__button",type:"button",disabled:t.length===0||s,confirmationModalProps:{title:`Approve ${t.length===1?"activity":"activities"}`,children:i.jsxs("p",{children:["Are you sure you want to approve selected"," ",t.length===1?"activity":"activities","?"]}),confirmButtonLabel:"Approve",confirmButtonAppearance:"positive",confirmButtonDisabled:s,confirmButtonLoading:s,onConfirm:g},children:"Approve"}),i.jsx(o.ConfirmationButton,{className:"p-segmented-control__button",type:"button",disabled:t.length===0||c,confirmationModalProps:{title:`Cancel ${t.length===1?"activity":"activities"}`,children:i.jsxs("p",{children:["Are you sure you want to cancel selected"," ",t.length===1?"activity":"activities","?"]}),confirmButtonLabel:"Apply",confirmButtonAppearance:"positive",confirmButtonDisabled:c,confirmButtonLoading:c,onConfirm:f},children:"Cancel"}),i.jsx(o.ConfirmationButton,{className:"p-segmented-control__button",type:"button",disabled:t.length===0||r,confirmationModalProps:{title:`Undo ${t.length===1?"activity":"activities"}`,children:i.jsxs("p",{children:["Are you sure you want to undo selected"," ",t.length===1?"activity":"activities","?"]}),confirmButtonLabel:"Undo",confirmButtonAppearance:"positive",confirmButtonDisabled:r,confirmButtonLoading:r,onConfirm:B},children:"Undo"}),i.jsx(o.ConfirmationButton,{className:"p-segmented-control__button",type:"button",disabled:t.length===0||a,confirmationModalProps:{title:`Redo ${t.length===1?"activity":"activities"}`,children:i.jsxs("p",{children:["Are you sure you want to redo selected"," ",t.length===1?"activity":"activities","?"]}),confirmButtonLabel:"Redo",confirmButtonAppearance:"positive",confirmButtonDisabled:a,confirmButtonLoading:a,onConfirm:b},children:"Redo"})]})},"buttons")]}),i.jsx(C,{children:i.jsx(w,{selectedIds:t,setSelectedIds:e=>d(e)})})]})};export{H as default};
