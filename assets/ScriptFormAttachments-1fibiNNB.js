import{u as h}from"./useFetchOld-BAAs34Op.js";import{t as p,v as A,j as a,d as y}from"./index-CNSDWj8Q.js";import{A as f}from"./AttachmentFile-CcsxK_w8.js";const F=()=>{const n=h(),s=p(),{mutateAsync:c,isPending:i}=A({mutationKey:["scripts","createAttachment"],mutationFn:async r=>n.get("CreateScriptAttachment",{params:r}),onSuccess:async()=>s.invalidateQueries({queryKey:["scripts"]})});return{createScriptAttachment:c,isCreatingScriptAttachment:i}},b="#!/bin/bash",d="_attachment_tpzj2_1",C={attachment:d},g=({attachments:n,attachmentsToRemove:s,getFileInputError:c,initialAttachments:i,onFileInputChange:r,onInitialAttachmentDelete:m,scriptId:o})=>a.jsx(a.Fragment,{children:Object.keys(n).map((u,l)=>{const t=u,e=i[l];return!e||s.includes(e.filename)?a.jsx(y.Input,{type:"file",label:`${t} attachment`,labelClassName:"u-off-screen",onChange:r(t),error:c(t)},t):a.jsx(f,{className:C.attachment,attachmentId:e.id,filename:e.filename,scriptId:o,onInitialAttachmentDelete:()=>{m(e.filename)}},t)})});export{b as D,g as S,F as u};
