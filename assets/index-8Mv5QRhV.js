import{b as d,i as p,l as o,j as e,a0 as c,L as g,z as f,N as S,d as m,A as v,E as y}from"./index-CDk-Jgvr.js";import{S as A}from"./SidePanelTablePagination-ByE4BkY1.js";const x=({id:i,...s})=>{const t=d(),{data:a,isLoading:r}=p({queryKey:["scriptProfileActivities",{id:i,...s}],queryFn:async()=>t.get(`script-profiles/${i}/activities`,{params:s})});return{activities:a?.data.results??[],activitiesCount:a?.data.count,isGettingActivities:r}},P=({activities:i})=>{const s=o.useMemo(()=>[{Header:"Run",accessor:"creation_time",Cell:({row:{original:t}})=>e.jsx(g,{className:"font-monospace",to:`/activities?query=parent-id%3A${t.id}`,children:f(t.creation_time).utc().format(S)})},{Header:"Status",accessor:"activity_status",Cell:({row:{original:t}})=>c[t.activity_status].label,getCellIcon:({row:{original:t}})=>c[t.activity_status].icon}],[i]);return e.jsx(m.ModularTable,{columns:s,data:i})},j=({profile:i})=>{const[s,t]=o.useState(1),[a,r]=o.useState(20),{activities:n,activitiesCount:u,isGettingActivities:l}=x({id:i.id,limit:a,offset:(s-1)*a});return l?e.jsx(v,{}):n.length?e.jsxs(e.Fragment,{children:[e.jsx(P,{activities:n}),e.jsx(A,{currentPage:s,pageSize:a,paginate:t,setPageSize:r,totalItems:u})]}):e.jsx(y,{title:"No runs found",body:"The profile has not run yet."})};export{j as default};
