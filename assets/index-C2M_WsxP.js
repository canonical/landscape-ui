import{d,m as p,o as r,j as e,ae as c,L as S,x as g,R as f,U as m,e as v,D as x,a as y,E as A}from"./index-D2Oms9tG.js";import{S as E}from"./SidePanelTablePagination-BE_xxYvd.js";const T=({id:i,...s})=>{const t=d(),{data:a,isLoading:o}=p({queryKey:["scriptProfileActivities",{id:i,...s}],queryFn:async()=>t.get(`script-profiles/${i}/activities`,{params:s})});return{activities:a?.data.results??[],activitiesCount:a?.data.count,isGettingActivities:o}},P=({activities:i})=>{const s=r.useMemo(()=>[{Header:"Run",accessor:"creation_time",Cell:({row:{original:t}})=>e.jsx(S,{className:"font-monospace",to:f.activities.root({query:`parent-id:${t.id}`}),children:g(t.creation_time).utc().format(m)})},{Header:"Status",accessor:"activity_status",Cell:({row:{original:t}})=>c[t.activity_status].label,getCellIcon:({row:{original:t}})=>c[t.activity_status].icon}],[i]);return e.jsx(v.ModularTable,{columns:s,data:i})},j=({profile:i})=>{const[s,t]=r.useState(1),[a,o]=r.useState(x),{activities:n,activitiesCount:u,isGettingActivities:l}=T({id:i.id,limit:a,offset:(s-1)*a});return l?e.jsx(y,{}):n.length?e.jsxs(e.Fragment,{children:[e.jsx(P,{activities:n}),e.jsx(E,{currentPage:s,pageSize:a,paginate:t,setPageSize:o,totalItems:u})]}):e.jsx(A,{title:"No runs found",body:"The profile has not run yet."})};export{j as default};
