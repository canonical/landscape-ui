import{z as _,l as f,Z as y,r as a,v as S,$ as g,a0 as h,j as s,n as x}from"./index-B_g91HlS.js";import{S as B}from"./SidePanelFormButtons-BwrUpgoq.js";import{u as P}from"./useSecurityProfileForm-DhXraV5W.js";import"./SidePanelFormButtons.module-D2P5PizG.js";import"./AssociationBlock-B9CaowS-.js";import"./MultiSelectField-EmFh1bBi.js";import"./useInstances-D_h2wUs3.js";import"./FileInput-Ddyjbfi-.js";import"./Flow-C0ebtsB2.js";import"./useOrgSettings-CRfZuf8G.js";import"./useRoles-BazT55Xo.js";import"./formikErrors-Bw8iTXYS.js";import"./RadioGroup-DFsBwa9L.js";const b="_step_koqdi_1",j={step:b},R=({onSuccess:n})=>{const{notify:d}=_(),{setSidePanelTitle:l}=f(),{addSecurityProfile:m,isSecurityProfileAdding:o}=y(),[t,i]=a.useState(0),{formik:u,steps:e}=P({initialValues:{all_computers:!1,access_group:"global",day_of_month_type:"day-of-month",days:[],delivery_time:"asap",end_date:"",end_type:"never",every:7,months:[],randomize_delivery:"no",restart_deliver_delay_window:1,restart_deliver_delay:1,start_date:S().utc().format(g),start_type:"on-a-date",tags:[],tailoring_file:null,title:"",unit_of_time:"DAILY"},mutate:m,onSuccess:r=>{h(r,d),n(r)}});a.useEffect(()=>{l(s.jsxs(s.Fragment,{children:["Add security profile",s.jsxs("small",{className:x(j.step,"u-text--muted"),children:["Step ",t+1," of ",e.length]})]}))},[t]);const c=()=>{i(t-1)},p=()=>{t<e.length-1?i(t+1):u.handleSubmit()};return s.jsxs(s.Fragment,{children:[s.jsx("p",{children:e[t].description}),e[t].content,s.jsx(B,{hasBackButton:t>0,onBackButtonPress:t>0?c:void 0,onSubmit:p,submitButtonDisabled:e[t].isLoading||!e[t].isValid||o,submitButtonLoading:e[t].isLoading||o,submitButtonText:e[t].submitButtonText})]})};export{R as default};
