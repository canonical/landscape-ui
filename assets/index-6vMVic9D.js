import{r as s,ag as l,D as w,j as t,d as h,G as P}from"./index-CNSDWj8Q.js";import{T}from"./TableFilter-2AKF5NjJ.js";import{a as x}from"./TableFilterChips-06YfpJdc.js";import{S as j}from"./SidePanelTablePagination-CaBsUOYn.js";import{P as _}from"./index-IabpLDeS.js";import"./TablePagination-CFXNvqsZ.js";import"./TextConfirmationModal-q88mH05g.js";import"./Blocks-yjg-J-3E.js";import"./Chip-O7cCAuuh.js";import"./InstancesPageActions-DL7_pmR1.js";import"./index-D-YBZSy_.js";import"./NoData-6ZK9sV5u.js";import"./useFetchOld-BAAs34Op.js";import"./PageParamFilter-ChSwlZqZ.js";import"./formikErrors-Bw8iTXYS.js";import"./ResponsiveTable-BXalKviy.js";import"./ListTitle-BUruUKn1.js";import"./StaticLink-BEYCGcPv.js";import"./TruncatedCell-BMum6DLZ.js";import"./Truncated-Dtg97i8C.js";import"./useExpandableRow-B4jhRgod.js";import"./index-CySvbr4l.js";import"./InfoGrid-3w5mqARw.js";import"./InfoItem-Bt7JBIPo.js";import"./EmployeeList-CKLLomOE.js";import"./constants-CDnVvJTb.js";import"./InstanceRemoveFromLandscapeModal-B5sQZb1c.js";import"./useRemoveInstancesFromLandscape-BuxxHEvw.js";import"./useRoles-DYJzr0u4.js";import"./SidePanel-ChyjtMJv.js";import"./WslInstancesEmptyState-Lmf8S52Y.js";import"./HeaderWithSearch-D2tNhOlz.js";const E={package:{label:"Package",value:"package"},reboot:{label:"Reboot",value:"reboot"},removal:{label:"Removal",value:"removal"},repository:{label:"Repository",value:"repository"},script:{label:"Script",value:"script"},security:{label:"Security",value:"security"},upgrade:{label:"Upgrade",value:"upgrade"},wsl:{label:"WSL",value:"wsl"}},b=r=>({package:"Package",removal:"Removal",repository:"Repository",reboot:"Reboot",script:"Script",security:"Security",upgrade:"Upgrade",wsl:"WSL"})[r],R="_header_1a4zf_1",I="_search_1a4zf_7",y={header:R,search:I},ce=({instance:r})=>{const[S,g]=s.useState(""),[m,a]=s.useState(l),[p,C]=s.useState(w),[o,d]=s.useState(""),[i,c]=s.useState([]),v=s.useMemo(()=>[{accessor:"title",Header:"Title",Cell:({row:{original:e}})=>t.jsx(_,{profile:e})},{accessor:"type",Header:"Type",Cell:({row:{original:e}})=>b(e.type)}],[]),f=()=>{g(""),d(""),a(l)},u=r.profiles?[...r.profiles.filter(e=>e.title.toLowerCase()===o.toLowerCase()),...r.profiles.filter(e=>e.title.toLowerCase()!==o&&e.title.toLowerCase().startsWith(o.toLowerCase())),...r.profiles.filter(e=>e.title.toLowerCase()!==o.toLowerCase()&&!e.title.toLowerCase().startsWith(o.toLowerCase())&&e.title.toLowerCase().includes(o.toLowerCase()))].filter(e=>!i.length||i.includes(e.type)):[],L=u.slice((m-1)*p,(m-1)*p+p);return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:y.header,children:[t.jsx(h.SearchBox,{className:P("u-no-margin--bottom",y.search),externallyControlled:!0,value:S,onChange:g,onClear:f,onSearch:e=>{d(e),a(l)},autoComplete:"off"}),t.jsx(T,{type:"multiple",label:"Type",onItemsSelect:e=>{c(e),a(l)},position:"right",options:Object.entries(E).filter(([e])=>r.profiles?.some(n=>n.type===e)).map(([,e])=>e),selectedItems:i})]}),t.jsx(x,{filters:[{label:"Search",item:o||void 0,clear:f},{label:"Type",items:i.map(e=>({label:b(e),value:e})),clear:()=>{c([]),a(l)},remove:e=>{c(i.filter(n=>n!==e)),a(l)},multiple:!0}]}),t.jsx(h.ModularTable,{columns:v,data:L,emptyMsg:"No profiles found according to your search parameters."}),t.jsx(j,{currentPage:m,pageSize:p,paginate:a,setPageSize:C,totalItems:u.length,currentItemCount:u.length})]})};export{ce as default};
