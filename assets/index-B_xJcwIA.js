import{c as n,k as p,r as c,n as u,A as b,j as s,e as r}from"./index-DoU7Rqsb.js";import{A as g}from"./AuthTemplate-JGL-JT3-.js";import{u as h}from"./formik.esm-BnMMHjVz.js";import{c as x,a as t,d as w}from"./index.esm-DZ6m6u_n.js";const f=()=>{const d=n(),{setUser:m}=p(),[l,o]=c.useState(!1),e=h({initialValues:{email:"",password:"",remember:!1},validationSchema:x().shape({email:t().email("Please provide a valid email address").required("This field is required"),password:t().required("This field is required"),remember:w()}),onSubmit:async a=>{o(!0);try{const{data:i}=await u.post(`${b}login`,{email:a.email,password:a.password});m(i,a.remember)}catch(i){d(i)}o(!1)}});return s.jsxs(r.Form,{onSubmit:e.handleSubmit,children:[s.jsx(r.Input,{type:"text",label:"Email",error:e.touched.email&&e.errors.email?e.errors.email:void 0,...e.getFieldProps("email"),"data-testid":"email"}),s.jsx(r.PasswordToggle,{id:"password",label:"Password",error:e.touched.password&&e.errors.password?e.errors.password:void 0,...e.getFieldProps("password"),"data-testid":"password"}),s.jsx(r.CheckboxInput,{label:"Remember this device",...e.getFieldProps("remember")}),s.jsx("div",{className:"form-buttons",children:s.jsx(r.Button,{type:"submit",appearance:"positive",disabled:l,children:"Login"})})]})},j=()=>s.jsx(g,{title:"Login",children:s.jsx(f,{})}),A=j;export{A as default};
