import{r as x,p as j,j as i,g as o}from"./index-DCAwryRC.js";import{P as _,a as P,b as C}from"./PageMain-CePqPHLQ.js";import{u as L,A as w}from"./index-DetfhYak.js";import"./usePageParams-BchW46Ly.js";import"./TablePagination-oJzylh4h.js";import"./TablePaginationBase-BsWWrGU5.js";import"./StatusFilter-CYYvvrMS.js";import"./TableFilter-DTuDrm_e.js";import"./TableFilterChips-CDRLjRnj.js";import"./useFetchOld-BoOD3y7l.js";import"./NoData-DBu952tQ.js";const N="_header_116wp_1",R={header:N},k=()=>{const[t,d]=x.useState([]),n=j(),{approveActivitiesQuery:l,cancelActivitiesQuery:p,redoActivitiesQuery:u,undoActivitiesQuery:m}=L(),{mutateAsync:v,isPending:s}=l,{mutateAsync:y,isPending:c}=p,{mutateAsync:h,isPending:a}=u,{mutateAsync:A,isPending:r}=m,g=async()=>{try{await v({query:`id:${t.join(" OR id:")}`})}catch(e){n(e)}},f=async()=>{try{await y({query:`id:${t.join(" OR id:")}`})}catch(e){n(e)}},b=async()=>{try{await h({activity_ids:t})}catch(e){n(e)}},B=async()=>{try{await A({activity_ids:t})}catch(e){n(e)}};return i.jsxs(_,{children:[i.jsx(P,{title:"Activities",className:R.header,actions:[i.jsx("div",{className:"p-segmented-control",children:i.jsxs("div",{className:"p-segmented-control__list",children:[i.jsx(o.ConfirmationButton,{className:"p-segmented-control__button",type:"button",disabled:t.length===0||s,confirmationModalProps:{title:`Approve ${t.length===1?"activity":"activities"}`,children:i.jsxs("p",{children:["Are you sure you want to approve selected"," ",t.length===1?"activity":"activities","?"]}),confirmButtonLabel:"Approve",confirmButtonAppearance:"positive",confirmButtonDisabled:s,confirmButtonLoading:s,onConfirm:g},children:"Approve"}),i.jsx(o.ConfirmationButton,{className:"p-segmented-control__button",type:"button",disabled:t.length===0||c,confirmationModalProps:{title:`Cancel ${t.length===1?"activity":"activities"}`,children:i.jsxs("p",{children:["Are you sure you want to cancel selected"," ",t.length===1?"activity":"activities","?"]}),confirmButtonLabel:"Apply",confirmButtonAppearance:"positive",confirmButtonDisabled:c,confirmButtonLoading:c,onConfirm:f},children:"Cancel"}),i.jsx(o.ConfirmationButton,{className:"p-segmented-control__button",type:"button",disabled:t.length===0||r,confirmationModalProps:{title:`Undo ${t.length===1?"activity":"activities"}`,children:i.jsxs("p",{children:["Are you sure you want to undo selected"," ",t.length===1?"activity":"activities","?"]}),confirmButtonLabel:"Undo",confirmButtonAppearance:"positive",confirmButtonDisabled:r,confirmButtonLoading:r,onConfirm:B},children:"Undo"}),i.jsx(o.ConfirmationButton,{className:"p-segmented-control__button",type:"button",disabled:t.length===0||a,confirmationModalProps:{title:`Redo ${t.length===1?"activity":"activities"}`,children:i.jsxs("p",{children:["Are you sure you want to redo selected"," ",t.length===1?"activity":"activities","?"]}),confirmButtonLabel:"Redo",confirmButtonAppearance:"positive",confirmButtonDisabled:a,confirmButtonLoading:a,onConfirm:b},children:"Redo"})]})},"buttons")]}),i.jsx(C,{children:i.jsx(w,{selectedIds:t,setSelectedIds:e=>d(e)})})]})};export{k as default};
