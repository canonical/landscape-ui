import{j as n,g as i}from"./index-DCLFjw4n.js";import{N as u}from"./NoData-CpDVMwx5.js";import"./usePageParams-DeQfI8dW.js";import{c as d,h as p,a as m}from"./helpers-gWLROABM.js";import{S as o}from"./InstancesPageActions-BY4qv6vv.js";const b="_rowHeader_spblf_5",g="_nested_spblf_8",h="_statusListItem_spblf_20",f="_statusContainer_spblf_24",c={rowHeader:b,nested:g,statusListItem:h,statusContainer:f},y=l=>l.map(({accessor:e,canBeHidden:r,optionLabel:t})=>({canBeHidden:r,label:t,value:e})),j=({groupBy:l,instance:e,selectedInstances:r})=>{const t=r.map(({id:a})=>a);return l==="parent"&&!e.is_wsl_instance&&e.children.length>0?e.children.every(({id:a})=>t.includes(a))?"checked":e.children.some(({id:a})=>t.includes(a))?"indeterminate":"unchecked":t.includes(e.id)?"checked":"unchecked"},L=({groupBy:l,instance:e,selectedInstances:r,setSelectedInstances:t})=>{if(l==="parent"&&e.children.length>0){const a=e.children.map(({id:s})=>s);r.some(({id:s})=>a.includes(s))?t(r.filter(({id:s})=>!a.includes(s))):t([...r,...e.children.map(s=>({...s,parent:e,children:[]}))])}else r.some(({id:a})=>a===e.id)?t(r.filter(({id:a})=>a!==e.id)):t([...r,e])},w=l=>{const e=((l==null?void 0:l.alerts)??[]).filter(({type:r})=>!["PackageUpgradesAlert","SecurityUpgradesAlert"].includes(r));return e.length===0?{icon:`${o.Online.icon.color}`,label:o.Online.alternateLabel??o.Online.label}:e.length===1?{icon:`${o[e[0].type].icon.color??o.Unknown.icon.color}`,label:n.jsx(n.Fragment,{children:e[0].summary})}:{label:n.jsx("span",{className:c.statusContainer,children:e.map(({type:r,summary:t})=>{var a;return n.jsx("span",{className:c.statusListItem,children:n.jsx(i.Tooltip,{message:t,children:n.jsx(i.Icon,{className:"u-no-margin--left",name:`${((a=o[r])==null?void 0:a.icon.color)??o.Unknown.icon.color}`})})},r)})})}},U=l=>({regular:m(l)?{icon:o.PackageUpgradesAlert.icon.color??"",label:o.PackageUpgradesAlert.label}:!1,security:p(l)?{icon:o.SecurityUpgradesAlert.icon.color??"",label:o.SecurityUpgradesAlert.label}:!1}),S=l=>{if(!d("ubuntu",l))return{icon:"",label:n.jsx(u,{})};const{regular:e,security:r}=U(l.alerts);return e&&r?{icon:r.icon,label:`${e.label}, ${r.label.toLowerCase()}`}:e?{icon:e.icon,label:e.label}:r?{icon:r.icon,label:r.label}:{icon:o.UpToDate.icon.color,label:o.UpToDate.label}},N=({id:l})=>{const e={};return l==="title"&&(e["aria-labelledby"]="column-1-label"),e};export{j as a,S as b,c,y as d,N as e,w as g,L as h};
