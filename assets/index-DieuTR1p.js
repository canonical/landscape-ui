const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BXr5cq0c.js","assets/index-BniO5lih.js","assets/index-zG6MToCc.css","assets/useRoles-DRKlPdx8.js","assets/index-CfXqLKNo.css"])))=>i.map(i=>d[i]);
import{aE as c,aF as _,y as x,j as t,d as l,x as S,L as P,V as j,R as y,r as p,i as g,a7 as h,m as A,f as I,a0 as E,aG as f,E as b}from"./index-BniO5lih.js";import{P as k,a as L,b as R}from"./PageMain-DMSiaUeu.js";const T="_listItem_upezw_1",v="_listItem__link_upezw_9",d={listItem:T,listItem__link:v},C=s=>{const e=c[s.alert_type]||c.Unknown,n=s.alert_type in _;return s.alert_type==="UbuntuProContractExpirationAlert"?{contractExpiryDays:e.filterValue}:n?{status:e.filterValue}:{query:e.query}},F=p.lazy(()=>h(()=>import("./index-BXr5cq0c.js"),__vite__mapDeps([0,1,2,3,4]))),N=({alerts:s,pendingInstances:e})=>{const{setSidePanelContent:n}=x(),i=()=>{n("Review Pending Instances",t.jsx(p.Suspense,{fallback:t.jsx(g,{}),children:t.jsx(F,{instances:e})}),"large")},o=s.map((r,u)=>{const a=c[r.alert_type]||c.Unknown,m=C(r);return t.jsxs("div",{className:d.listItem,children:[t.jsx(l.Icon,{name:`${a.icon.color??a.icon.gray}`}),a.alertType==="PendingComputersAlert"?t.jsxs(l.Button,{type:"button",appearance:"link",className:"u-no-margin u-no-padding",onClick:i,children:[`${e.length} pending `,S(e.length,"computer needs","computers need")," ","authorization"]}):t.jsx(P,{to:y.instances.root(m),className:j("u-no-margin u-no-padding",d.listItem__link),children:r.summary})]},a.alertType||u)});return t.jsx(l.List,{items:o})};function w(){const s=A();return{getAlertsSummaryQuery:()=>I({queryKey:["alert","summary"],queryFn:async()=>s.get("alerts/summary")})}}const z=()=>{const s=E(),{getAlertsSummaryQuery:e}=w(),{data:n,isLoading:i}=e(),o=n?.data.alerts_summary.some(m=>m.alert_type==="PendingComputersAlert"),{pendingInstances:r,isGettingPendingInstances:u}=f(void 0,{enabled:o}),a=n?.data.alerts_summary||[];return t.jsxs(k,{children:[t.jsx(L,{title:"Alerts"}),t.jsx(R,{children:i||o&&u?t.jsx(g,{}):a.length?t.jsx(N,{alerts:a,pendingInstances:r}):t.jsx(b,{title:"No subscribed alerts found",icon:"connected",body:t.jsx("p",{children:"You are not subscribed to any alerts yet."}),cta:[t.jsx(l.Button,{appearance:"positive",onClick:()=>s(y.account.alerts(),{replace:!0}),type:"button","aria-label":"Go to alerts page",children:"Go to alerts"},"go-to-alerts-page")]})})]})};export{z as default};
