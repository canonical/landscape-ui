import{j as t,e as j,L as o,R as m,o as c,N as n}from"./index-Dfc97QGW.js";import{P as I}from"./ProfileAssociationInfo-BZ4wkhut.js";import{B as i}from"./Blocks-D5DN66oP.js";import{I as e}from"./InfoGrid-CrJbMYy5.js";import{d as v}from"./ScriptsTabs-BSK7sb4n.js";import"./helpers-BbXQOWxJ.js";import"./index-DiSNWm9B.js";import{u as b}from"./useRoles-TXLG25Jr.js";import{g as S,a as _,S as h}from"./index-DyYA0Kdx.js";import"./InfoItem-DImpX37B.js";import"./NoData-DMN9LLPq.js";import"./Truncated-D8EZCoK1.js";import"./TablePagination-B0v8QAQr.js";import"./TableFilterChips-DXWGZ6VK.js";import"./constants-BTpoIHxf.js";import"./ResponsiveTable-ViIMTRR6.js";import"./StaticLink-BNg3qc2M.js";import"./TruncatedCell-Cf7_euhM.js";import"./useExpandableRow-DYtdXwcw.js";import"./TextConfirmationModal-O9rtHEfo.js";import"./PageParamFilter-C5PJgjVf.js";import"./TableFilter-BmLRyeMD.js";import"./HeaderWithSearch-cCuZhEhs.js";import"./SingleInstanceTabs.module-DvhuGYYD.js";import"./useFetchOld-BgGVMMmJ.js";import"./SidePanel-BVCSOSpO.js";import"./ProfileAssociatedInstancesLink-CSFk2VcW.js";const V=({profile:s})=>{const{script:r,isScriptLoading:l}=v(s.script_id),{getAccessGroupQuery:u}=b(),{data:p,isLoading:g}=u();if(l||g)return t.jsx(j,{});const x=p?.data.find(d=>d.name==s.access_group)?.title||s.access_group,a=s.activities.last_activity;return t.jsxs(i,{children:[t.jsx(i.Item,{children:t.jsxs(e,{children:[t.jsx(e.Item,{label:"Title",value:s.title}),t.jsx(e.Item,{label:"Status",value:S(s)}),t.jsx(e.Item,{label:"Script",value:r?t.jsx(o,{to:m.scripts.root({tab:"scripts"}),state:{scriptId:r.id},children:r.title}):null}),t.jsx(e.Item,{label:"Access group",value:x}),t.jsx(e.Item,{label:"Run as user",value:s.username}),t.jsx(e.Item,{label:"Time limit",value:`${s.time_limit}s`})]})}),t.jsx(i.Item,{children:t.jsxs(e,{children:[t.jsx(e.Item,{label:"Trigger",large:!0,value:_(s)}),s.trigger.trigger_type!=="event"&&t.jsx(e.Item,{label:"Next run",value:s.trigger.next_run?`${c(s.trigger.next_run).utc().format(n)}`:null}),t.jsx(e.Item,{label:"Last run",value:a?t.jsx(o,{to:m.activities.root({query:`parent-id:${a.id}`}),children:c(a.creation_time).utc().format(n)}):null})]})}),t.jsx(i.Item,{title:"Association",children:t.jsx(I,{profile:s,children:t.jsxs(e,{children:[t.jsx(e.Item,{label:"Associated instances",large:!0,value:t.jsx(h,{scriptProfile:s})}),t.jsx(e.Item,{label:"Tags",large:!0,value:s.tags.join(", "),type:"truncated"})]})})})]})};export{V as default};
