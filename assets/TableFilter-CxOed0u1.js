import{r as b,j as t,g as d,m as x}from"./index-DLbbZNdR.js";const C=({onSearch:a})=>{const[g,i]=b.useState("");return t.jsx(d.Form,{onSubmit:m=>{m.preventDefault(),a(g)},children:t.jsx(d.SearchBox,{externallyControlled:!0,shouldRefocusAfterReset:!0,autoComplete:"off",value:g,onChange:m=>i(m),onSearch:()=>a(g),onClear:()=>{i(""),a("")}})})},y=({label:a,options:g,otherProps:i})=>{var m;return!i.multiple&&i.showSelectionOnToggleLabel&&((m=g.find(s=>s.value===i.selectedItem))==null?void 0:m.label)||a},f="_toggle_1lyga_1",I="_badgeContainer_1lyga_7",N="_multiple_1lyga_12",w="_badge_1lyga_7",h="_dropdown_1lyga_23",k="_container_1lyga_27",B="_horizontalPadding_1lyga_32",T="_list_1lyga_37",F="_listItem_1lyga_46",S="_separated_1lyga_53",z="_button_1lyga_59",v="_selected_1lyga_66",A="_footer_1lyga_72",l={toggle:f,badgeContainer:I,multiple:N,badge:w,dropdown:h,container:k,horizontalPadding:B,list:T,listItem:F,separated:S,button:z,selected:v,footer:A},L=({disabledOptions:a,hasBadge:g,hasToggleIcon:i,label:m,options:s,onSearch:u,position:j="left",...e})=>{const p=({onItemsSelect:c,selectedItems:n})=>o=>{c(n.includes(o.target.value)?n.filter(_=>_!==o.target.value):[...n,o.target.value])};return t.jsxs(d.ContextualMenu,{autoAdjust:!0,toggleAppearance:"base",toggleLabel:t.jsxs(t.Fragment,{children:[t.jsx("span",{children:y({label:m,options:s,otherProps:e})}),g&&e.multiple&&t.jsx("span",{className:x(l.badgeContainer,{[l.multiple]:s.length>9}),children:e.selectedItems.length>0&&t.jsx(d.Badge,{value:e.selectedItems.length,className:l.badge})}),g&&!e.multiple&&t.jsx("span",{className:l.badgeContainer,children:e.selectedItem&&t.jsx("svg",{role:"img",width:"12",height:"12",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("circle",{cx:"10",cy:"13",r:"6",fill:"#666666"})})})]}),toggleClassName:l.toggle,hasToggleIcon:i,dropdownClassName:l.dropdown,position:j,onToggleMenu:c=>{c&&u&&u("")},children:[t.jsxs("span",{className:x(l.container,{[l.multiple]:e.multiple,[l.horizontalPadding]:!!(e.multiple||u)}),children:[u&&t.jsx(C,{onSearch:u}),t.jsx("ul",{className:l.list,children:s.map(({label:c,value:n,group:o},_)=>t.jsxs("li",{className:x({[l.listItem]:e.multiple,[l.separated]:o&&s[_+1]!==void 0&&s[_+1].group!==o}),children:[e.multiple&&t.jsx(d.Input,{type:"checkbox",label:c,labelClassName:"u-no-padding--top u-no-margin--bottom",value:n,onChange:p(e),checked:e.selectedItems.includes(n),disabled:a==null?void 0:a.some(r=>r.value===n)}),!e.multiple&&e.selectedItem!==n&&t.jsx(d.Button,{type:"button",appearance:"base",className:l.button,onClick:()=>e.onItemSelect(n),disabled:a==null?void 0:a.some(r=>r.value===n),children:c}),!e.multiple&&e.selectedItem===n&&t.jsx("span",{className:l.selected,children:c})]},n))})]}),e.multiple&&t.jsxs("span",{className:l.footer,children:[t.jsx(d.Button,{type:"button",appearance:"link",className:"u-no-margin--bottom u-no-padding--top",onClick:()=>e.onItemsSelect(s.map(({value:c})=>c)),children:"Select all"}),e.showSelectedItemCount?t.jsx("span",{className:"u-text--muted",children:`${e.selectedItems.length} of ${s.length} selected`}):t.jsx(d.Button,{type:"button",appearance:"link",className:"u-no-margin--bottom u-no-padding--top",onClick:()=>e.onItemsSelect([]),children:"Clear"})]})]})};export{L as T,l as t};
