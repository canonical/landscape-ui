import{l as i,j as a,ae as c,d as r,R as b,F as g,af as p,n as v,ag as P}from"./index-DvQ7Ypp3.js";import{P as m,a as x,b as j}from"./PageMain-CeMq4LNc.js";import{L as h}from"./constants-JemvDXE4.js";const y={enabled:!0,id:-1,name:"Ubuntu One",provider:"ubuntu-one"},C=({oidcAvailable:s,oidcProviders:e,ubuntuOneAvailable:n,ubuntuOneEnabled:d})=>{const o=i.useMemo(()=>[...[{...y,enabled:d}].slice(n?0:1),...e.slice(s?0:e.length)],[e,s,n,d]),l=o.filter(({enabled:t})=>t).length>1,u=i.useMemo(()=>[{accessor:"name",Header:"Name"},{accessor:"enabled",Header:"Status",Cell:({row:{original:t}})=>t.enabled?"Enabled":"Disabled",getCellIcon:({row:{original:t}})=>t.enabled?"status-succeeded-small":"status-queued-small"},{accessor:"provider",Header:"Provider"},{...h,Cell:({row:{original:t}})=>a.jsx(c,{canBeDisabled:l,provider:t})}],[o]);return a.jsx(r.ModularTable,{columns:u,data:o})},L=()=>{const{getLoginMethodsQuery:s}=b(),{data:e,isLoading:n}=s();return a.jsxs(a.Fragment,{children:[n&&a.jsx(g,{}),!n&&(!e||!e.data.ubuntu_one.available&&e.data.oidc.configurations.length===0)&&a.jsx(p,{}),!n&&e&&(e.data.ubuntu_one.available||e.data.oidc.available&&e.data.oidc.configurations.length>0)&&a.jsx(C,{oidcAvailable:e.data.oidc.available,oidcProviders:e.data.oidc.configurations,ubuntuOneAvailable:e.data.ubuntu_one.available,ubuntuOneEnabled:e.data.ubuntu_one.enabled})]})},I=()=>{const{setSidePanelContent:s}=v(),e=()=>{s("Choose an identity provider",a.jsx(P,{}))};return a.jsxs(m,{children:[a.jsx(x,{title:"Identity Providers",actions:[a.jsx(r.Button,{type:"button",appearance:"positive",onClick:e,children:"Add identity provider"},"add-identity-provider")]}),a.jsx(j,{children:a.jsx(L,{})})]})};export{I as default};
