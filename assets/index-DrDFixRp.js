import{r as i,j as a,ai as c,aj as b,d as r,Y as v,q as g,ak as p,o as P,al as x}from"./index-C1og3ZfX.js";import{P as j,a as m,b as h}from"./PageMain-Bc4clVKu.js";const y={enabled:!0,id:-1,name:"Ubuntu One",provider:"ubuntu-one"},C=({oidcAvailable:s,oidcProviders:e,ubuntuOneAvailable:n,ubuntuOneEnabled:d})=>{const o=i.useMemo(()=>[...[{...y,enabled:d}].slice(n?0:1),...e.slice(s?0:e.length)],[e,s,n,d]),l=o.filter(({enabled:t})=>t).length>1,u=i.useMemo(()=>[{accessor:"name",Header:"Name"},{accessor:"enabled",Header:"Status",Cell:({row:{original:t}})=>t.enabled?"Enabled":"Disabled",getCellIcon:({row:{original:t}})=>t.enabled?"status-succeeded-small":"status-queued-small"},{accessor:"provider",Header:"Provider"},{...c,Cell:({row:{original:t}})=>a.jsx(b,{canBeDisabled:l,provider:t})}],[o]);return a.jsx(r.ModularTable,{columns:u,data:o})},L=()=>{const{getLoginMethodsQuery:s}=v(),{data:e,isLoading:n}=s();return a.jsxs(a.Fragment,{children:[n&&a.jsx(g,{}),!n&&(!e||!e.data.ubuntu_one.available&&e.data.oidc.configurations.length===0)&&a.jsx(p,{}),!n&&e&&(e.data.ubuntu_one.available||e.data.oidc.available&&e.data.oidc.configurations.length>0)&&a.jsx(C,{oidcAvailable:e.data.oidc.available,oidcProviders:e.data.oidc.configurations,ubuntuOneAvailable:e.data.ubuntu_one.available,ubuntuOneEnabled:e.data.ubuntu_one.enabled})]})},I=()=>{const{setSidePanelContent:s}=P(),e=()=>{s("Choose an identity provider",a.jsx(x,{}))};return a.jsxs(j,{children:[a.jsx(m,{title:"Identity Providers",actions:[a.jsx(r.Button,{type:"button",appearance:"positive",onClick:e,children:"Add identity provider"},"add-identity-provider")]}),a.jsx(h,{children:a.jsx(L,{})})]})};export{I as default};
