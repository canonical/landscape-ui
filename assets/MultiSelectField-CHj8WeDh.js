import{r as o,j as t,m as p,g as w}from"./index-xYBbIcB9.js";try{let s=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},c=new s.Error().stack;c&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[c]="f8c17031-4059-4d07-b382-bfa40f39cfa5",s._sentryDebugIdIdentifier="sentry-dbid-f8c17031-4059-4d07-b382-bfa40f39cfa5")}catch{}const N="_container_v4cko_1",S="_errorMessage_v4cko_14",g={container:N,errorMessage:S},D=({className:s,disabled:c,disabledItems:y,dropdownFooter:b,error:r,help:m,innerRef:i,items:_,label:f,labelClassName:h,required:j,...v})=>{const[x,I]=o.useState(!1),l=o.useRef(null),d=o.useRef(""),E=e=>{var u;if(!e||(i&&(typeof i=="function"?i(e):i.current=e),!e.closest(".l-aside")))return;const n=e.querySelector(".multi-select__select-button"),a=e.querySelector(".p-search-box__input");l.current=n||a,d.current=((u=l.current)==null?void 0:u.getAttribute("aria-controls"))||""};o.useEffect(()=>{if(!l.current)return;const e=new MutationObserver(n=>{n.some(({attributeName:a,type:u})=>u==="attributes"&&a==="aria-expanded")&&I(a=>!a)});return e.observe(l.current,{attributes:!0}),()=>{e.disconnect()}},[]),o.useEffect(()=>{if(!x||!d.current)return;const e=document.getElementById(d.current),n=e==null?void 0:e.closest(".multi-select");n&&(n.style.zIndex="101")},[x]);const M=r?t.jsxs("div",{children:[t.jsx("p",{className:"p-form-validation__message",children:t.jsx("span",{children:r})}),b]}):b;return t.jsxs("div",{className:p("p-form-validation p-form__group",{"is-error":!!r},g.container,s),ref:E,children:[f&&t.jsx("label",{className:p("p-form__label",{"is-required":j},h),children:f}),m&&t.jsx("p",{className:"p-form-help-text",children:m}),t.jsx(w.MultiSelect,{dropdownFooter:M,disabled:c,disabledItems:c?_:y,error:r,items:_,label:f,...v}),r&&t.jsx("p",{className:p(g.errorMessage,"p-form-validation__message"),children:t.jsx("span",{children:r})})]})};export{D as M};
