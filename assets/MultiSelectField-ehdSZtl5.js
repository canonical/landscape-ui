import{r as n,j as t,i as f,h as E}from"./index-u_EhbhC_.js";const M="_container_v4cko_1",y="_errorMessage_v4cko_14",m={container:M,errorMessage:y},S=({dropdownFooter:p,error:s,required:x,className:_,label:l,labelClassName:b,innerRef:a,...j})=>{const[d,v]=n.useState(!1),o=n.useRef(null),u=n.useRef(""),g=e=>{var i;if(!e||(a&&(typeof a=="function"?a(e):a.current=e),!e.closest(".l-aside")))return;const r=e.querySelector(".multi-select__select-button"),c=e.querySelector(".p-search-box__input");o.current=r||c,u.current=((i=o.current)==null?void 0:i.getAttribute("aria-controls"))||""};n.useEffect(()=>{if(!o.current)return;const e=new MutationObserver(r=>{r.some(({attributeName:c,type:i})=>i==="attributes"&&c==="aria-expanded")&&v(c=>!c)});return e.observe(o.current,{attributes:!0}),()=>{e.disconnect()}},[]),n.useEffect(()=>{if(!d||!u.current)return;const e=document.getElementById(u.current),r=e==null?void 0:e.closest(".multi-select");r&&(r.style.zIndex="101")},[d]);const h=s?t.jsxs("div",{children:[t.jsx("p",{className:"p-form-validation__message",children:t.jsx("span",{children:s})}),p]}):p;return t.jsxs("div",{className:f("p-form-validation p-form__group",{"is-error":!!s},m.container,_),ref:g,children:[l&&t.jsx("label",{className:f("p-form__label",{"is-required":x},b),children:l}),t.jsx(E.MultiSelect,{label:l,error:s,dropdownFooter:h,...j}),s&&t.jsx("p",{className:f(m.errorMessage,"p-form-validation__message"),children:t.jsx("span",{children:s})})]})};export{S as M};
