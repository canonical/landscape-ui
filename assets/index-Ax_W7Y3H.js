const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DY5IDt2k.js","assets/index-Bh3WYS6L.js","assets/index-DCLFjw4n.js","assets/index-DCq_vsqr.css","assets/PageMain-7zJmtBkc.js","assets/PageMain--v5xNZ5p.css","assets/usePageParams-DeQfI8dW.js","assets/useRoles-Cy7Nmkjx.js","assets/useFetchOld-CeF4Ue_s.js","assets/NoData-CpDVMwx5.js","assets/HeaderWithSearch-D_we73R4.js","assets/HeaderWithSearch-C2lwo0VI.css","assets/TableFilterChips-pQ6HS23b.js","assets/TableFilterChips-CHqetGbX.css","assets/index-DZV3RfT9.css","assets/AssociationBlock-B7lZB6HX.js","assets/MultiSelectField-D2-Jzgf-.js","assets/MultiSelectField-GyNA33om.css","assets/useInstances-iuFeF5dT.js","assets/AssociationBlock-OuvPxND7.css","assets/SidePanelFormButtons-BEcUkkn0.js","assets/SidePanelFormButtons.module-D2P5PizG.js","assets/SidePanelFormButtons-JM1G8Sq6.css","assets/formikErrors-Bw8iTXYS.js","assets/index-DiN_kW93.css"])))=>i.map(i=>d[i]);
import{r as i,p as R,q as P,f as D,j as e,g as o,I as n,D as E,n as h,_ as k}from"./index-DCLFjw4n.js";import{N}from"./NoData-CpDVMwx5.js";import{h as I}from"./usePageParams-DeQfI8dW.js";import{u as T}from"./index-Bh3WYS6L.js";import"./PageMain-7zJmtBkc.js";import"./useRoles-Cy7Nmkjx.js";import"./useFetchOld-CeF4Ue_s.js";import"./HeaderWithSearch-D_we73R4.js";import"./TableFilterChips-pQ6HS23b.js";const C="_block_zzdrk_1",x={block:C},S={mo:"Monday",tu:"Tuesday",we:"Wednesday",th:"Thursday",fr:"Friday",sa:"Saturday",su:"Sunday"},$=s=>s.length===2?`${s[0]} and ${s[1]}`:s.length>2?`${s.slice(0,-1).join(", ")}, and ${s[s.length-1]}`:s[0]??"",A=s=>{var l;if(s.every!=="week"||!((l=s.on_days)!=null&&l.length))return"One-time";const t=s.on_days.map(c=>S[c.toLowerCase()]);return`Every week on ${$(t)}`},b=i.lazy(async()=>k(()=>import("./index-DY5IDt2k.js").then(s=>s.i),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]))),q=({accessGroupOptions:s,profile:t})=>{var u;const[r,l]=i.useState(""),c=R(),{notify:j}=P(),{closeSidePanel:g,setSidePanelContent:d}=D(),{removeRebootProfile:p,isRemovingRebootProfile:m}=T(),v=a=>{l(a.target.value)},_=async()=>{try{await p({id:t.id}),g(),j.success({title:"Reboot profile removed",message:`Reboot profile ${t.title} has been removed`})}catch(a){c(a)}},y=()=>{d(`Edit "${t.title}" profile`,e.jsx(i.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(b,{action:"edit",profile:t})}))},f=()=>{d(`Duplicate "${t.title}" profile`,e.jsx(i.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(b,{action:"duplicate",profile:t})}))};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-segmented-control",children:[e.jsxs(o.Button,{type:"button",hasIcon:!0,className:"p-segmented-control__button",onClick:y,"aria-label":`Edit reboot profile ${t.title}`,children:[e.jsx(o.Icon,{name:"edit"}),e.jsx("span",{children:"Edit"})]}),e.jsxs(o.Button,{type:"button",hasIcon:!0,className:"p-segmented-control__button",onClick:f,"aria-label":`Edit reboot profile ${t.title}`,children:[e.jsx(o.Icon,{name:"canvas"}),e.jsx("span",{children:"Duplicate"})]}),e.jsxs(o.ConfirmationButton,{className:"p-segmented-control__button has-icon",confirmationModalProps:{title:"Remove reboot profile",children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("p",{children:['Are you sure you want to remove "',t.title,'" reboot profile? The removal of "',t.title,'" reboot profile is irreversible and might adversely affect your system.']}),"Type ",e.jsxs("strong",{children:["remove ",t.title]})," to confirm."]}),e.jsx(o.Input,{type:"text",value:r,onChange:v})]}),confirmButtonLabel:"Remove",confirmButtonAppearance:"negative",onConfirm:_,confirmButtonDisabled:r!==`remove ${t.title}`||m,confirmButtonLoading:m},children:[e.jsx(o.Icon,{name:o.ICONS.delete}),e.jsx("span",{children:"Remove"})]},t.id)]}),e.jsxs(o.Row,{className:"u-no-padding--left u-no-padding--right",children:[e.jsx(o.Col,{size:6,children:e.jsx(n,{label:"Name",value:t.title})}),e.jsx(o.Col,{size:6,children:e.jsx(n,{label:"Access group",value:((u=s.find(({value:a})=>a===t.access_group))==null?void 0:u.label)??t.access_group})})]}),e.jsxs("div",{className:x.block,children:[e.jsx("p",{className:"p-heading--5",children:"Reboot schedule"}),e.jsx("div",{children:e.jsx(n,{label:"schedule",value:A(t)})}),e.jsx("div",{children:e.jsx(n,{label:"next reboot",value:I(t.next_run).format(E)})})]}),e.jsxs("div",{className:x.block,children:[e.jsx("p",{className:"p-heading--5",children:"Association"}),t.all_computers&&e.jsx("p",{children:"This profile has been associated with all instances."}),!t.all_computers&&!t.tags.length&&e.jsx("p",{children:"This profile has not yet been associated with any instances."}),!t.all_computers&&t.tags.length>0&&e.jsx(n,{label:"Tags",value:t.tags.length?t.tags.join(", "):e.jsx(N,{})}),!t.all_computers&&t.tags.length>0&&e.jsx(n,{label:"associated instances",value:t.tags})]})]})};export{q as default};
