import{u as p}from"./useFetchOld-BGcQOp2P.js";import{c as h,d,j as t,h as a}from"./index-P3tcVer_.js";const j=()=>{const s=p(),c=h(),{mutateAsync:r,isPending:i}=d({mutationKey:["scripts","createAttachment"],mutationFn:async o=>s.get("CreateScriptAttachment",{params:o}),onSuccess:async()=>c.invalidateQueries({queryKey:["scripts"]})});return{createScriptAttachment:r,isCreatingScriptAttachment:i}},f=({attachments:s,attachmentsToRemove:c,getFileInputError:r,initialAttachments:i,onFileInputChange:o,onInitialAttachmentDelete:m})=>t.jsx(t.Fragment,{children:Object.keys(s).map((l,u)=>{const e=l,n=i[u];return!n||c.includes(n.filename)?t.jsx(a.Input,{type:"file",label:`${e} attachment`,labelClassName:"u-off-screen",onChange:o(e),error:r(e)},e):t.jsxs("div",{style:{marginBottom:"1rem"},children:[t.jsx("span",{children:n.filename}),t.jsx(a.Button,{type:"button",hasIcon:!0,appearance:"base",className:"u-no-margin--bottom","aria-label":`Remove ${n.filename} attachment`,onClick:()=>{m(n.filename)},children:t.jsx(a.Tooltip,{message:"Remove",position:"top-center",children:t.jsx(a.Icon,{name:a.ICONS.delete})})})]},e)})});export{f as S,j as u};
