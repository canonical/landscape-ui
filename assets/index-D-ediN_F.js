const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DQZ9cMRb.js","assets/index-W6vPPLJL.js","assets/index-DR4EZdeG.css","assets/AssociationBlock-pDkR0lbR.js","assets/MultiSelectField-pxDJB9j6.js","assets/MultiSelectField-GyNA33om.css","assets/useInstances-BtdYuGSt.js","assets/AssociationBlock-DQBJa-xL.css","assets/SidePanelFormButtons-m4F_GuJu.js","assets/SidePanelFormButtons.module-BuIu-Bem.js","assets/SidePanelFormButtons-CmV-sWf7.css","assets/WslInstancesHeader-DbE6WDdF.js","assets/HeaderWithSearch-DvpCwkwh.js","assets/HeaderWithSearch-C2lwo0VI.css","assets/WslInstancesHeader-Dj3EjS23.css","assets/useRoles-CljDB4fV.js","assets/index-BST7K_RH.js","assets/PageMain-BybW3O7_.js","assets/PageMain-CIunaku7.css","assets/useExpandableRow-BLemXu55.js","assets/index-BtaQm1kT.css","assets/constants-CGmSpzVx.js","assets/index-BWE5-HG6.css","assets/index-Mo8MpUrY.js","assets/CodeEditor-4xlU4EX1.js","assets/index-DIg8oi2_.js","assets/CodeEditor-KxSGUzo3.css","assets/FileInput-YDBVo5Po.js"])))=>i.map(i=>d[i]);
import{r as a,B as I,C as W,o as E,j as e,d as n,I as t,y as c,aa as N,q as m,a2 as h}from"./index-W6vPPLJL.js";import{u as R}from"./index-BST7K_RH.js";import"./PageMain-BybW3O7_.js";import"./useExpandableRow-BLemXu55.js";import"./useRoles-CljDB4fV.js";import"./HeaderWithSearch-DvpCwkwh.js";const S="_block_12b3u_1",u={block:S},$=a.lazy(async()=>h(()=>import("./index-DQZ9cMRb.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]))),k=a.lazy(async()=>h(()=>import("./index-Mo8MpUrY.js"),__vite__mapDeps([23,1,2,3,4,5,6,7,24,25,26,27,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]))),A=({profile:s,accessGroupOptions:x})=>{const[j,i]=a.useState(!1),p=I(),{notify:g}=W(),{closeSidePanel:b,setSidePanelContent:r}=E(),{removeWslProfileQuery:v}=R(),{mutateAsync:_,isPending:d}=v,y=()=>{i(!0)},l=()=>{i(!1)},P=async()=>{try{await _({name:s.name}),l(),b(),g.success({message:`WSL profile "${s.title}" removed successfully.`,title:"WSL profile removed"})}catch(o){l(),p(o)}},C=()=>{r(`Edit "${s.title}" profile`,e.jsx(a.Suspense,{fallback:e.jsx(m,{}),children:e.jsx($,{profile:s})}))},f=()=>{r(`Duplicate "${s.title}" profile`,e.jsx(a.Suspense,{fallback:e.jsx(m,{}),children:e.jsx(k,{action:"duplicate",profile:s})}))};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-segmented-control",children:[e.jsxs(n.Button,{type:"button",hasIcon:!0,className:"p-segmented-control__button",onClick:C,children:[e.jsx(n.Icon,{name:"edit"}),e.jsx("span",{children:"Edit"})]}),e.jsxs(n.Button,{type:"button",hasIcon:!0,className:"p-segmented-control__button",onClick:f,children:[e.jsx(n.Icon,{name:"canvas"}),e.jsx("span",{children:"Duplicate"})]}),e.jsxs(n.Button,{type:"button",hasIcon:!0,className:"p-segmented-control__button","aria-label":`Remove ${s.title} profile`,onClick:y,children:[e.jsx(n.Icon,{name:n.ICONS.delete}),e.jsx("span",{children:"Remove"})]})]}),e.jsxs(n.Row,{className:"u-no-padding--left u-no-padding--right",children:[e.jsx(n.Col,{size:6,children:e.jsx(t,{label:"title",value:s.title})}),e.jsx(n.Col,{size:6,children:e.jsx(t,{label:"name",value:s.name})}),e.jsx(t,{label:"access group",value:x.find(({value:o})=>o===s.access_group)?.label??s.access_group}),e.jsx(t,{label:"description",value:s.description}),e.jsxs("div",{className:u.block,children:[e.jsx(t,{label:"rootfs image name",value:s.image_name}),s.image_source&&e.jsx(t,{type:"truncated",label:"rootfs image source",value:s.image_source}),e.jsx(t,{label:"cloud init",value:s.cloud_init_contents||"N/A"})]}),e.jsxs("div",{className:u.block,children:[e.jsx("p",{className:"p-heading--5",children:"Association"}),s.all_computers&&e.jsx("p",{children:"This profile has been associated with all instances."}),!s.all_computers&&!s.tags.length&&e.jsx("p",{children:"This profile has not yet been associated with any instances."}),!s.all_computers&&s.tags.length>0&&e.jsx(t,{label:"tags",value:s.tags.join(", ")})]}),e.jsx(n.Col,{size:12,children:e.jsx(t,{label:"associated",value:`${s.computers.constrained.length} ${c(s.computers.constrained.length,"instance")}`})}),e.jsx(n.Col,{size:6,children:e.jsx(t,{label:"not compliant",value:`${s.computers["non-compliant"].length} ${c(s.computers["non-compliant"].length,"instance")}`})}),e.jsx(n.Col,{size:6,children:e.jsx(t,{label:"pending",value:`${s.computers.pending?.length??0} ${c(s.computers.pending.length,"instance")}`})})]}),e.jsx(N,{isOpen:j,close:l,onConfirm:P,title:"Remove WSL profile",confirmButtonLabel:"Remove",confirmButtonAppearance:"negative",confirmButtonDisabled:d,confirmButtonLoading:d,confirmationText:`remove ${s.title}`,children:e.jsxs("p",{children:["Removing this profile will affect"," ",e.jsxs("b",{children:[s.computers.constrained.length," instances"]}),". This action is ",e.jsx("b",{children:"irreversible"}),"."]})})]})};export{A as default};
