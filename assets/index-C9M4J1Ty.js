import{o as s,ax as l,D as P,j as t,e as h,K as w,T as x}from"./index-D2Oms9tG.js";import{S as T}from"./SidePanelTableFilterChips-CXSrlu-O.js";import{S as j}from"./SidePanelTablePagination-BE_xxYvd.js";import{P as _}from"./index-wTMWa02F.js";import"./TextConfirmationModal-CtMemiEv.js";import"./Chip-BuipZy3d.js";import"./EmployeeList-D6Wn5OXk.js";import"./constants-DTivhiFn.js";import"./InstanceRemoveFromLandscapeModal-L49JbkDv.js";import"./useRemoveInstancesFromLandscape-D3uGre_i.js";import"./useRoles-DpI5_hUS.js";import"./index-jyggs6np.js";import"./WslInstancesEmptyState-C9fN_uNf.js";import"./GroupFilter-7ewbsEeN.js";import"./HeaderWithSearch-BvyKfcDC.js";const E={package:{label:"Package",value:"package"},reboot:{label:"Reboot",value:"reboot"},removal:{label:"Removal",value:"removal"},repository:{label:"Repository",value:"repository"},script:{label:"Script",value:"script"},security:{label:"Security",value:"security"},upgrade:{label:"Upgrade",value:"upgrade"},wsl:{label:"WSL",value:"wsl"}},S=r=>({package:"Package",removal:"Removal",repository:"Repository",reboot:"Reboot",script:"Script",security:"Security",upgrade:"Upgrade",wsl:"WSL"})[r],R="_header_1a4zf_1",I="_search_1a4zf_7",b={header:R,search:I},Z=({instance:r})=>{const[y,d]=s.useState(""),[c,o]=s.useState(l),[p,C]=s.useState(P),[a,g]=s.useState(""),[i,u]=s.useState([]),v=s.useMemo(()=>[{accessor:"title",Header:"Title",Cell:({row:{original:e}})=>t.jsx(_,{profile:e})},{accessor:"type",Header:"Type",Cell:({row:{original:e}})=>S(e.type)}],[]),f=()=>{d(""),g(""),o(l)},m=r.profiles?[...r.profiles.filter(e=>e.title.toLowerCase()===a.toLowerCase()),...r.profiles.filter(e=>e.title.toLowerCase()!==a&&e.title.toLowerCase().startsWith(a.toLowerCase())),...r.profiles.filter(e=>e.title.toLowerCase()!==a.toLowerCase()&&!e.title.toLowerCase().startsWith(a.toLowerCase())&&e.title.toLowerCase().includes(a.toLowerCase()))].filter(e=>!i.length||i.includes(e.type)):[],L=m.slice((c-1)*p,(c-1)*p+p);return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:b.header,children:[t.jsx(h.SearchBox,{className:w("u-no-margin--bottom",b.search),externallyControlled:!0,value:y,onChange:d,onClear:f,onSearch:e=>{g(e),o(l)},autoComplete:"off"}),t.jsx(x,{type:"multiple",label:"Type",onItemsSelect:e=>{u(e),o(l)},position:"right",options:Object.entries(E).filter(([e])=>r.profiles?.some(n=>n.type===e)).map(([,e])=>e),selectedItems:i})]}),t.jsx(T,{filters:[{label:"Search",item:a||void 0,clear:f},{label:"Type",items:i.map(e=>({label:S(e),value:e})),clear:()=>{u([]),o(l)},remove:e=>{u(i.filter(n=>n!==e)),o(l)},multiple:!0}]}),t.jsx(h.ModularTable,{columns:v,data:L,emptyMsg:"No profiles found according to your search parameters."}),t.jsx(j,{currentPage:c,pageSize:p,paginate:o,setPageSize:C,totalItems:m.length,currentItemCount:m.length})]})};export{Z as default};
