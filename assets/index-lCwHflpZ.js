import{d,m as p,o as r,j as e,af as c,L as S,y as f,R as g,V as m,e as y,D as v,a as A,E as x}from"./index-CmSMPezD.js";import{S as E}from"./SidePanelTablePagination-DgVi2UEo.js";const T=({id:i,...s})=>{const t=d(),{data:a,isLoading:o}=p({queryKey:["scriptProfileActivities",{id:i,...s}],queryFn:async()=>t.get(`script-profiles/${i}/activities`,{params:s})});return{activities:a?.data.results??[],activitiesCount:a?.data.count,isGettingActivities:o}},P=({activities:i})=>{const s=r.useMemo(()=>[{Header:"Run",accessor:"creation_time",Cell:({row:{original:t}})=>e.jsx(S,{className:"font-monospace",to:g.activities.root({query:`parent-id:${t.id}`}),children:f(t.creation_time).utc().format(m)})},{Header:"Status",accessor:"activity_status",Cell:({row:{original:t}})=>c[t.activity_status].label,getCellIcon:({row:{original:t}})=>c[t.activity_status].icon}],[i]);return e.jsx(y.ModularTable,{columns:s,data:i})},j=({profile:i})=>{const[s,t]=r.useState(1),[a,o]=r.useState(v),{activities:n,activitiesCount:u,isGettingActivities:l}=T({id:i.id,limit:a,offset:(s-1)*a});return l?e.jsx(A,{}):n.length?e.jsxs(e.Fragment,{children:[e.jsx(P,{activities:n}),e.jsx(E,{currentPage:s,pageSize:a,paginate:t,setPageSize:o,totalItems:u})]}):e.jsx(x,{title:"No runs found",body:"The profile has not run yet."})};export{j as default};
