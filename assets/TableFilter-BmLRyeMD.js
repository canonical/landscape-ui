import{r as w,j as e,d as c,I as b}from"./index-Dfc97QGW.js";function F(){const t=w.useRef(null),n=w.useCallback(()=>{t.current?.querySelector(".p-contextual-menu__toggle")?.click()},[]);return{rootRef:t,handleCloseMenu:n}}const R="_toggle_x6iyn_1",A="_badgeContainer_x6iyn_7",S="_multiple_x6iyn_12",$="_badge_x6iyn_7",L="_dropdown_x6iyn_23",E="_list_x6iyn_27",I="_listItem_x6iyn_36",q="_separated_x6iyn_43",r={toggle:R,badgeContainer:A,multiple:S,badge:$,dropdown:L,list:E,listItem:I,separated:q},B=t=>({autoAdjust:!0,toggleAppearance:"base",position:"left",hasToggleIcon:!0,toggleClassName:r.toggle,dropdownClassName:r.dropdown,onToggleMenu:n=>{n&&t&&t("")}}),D="_container_11bce_1",O={container:D},P=({customComponent:t,label:n,inline:a})=>{const{rootRef:s,handleCloseMenu:l}=F(),i=e.jsx("div",{className:O.container,children:e.jsx(t,{closeMenu:l})});return a?i:e.jsx("div",{ref:s,children:e.jsx(c.ContextualMenu,{...B(),toggleLabel:n,children:i})})},M=({onSearch:t})=>{const[n,a]=w.useState("");return e.jsx(c.Form,{onSubmit:s=>{s.preventDefault(),t(n)},children:e.jsx(c.SearchBox,{externallyControlled:!0,shouldRefocusAfterReset:!0,autoComplete:"off",value:n,onChange:s=>{a(s)},onSearch:()=>{t(n)},onClear:()=>{a(""),t("")}})})},W="_container_7kbn6_1",z="_hideSelectAllButton_7kbn6_6",G="_footer_7kbn6_10",y={container:W,hideSelectAllButton:z,footer:G},H=({label:t,options:n,hasBadge:a,onSearch:s,selectedItems:l,inline:i=!1,position:j,onItemsSelect:u,disabledOptions:f,hideSelectAllButton:_,showSelectedItemCount:C})=>{const x=e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:y.container,children:[s&&e.jsx(M,{onSearch:s}),e.jsx("ul",{className:r.list,children:n.map(({label:d,value:o,group:g},N)=>{const h=N+1;return e.jsx("li",{className:b(r.listItem,{[r.separated]:g&&n[h]!==void 0&&n[h].group!==g}),children:e.jsx(c.Input,{type:"checkbox",label:d,labelClassName:"u-no-padding--top u-no-margin--bottom",value:o,checked:l.includes(o),onChange:m=>{const T=m.target.checked?[...l,o]:l.filter(v=>v!==o);u(T)},disabled:f?.some(m=>m.value===o)})},o)})})]}),e.jsxs("span",{className:b(y.footer,{[y.hideSelectAllButton]:_}),children:[!_&&e.jsx(c.Button,{type:"button",appearance:"link",className:"u-no-margin--bottom u-no-padding--top",onClick:()=>{u(n.map(d=>d.value))},children:"Select all"}),C?e.jsx("span",{className:"u-text--muted",children:`${l.length} of ${n.length} selected`}):e.jsx(c.Button,{type:"button",appearance:"link",className:"u-no-margin--bottom u-no-padding--top",onClick:()=>{u([])},children:"Clear"})]})]});if(i)return x;const k=e.jsxs(e.Fragment,{children:[e.jsx("span",{children:t}),a&&e.jsx("span",{className:b(r.badgeContainer,{[r.multiple]:n.length>9}),children:l.length>0&&e.jsx(c.Badge,{value:l.length,className:r.badge})})]});return e.jsx(c.ContextualMenu,{...B(s),position:j,toggleLabel:k,children:x})},J=({label:t,options:n,otherProps:a})=>{if(a.showSelectionOnToggleLabel){const s=n.find(l=>l.value===a.selectedItem);if(s)return s.label}return t},K="_selected_1rwkk_1",Q="_button_1rwkk_7",U="_container_1rwkk_14",V="_hasSearch_1rwkk_20",p={selected:K,button:Q,container:U,hasSearch:V},X=({label:t,options:n,hasBadge:a,onSearch:s,selectedItem:l,inline:i=!1,showSelectionOnToggleLabel:j=!1,onItemSelect:u,disabledOptions:f})=>{const{handleCloseMenu:_,rootRef:C}=F(),x=e.jsxs("span",{className:b(p.container,{[p.hasSearch]:!!s}),children:[s&&e.jsx(M,{onSearch:s}),e.jsx("ul",{className:r.list,children:n.map(({label:d,value:o,group:g},N)=>{const h=N+1;return e.jsx("li",{className:b({[r.separated]:g&&n[h]!==void 0&&n[h].group!==g}),children:l===o?e.jsx("span",{className:p.selected,children:d}):e.jsx(c.Button,{type:"button",appearance:"base",className:p.button,onClick:()=>{u(o),_?.()},disabled:f?.some(m=>m.value===o),children:d})},o)})})]});if(i)return x;const k=e.jsxs(e.Fragment,{children:[e.jsx("span",{children:J({label:t,options:n,otherProps:{showSelectionOnToggleLabel:j,selectedItem:l}})}),a&&e.jsx("span",{className:r.badgeContainer,children:l&&e.jsx("svg",{role:"img",width:"12",height:"12",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("circle",{cx:"10",cy:"13",r:"6",fill:"#666666"})})})]});return e.jsx("div",{ref:C,children:e.jsx(c.ContextualMenu,{...B(s),toggleLabel:k,children:x})})},Z=t=>{switch(t.type){case"single":return e.jsx(X,{...t});case"multiple":return e.jsx(H,{...t});case"custom":return e.jsx(P,{...t})}};export{Z as T,r as t};
