import{r as y,j as e,d as c,G as b}from"./index-CNSDWj8Q.js";function B(){const t=y.useRef(null),n=y.useCallback(()=>{t.current?.querySelector(".p-contextual-menu__toggle")?.click()},[]);return{rootRef:t,handleCloseMenu:n}}const v="_toggle_x6iyn_1",R="_badgeContainer_x6iyn_7",A="_multiple_x6iyn_12",S="_badge_x6iyn_7",$="_dropdown_x6iyn_23",L="_list_x6iyn_27",E="_listItem_x6iyn_36",q="_separated_x6iyn_43",r={toggle:v,badgeContainer:R,multiple:A,badge:S,dropdown:$,list:L,listItem:E,separated:q},w=t=>({autoAdjust:!0,toggleAppearance:"base",position:"left",hasToggleIcon:!0,toggleClassName:r.toggle,dropdownClassName:r.dropdown,onToggleMenu:n=>{n&&t&&t("")}}),D="_container_11bce_1",G={container:D},O=({customComponent:t,label:n,inline:a})=>{const{rootRef:s,handleCloseMenu:l}=B(),i=e.jsx("div",{className:G.container,children:e.jsx(t,{closeMenu:l})});return a?i:e.jsx("div",{ref:s,children:e.jsx(c.ContextualMenu,{...w(),toggleLabel:n,children:i})})},F=({onSearch:t})=>{const[n,a]=y.useState("");return e.jsx(c.Form,{onSubmit:s=>{s.preventDefault(),t(n)},children:e.jsx(c.SearchBox,{externallyControlled:!0,shouldRefocusAfterReset:!0,autoComplete:"off",value:n,onChange:s=>{a(s)},onSearch:()=>{t(n)},onClear:()=>{a(""),t("")}})})},P="_container_7kbn6_1",W="_hideSelectAllButton_7kbn6_6",z="_footer_7kbn6_10",N={container:P,hideSelectAllButton:W,footer:z},H=({label:t,options:n,hasBadge:a,onSearch:s,selectedItems:l,inline:i=!1,position:j,onItemsSelect:u,disabledOptions:f,hideSelectAllButton:_,showSelectedItemCount:C})=>{const g=e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:N.container,children:[s&&e.jsx(F,{onSearch:s}),e.jsx("ul",{className:r.list,children:n.map(({label:d,value:o,group:x},h)=>e.jsx("li",{className:b(r.listItem,{[r.separated]:x&&n[h+1]!==void 0&&n[h+1].group!==x}),children:e.jsx(c.Input,{type:"checkbox",label:d,labelClassName:"u-no-padding--top u-no-margin--bottom",value:o,checked:l.includes(o),onChange:m=>{const M=m.target.checked?[...l,o]:l.filter(T=>T!==o);u(M)},disabled:f?.some(m=>m.value===o)})},o))})]}),e.jsxs("span",{className:b(N.footer,{[N.hideSelectAllButton]:_}),children:[!_&&e.jsx(c.Button,{type:"button",appearance:"link",className:"u-no-margin--bottom u-no-padding--top",onClick:()=>{u(n.map(d=>d.value))},children:"Select all"}),C?e.jsx("span",{className:"u-text--muted",children:`${l.length} of ${n.length} selected`}):e.jsx(c.Button,{type:"button",appearance:"link",className:"u-no-margin--bottom u-no-padding--top",onClick:()=>{u([])},children:"Clear"})]})]});if(i)return g;const k=e.jsxs(e.Fragment,{children:[e.jsx("span",{children:t}),a&&e.jsx("span",{className:b(r.badgeContainer,{[r.multiple]:n.length>9}),children:l.length>0&&e.jsx(c.Badge,{value:l.length,className:r.badge})})]});return e.jsx(c.ContextualMenu,{...w(s),position:j,toggleLabel:k,children:g})},J=({label:t,options:n,otherProps:a})=>{if(a.showSelectionOnToggleLabel){const s=n.find(l=>l.value===a.selectedItem);if(s)return s.label}return t},K="_selected_1rwkk_1",Q="_button_1rwkk_7",U="_container_1rwkk_14",V="_hasSearch_1rwkk_20",p={selected:K,button:Q,container:U,hasSearch:V},X=({label:t,options:n,hasBadge:a,onSearch:s,selectedItem:l,inline:i=!1,showSelectionOnToggleLabel:j=!1,onItemSelect:u,disabledOptions:f})=>{const{handleCloseMenu:_,rootRef:C}=B(),g=e.jsxs("span",{className:b(p.container,{[p.hasSearch]:!!s}),children:[s&&e.jsx(F,{onSearch:s}),e.jsx("ul",{className:r.list,children:n.map(({label:d,value:o,group:x},h)=>e.jsx("li",{className:b({[r.separated]:x&&n[h+1]!==void 0&&n[h+1].group!==x}),children:l===o?e.jsx("span",{className:p.selected,children:d}):e.jsx(c.Button,{type:"button",appearance:"base",className:p.button,onClick:()=>{u(o),_?.()},disabled:f?.some(m=>m.value===o),children:d})},o))})]});if(i)return g;const k=e.jsxs(e.Fragment,{children:[e.jsx("span",{children:J({label:t,options:n,otherProps:{showSelectionOnToggleLabel:j,selectedItem:l}})}),a&&e.jsx("span",{className:r.badgeContainer,children:l&&e.jsx("svg",{role:"img",width:"12",height:"12",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("circle",{cx:"10",cy:"13",r:"6",fill:"#666666"})})})]});return e.jsx("div",{ref:C,children:e.jsx(c.ContextualMenu,{...w(s),toggleLabel:k,children:g})})},Z=t=>{switch(t.type){case"single":return e.jsx(X,{...t});case"multiple":return e.jsx(H,{...t});case"custom":return e.jsx(O,{...t})}};export{Z as T,r as t};
