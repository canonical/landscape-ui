import{j as t,a as j,P as a,I as s,L as l,w as c,Q as n}from"./index-CUUv0wdA.js";import{b as I}from"./ScriptsTabs-B7tzL5bm.js";import"./index-YoKq_B1C.js";import{u as p}from"./useRoles-BUI6rvws.js";import{g as v,a as b,S as _}from"./index-BGM7nca5.js";import"./constants-DK_qfQCy.js";import"./TextConfirmationModal-DJbsbLoa.js";import"./HeaderWithSearch-DJVXWbDV.js";import"./SingleInstanceTabs.module-Cm1BYFZQ.js";const k=({profile:e})=>{const{script:i,isScriptLoading:u}=I(e.script_id),{getAccessGroupQuery:o}=p(),{data:m,isLoading:g}=o();if(u||g)return t.jsx(j,{});const x=m?.data.find(d=>d.name==e.access_group)?.title||e.access_group,r=e.activities.last_activity;return t.jsxs(a,{children:[t.jsx(a.Item,{children:t.jsxs(s,{children:[t.jsx(s.Item,{label:"Title",value:e.title}),t.jsx(s.Item,{label:"Status",value:v(e)}),t.jsx(s.Item,{label:"Script",value:i?t.jsx(l,{to:"/scripts?tab=scripts",state:{scriptId:i.id},children:i.title}):null}),t.jsx(s.Item,{label:"Access group",value:x}),t.jsx(s.Item,{label:"Run as user",value:e.username}),t.jsx(s.Item,{label:"Time limit",value:`${e.time_limit}s`})]})}),t.jsx(a.Item,{children:t.jsxs(s,{children:[t.jsx(s.Item,{label:"Trigger",large:!0,value:b(e)||null}),e.trigger.trigger_type!=="event"&&t.jsx(s.Item,{label:"Next run",value:e.trigger.next_run?`${c(e.trigger.next_run).utc().format(n)}`:null}),t.jsx(s.Item,{label:"Last run",value:r?t.jsx(l,{to:`/activities?query=parent-id%3A${r.id}`,children:c(r.creation_time).utc().format(n)}):null})]})}),t.jsx(a.Item,{title:"Association",children:t.jsxs(s,{children:[t.jsx(s.Item,{label:"Associated instances",large:!0,value:t.jsx(_,{scriptProfile:e})}),t.jsx(s.Item,{label:"Tags",large:!0,value:e.all_computers?"All instances":e.tags.join(", ")||null,type:"truncated"})]})})]})};export{k as default};
