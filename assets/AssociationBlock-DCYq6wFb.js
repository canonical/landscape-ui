import{j as a,d as n}from"./index-gc_gETRV.js";import{M as i}from"./MultiSelectField-CGrJjK2z.js";import{u as p}from"./useInstances-HAzsZPHe.js";const u="_chips_v4ckc_1",d={chips:u},h=({formik:s})=>{const{getAllInstanceTagsQuery:o}=p(),{data:t}=o(),c=(t==null?void 0:t.data.results.map(e=>({label:e,value:e})))??[];return a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"u-no-margin--bottom",children:"Association"}),a.jsx(n.CheckboxInput,{label:"Associate to all instances",...s.getFieldProps("all_computers"),checked:s.values.all_computers}),!s.values.all_computers&&a.jsxs(a.Fragment,{children:[a.jsx(i,{label:"Tags",labelClassName:"u-off-screen",disabled:s.values.all_computers,placeholder:"Search and add tags",...s.getFieldProps("tags"),items:c,selectedItems:c.filter(({value:e})=>s.values.tags.includes(e)),onItemsUpdate:async e=>s.setFieldValue("tags",e.map(({value:l})=>l))}),a.jsx("div",{className:d.chips,children:s.values.tags.map(e=>a.jsx(n.Chip,{className:"u-no-margin--bottom u-no-margin--right",value:e,onDismiss:async()=>s.setFieldValue("tags",s.values.tags.filter(l=>l!==e))},e))})]})]})};export{h as A};
