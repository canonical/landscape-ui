import{j as a,g as n}from"./index-Cgvo6fQq.js";import{M as d}from"./MultiSelectField-lCHOq5Rx.js";import{u as r}from"./useInstances-BsLFQd9L.js";import{c as i}from"./AssociationBlock.module-BSYf3X0u.js";const h=({formik:s})=>{const{getAllInstanceTagsQuery:o}=r(),{data:l}=o(),c=(l==null?void 0:l.data.results.map(e=>({label:e,value:e})))??[];return a.jsxs("div",{className:i.container,children:[a.jsx("p",{className:"p-heading--5",children:"Association"}),a.jsx(n.CheckboxInput,{label:"Associate to all instances",...s.getFieldProps("all_computers"),checked:s.values.all_computers}),!s.values.all_computers&&a.jsxs(a.Fragment,{children:[a.jsx(d,{label:"Tags",labelClassName:"u-off-screen",disabled:s.values.all_computers,placeholder:"Search and add tags",...s.getFieldProps("tags"),items:c,selectedItems:c.filter(({value:e})=>s.values.tags.includes(e)),onItemsUpdate:e=>s.setFieldValue("tags",e.map(({value:t})=>t))}),a.jsx("div",{className:i.chips,children:s.values.tags.map(e=>a.jsx(n.Chip,{className:"u-no-margin--bottom u-no-margin--right",value:e,onDismiss:()=>s.setFieldValue("tags",s.values.tags.filter(t=>t!==e))},e))})]})]})};export{h as A};
