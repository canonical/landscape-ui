const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Bw8UzycD.js","assets/index-DEQ0woDB.js","assets/index-DQXBeV4P.css","assets/UdebCheckboxInput-9VfP7bxs.js","assets/UdebCheckboxInput-Doyz0RCU.css","assets/SidePanelFormButtons-cd9mDwe7.js","assets/SidePanelFormButtons.module-yv6Qz3cN.js","assets/SidePanelFormButtons-CxAXtF89.css","assets/useGPGKeys-oOg0jiSv.js","assets/useFetchOld-DBdmgV92.js","assets/moment-C5S46NFB.js","assets/tests-DFnZqbNV.js","assets/NoData-BrF9zbJL.js","assets/index-DMOjI3nf.js","assets/moment-AsPqit6b.js","assets/TablePagination-BLyC6y0q.js","assets/TablePagination.module-CgQ3jx4B.js","assets/TablePagination-DTa7xTwu.css","assets/usePageParams-CbyxOdXO.js","assets/TableFilterChips-hvyHp1Ka.js","assets/TableFilterChips-Bkpu0rSB.css","assets/index-WbRrN-Yr.css","assets/index-C9oEqIbX.js","assets/SidePanelTablePagination-D86olkmz.js","assets/index-BqjlXzq9.css","assets/index-zJr5rtPQ.js","assets/debug-i4Iyxi2M.js","assets/debug-DTTGxnCx.css","assets/MultiSelectField-Jf0i1Y-o.js","assets/MultiSelectField-DOBW8uWL.css","assets/index-3WHMHF8T.js","assets/index-xCmso6NV.js","assets/index-CG4qOSLk.js","assets/useRoles-DLWEiBV0.js"])))=>i.map(i=>d[i]);
import{e as w,f as _,g as K,r as p,_ as L,i as A,j as e,d as r,o as S,z as N,N as Z,D as J,c as v,q as I,I as $,W as X,E as ee,a0 as te}from"./index-DEQ0woDB.js";import{u as O}from"./useFetchOld-DBdmgV92.js";import{h as q}from"./moment-C5S46NFB.js";import{N as ne}from"./NoData-BrF9zbJL.js";import{a as H,b as ae}from"./index-DMOjI3nf.js";function oe(){const t=w(),n=O(),o=(m={},l={})=>K({queryKey:["distributions"],queryFn:()=>n.get("GetDistributions",{params:m}),...l}),u=_({mutationKey:["distributions","new"],mutationFn:m=>n.get("CreateDistribution",{params:m}),onSuccess:()=>t.invalidateQueries({queryKey:["distributions"]})}),i=_({mutationKey:["distributions","remove"],mutationFn:m=>n.get("RemoveDistribution",{params:m}),onSuccess:()=>t.invalidateQueries({queryKey:["distributions"]})});return{getDistributionsQuery:o,createDistributionQuery:u,removeDistributionQuery:i}}function se(){const t=w(),n=O(),o=_({mutationKey:["pockets","create"],mutationFn:a=>n.get("CreatePocket",{params:a}),onSuccess:()=>t.invalidateQueries({queryKey:["distributions"]})}),u=_({mutationKey:["pockets","edit"],mutationFn:a=>n.get("EditPocket",{params:a}),onSuccess:()=>t.invalidateQueries({queryKey:["distributions"]})}),i=_({mutationKey:["pockets","remove"],mutationFn:a=>n.get("RemovePocket",{params:a}),onSuccess:()=>t.invalidateQueries({queryKey:["distributions"]})}),m=_({mutationKey:["pocketPackages","sync"],mutationFn:a=>n.get("SyncMirrorPocket",{params:a}),onSuccess:(a,s)=>Promise.all([t.invalidateQueries({queryKey:["pocketPackages",{...s}]}),t.invalidateQueries({queryKey:["distributions"]})])}),l=_({mutationKey:["pocketPackages","pull"],mutationFn:a=>n.get("PullPackagesToPocket",{params:a}),onSuccess:(a,s)=>Promise.all([t.invalidateQueries({queryKey:["pocketPackages",{...s}]}),t.invalidateQueries({queryKey:["distributions"]})])}),c=_({mutationKey:["pocketPackages","remove"],mutationFn:a=>n.get("RemovePackagesFromPocket",{params:a}),onSuccess:(a,s)=>t.invalidateQueries({queryKey:["pocketPackages",{...s},"list"]})}),h=(a,s={})=>K({queryKey:["pocketPackages",{...a},"difference"],queryFn:()=>n.get("DiffPullPocket",{params:a}),...s}),k=(a,s={})=>K({queryKey:["pocketPackages",{...a},"list"],queryFn:()=>n.get("ListPocket",{params:a}),...s}),P=_({mutationKey:["packageFilters","add"],mutationFn:a=>n.get("AddPackageFiltersToPocket",{params:a}),onSuccess:(a,s)=>Promise.all([t.invalidateQueries({queryKey:["distributions"]}),t.invalidateQueries({queryKey:["pocketPackages",{...s}]})])}),f=_({mutationKey:["packageFilters","remove"],mutationFn:a=>n.get("RemovePackageFiltersFromPocket",{params:a}),onSuccess:(a,s)=>Promise.all([t.invalidateQueries({queryKey:["distributions"]}),t.invalidateQueries({queryKey:["pocketPackages",{...s}]})])}),j=_({mutationKey:["uploaderGPGKeys","add"],mutationFn:a=>n.get("AddUploaderGPGKeysToPocket",{params:a}),onSuccess:(a,s)=>Promise.all([t.invalidateQueries({queryKey:["distributions"]}),t.invalidateQueries({queryKey:["pocketPackages",{...s}]})])}),C=_({mutationKey:["uploaderGPGKeys","remove"],mutationFn:a=>n.get("RemoveUploaderGPGKeysFromPocket",{params:a}),onSuccess:(a,s)=>Promise.all([t.invalidateQueries({queryKey:["distributions"]}),t.invalidateQueries({queryKey:["pocketPackages",{...s}]})])});return{createPocketQuery:o,editPocketQuery:u,syncMirrorPocketQuery:m,pullPackagesToPocketQuery:l,diffPullPocketQuery:h,removePocketQuery:i,listPocketQuery:k,removePackagesFromPocketQuery:c,addPackageFiltersToPocketQuery:P,removePackageFiltersFromPocketQuery:f,addUploaderGPGKeysToPocketQuery:j,removeUploaderGPGKeysFromPocketQuery:C}}function ie(){const t=w(),n=O(),o=_({mutationKey:["series","new"],mutationFn:l=>n.get("CreateSeries",{params:l}),onSuccess:()=>t.invalidateQueries({queryKey:["distributions"]})}),u=_({mutationKey:["series","derive"],mutationFn:l=>n.get("DeriveSeries",{params:l}),onSuccess:()=>t.invalidateQueries({queryKey:["distributions"]})}),i=_({mutationKey:["series","remove"],mutationFn:l=>n.get("RemoveSeries",{params:l}),onSuccess:()=>t.invalidateQueries({queryKey:["distributions"]})});return{createSeriesQuery:o,removeSeriesQuery:i,deriveSeriesQuery:u,getRepoInfo:(l,c={})=>K({queryKey:["repoInfo",{queryParams:l}],queryFn:()=>n.get("GetRepoInfo",{params:l}),...c})}}const re="_card_40gow_1",ce="_header_40gow_5",le="_title_40gow_11",ue="_content_40gow_20",F={card:re,header:ce,title:le,content:ue},de=p.lazy(()=>L(()=>import("./index-Bw8UzycD.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]))),me=({distribution:t})=>{const{setSidePanelContent:n}=A(),o=()=>n(`Add mirror for ${t.name}`,e.jsx(p.Suspense,{fallback:e.jsx(S,{}),children:e.jsx(de,{distribution:t})}));return e.jsxs("div",{className:F.card,children:[e.jsx("div",{className:F.header,children:e.jsx("h3",{className:F.title,children:"No series have been added yet"})}),e.jsxs("div",{className:F.content,children:[e.jsx("p",{className:"u-no-margin--bottom",children:"Add a new mirror or series to get started"}),e.jsx("p",{className:"u-no-margin--top",children:e.jsx("a",{href:"https://ubuntu.com/landscape/docs/repositories",target:"_blank",rel:"nofollow noopener noreferrer",children:"How to manage repositories in Landscape"})}),e.jsx(r.Button,{type:"button",appearance:"positive",className:"u-no-margin--bottom",onClick:o,"aria-label":`Add mirror for ${t.name}`,children:"Add mirror"})]})]})},Ue="http://archive.ubuntu.com/ubuntu",pe="https://snapshot.ubuntu.com/ubuntu",He={ubuntu:["main","universe","restricted","multiverse"],thirdParty:["main"]},Ve={ubuntu:["amd64"],thirdParty:["amd64"]},Ye={ubuntu:["release","security","updates"],thirdParty:["release"]},We=[{label:"Main",value:"main"},{label:"Universe",value:"universe"},{label:"Restricted",value:"restricted"},{label:"Multiverse",value:"multiverse"}],Ze=[{label:"amd64",value:"amd64"},{label:"i386",value:"i386"}],ye=t=>!t||t==="synced"||t==="in progress"?"":H[t==="queued"?"undelivered":t].icon,ge="_progressContainer_xxjjr_1",_e="_progress_xxjjr_1",be="_progressBarContainer_xxjjr_11",he="_progressBar_xxjjr_11",ve="_iconContainer_xxjjr_27",E={progressContainer:ge,progress:_e,progressBarContainer:be,progressBar:he,iconContainer:ve},z=({pocket:t,syncPocketRefAdd:n,syncPocketRefs:o})=>{const u=N("(min-width: 620px)"),{setSidePanelContent:i}=A();if(p.useEffect(()=>{t.mode!=="mirror"&&t.mode!=="pull"||!t.last_sync_status||t.last_sync_status!=="in progress"||o.find(({distributionName:h})=>h===t.distribution.name)||n({distributionName:t.distribution.name,seriesName:t.series.name,pocketName:t.name})},[t,o]),t.mode==="upload")return Z;if(!t.last_sync_status)return e.jsx(ne,{});if(t.last_sync_status==="synced")return q(t.last_sync_time).format(J);if(t.last_sync_status==="in progress")return e.jsxs("div",{className:E.progressContainer,children:[u&&e.jsx("div",{className:E.progressBarContainer,children:e.jsx("div",{className:E.progressBar,style:{width:`${t.last_sync_activity.progress}%`}})}),e.jsx("span",{className:E.progress,children:`${t.last_sync_activity.progress}%`})]});const m=t.last_sync_status==="queued"?"undelivered":t.last_sync_status,l=()=>{i(t.last_sync_activity.summary,e.jsx(ae,{activityId:t.last_sync_activity.id}))};return e.jsxs("div",{className:v("p-table__cell--icon-placeholder",E.iconContainer),children:[e.jsx(r.Icon,{name:ye(t.last_sync_status)}),e.jsx(r.Button,{type:"button",appearance:"link",className:"u-no-margin--bottom u-no-padding--top",onClick:l,children:H[m].label})]})},Pe=p.lazy(()=>L(()=>import("./index-C9oEqIbX.js"),__vite__mapDeps([22,1,2,23,16,17,9,10,12,13,14,15,18,19,20,21,24]))),G=({distributionName:t,pocket:n,seriesName:o})=>{const{setSidePanelContent:u}=A(),i=()=>{u(`${o} ${n.name}`,e.jsx(p.Suspense,{fallback:e.jsx(S,{}),children:e.jsx(Pe,{distributionName:t,pocket:n,seriesName:o})}))};return e.jsxs(e.Fragment,{children:[e.jsx(r.Button,{type:"button",appearance:"link",className:"u-no-margin--bottom u-no-padding--top",onClick:i,"aria-label":`List ${n.name} pocket of ${t}/${o}`,children:n.name}),n.mode==="pull"&&e.jsx("p",{className:"p-text--small u-text--muted u-no-margin--bottom",children:`pulling from ${n.pull_pocket}`})]})},xe=p.lazy(()=>L(()=>import("./index-zJr5rtPQ.js"),__vite__mapDeps([25,1,2,3,4,26,27,28,29,5,6,7,8,9,10,12,13,14,15,16,17,18,19,20,21]))),U=({distributionName:t,pocket:n,seriesName:o,syncPocketRefs:u})=>{const i=N("(min-width: 620px)"),m=I(),{setSidePanelContent:l}=A(),{removePocketQuery:c,syncMirrorPocketQuery:h,pullPackagesToPocketQuery:k}=se(),{mutateAsync:P,isPending:f}=c,j=async()=>{try{await P({distribution:t,series:o,name:n.name})}catch(g){m(g)}},{mutateAsync:C,isPending:a}=h,{mutateAsync:s,isPending:d}=k,D=async()=>{try{await C({name:n.name,series:o,distribution:t})}catch(g){m(g)}},B=async()=>{try{await s({name:n.name,series:o,distribution:t})}catch(g){m(g)}},x=()=>n.mode==="mirror"?{title:`Synchronizing ${n.name} pocket`,children:e.jsx("p",{children:"Do you want to synchronize packages?"}),confirmButtonLabel:"Sync",confirmButtonAppearance:"positive",confirmButtonDisabled:a,confirmButtonLoading:a,onConfirm:D}:n.mode==="pull"?{title:`Pulling packages to ${n.name} pocket`,children:e.jsxs("p",{children:["Do you want to pull packages from ",n.pull_pocket,"?"]}),confirmButtonLabel:"Pull",confirmButtonAppearance:"positive",confirmButtonDisabled:d,confirmButtonLoading:d,onConfirm:B}:{},y=(g,M)=>{g.currentTarget.blur(),l(`Edit ${M.name} pocket`,e.jsx(p.Suspense,{fallback:e.jsx(S,{}),children:e.jsx(xe,{pocket:M,distributionName:t,seriesName:o})}))};return e.jsxs("div",{className:"divided-blocks",children:[(n.mode=="mirror"||n.mode=="pull")&&e.jsx("div",{className:"divided-blocks__item",children:e.jsx(r.ConfirmationButton,{type:"button",className:v("u-no-margin--bottom has-icon",{"u-no-padding--right":i,"is-small":i}),appearance:i?"base":void 0,"aria-label":n.mode==="mirror"?`Synchronize ${n.name} pocket of ${t}/${o}`:`Pull packages to ${n.name} pocket of ${t}/${o}`,disabled:u.some(g=>g.distributionName===t),confirmationModalProps:x(),children:e.jsx(r.Tooltip,{position:"btm-center",message:n.mode==="mirror"?"Sync":"Pull",children:e.jsx(r.Icon,{name:"change-version",className:v({"u-no-margin--right":i})})})})}),e.jsx("div",{className:"divided-blocks__item",children:e.jsx(r.Tooltip,{message:"Edit",position:"btm-center",children:e.jsx(r.Button,{type:"button",small:i,hasIcon:!0,appearance:i?"base":"",className:v("u-no-margin--bottom",{"u-no-padding--right":i}),"aria-label":`Edit ${n.name} pocket of ${t}/${o}`,onClick:g=>y(g,n),disabled:u.some(g=>g.distributionName===t),children:e.jsx(r.Icon,{name:"edit",className:v({"u-no-margin--right":i})})})})}),e.jsx("div",{className:"divided-blocks__item",children:e.jsx(r.ConfirmationButton,{type:"button",className:v("u-no-margin--bottom has-icon",{"u-no-padding--right":i,"is-small":i}),appearance:i?"base":void 0,"aria-label":`Remove ${n.name} pocket of ${t}/${o}`,disabled:u.some(g=>g.distributionName===t),confirmationModalProps:{title:"Deleting pocket",children:e.jsxs("p",{children:["Do you really want to delete ",n.name," pocket from"," ",o," series of ",t," distribution?"]}),confirmButtonLabel:"Delete",confirmButtonAppearance:"negative",confirmButtonDisabled:f,confirmButtonLoading:f,onConfirm:j},children:e.jsx(r.Tooltip,{position:"btm-center",message:"Delete",children:e.jsx(r.Icon,{name:r.ICONS.delete,className:v({"u-no-margin--right":i})})})})})]})},ke=({column:t})=>{const n={};return t.id==="name"?n.role="rowheader":t.id==="mode"?n["aria-label"]="Mode":t.id==="last_sync"?n["aria-label"]="Last synced":t.id==="package_count"?n["aria-label"]="Content":t.id==="actions"&&(n["aria-label"]="Actions"),n},fe="_pocketWrapper_596vd_1",je="_ctaRow_596vd_9",Ce="_actions_596vd_13",Q={pocketWrapper:fe,ctaRow:je,actions:Ce},Se=({distributionName:t,series:n,syncPocketRefAdd:o,syncPocketRefs:u})=>{const i=N("(min-width: 620px)"),m=p.useMemo(()=>n.pockets,[n.pockets]),l=p.useMemo(()=>[{accessor:"name",Header:"Pocket",Cell:({row:{original:c}})=>e.jsx(G,{distributionName:t,pocket:c,seriesName:n.name})},{accessor:"mode",Header:"Mode"},{accessor:"last_sync",Header:"Last synced",Cell:({row:{original:c}})=>e.jsx(z,{pocket:c,syncPocketRefAdd:o,syncPocketRefs:u})},{accessor:"package_count",Header:"Content",Cell:({row:{original:c}})=>e.jsx(e.Fragment,{children:`${c.package_count} ${c.package_count===1?"package":"packages"}`})},{accessor:"actions",className:Q.actions,Cell:({row:{original:c}})=>e.jsx(U,{distributionName:t,pocket:c,seriesName:n.name,syncPocketRefs:u})}],[m,u]);return i?e.jsx(r.ModularTable,{columns:l,data:m,getCellProps:ke,emptyMsg:"No pockets yet"}):n.pockets.map((c,h)=>e.jsxs(r.Row,{className:v("u-no-padding--left u-no-padding--right",Q.pocketWrapper),children:[e.jsx(r.Col,{size:2,small:2,children:e.jsx($,{label:"Pocket",value:e.jsx(G,{distributionName:t,pocket:c,seriesName:n.name})})}),e.jsx(r.Col,{size:2,small:2,children:e.jsx($,{label:"Last synced",value:e.jsx(z,{pocket:c,syncPocketRefAdd:o,syncPocketRefs:u})})}),e.jsx(r.Col,{size:2,small:2,children:e.jsx($,{label:"Mode",value:c.mode})}),e.jsx(r.Col,{size:2,small:2,children:e.jsx($,{label:"Content",value:e.jsx(e.Fragment,{children:`${c.package_count} ${c.package_count===1?"package":"packages"}`})})}),e.jsx("div",{className:Q.ctaRow,children:e.jsx(U,{distributionName:t,pocket:c,seriesName:n.name,syncPocketRefs:u})})]},h))},Le="_card_10z7u_1",Ae="_header_10z7u_8",Te="_title_10z7u_17",De="_snapshot_10z7u_26",Be="_cta_10z7u_36",Ee="_content_10z7u_43",T={card:Le,header:Ae,title:Te,snapshot:De,cta:Be,content:Ee},Ne=p.lazy(()=>L(()=>import("./index-3WHMHF8T.js"),__vite__mapDeps([30,1,2,3,4,26,27,28,29,5,6,7,8,9,11,10,12,13,14,15,16,17,18,19,20,21]))),$e=p.lazy(()=>L(()=>import("./index-xCmso6NV.js"),__vite__mapDeps([31,1,2,5,6,7,11,9,10,12,13,14,15,16,17,18,19,20,21]))),Fe=({distribution:t,series:n,syncPocketRefAdd:o,syncPocketRefs:u})=>{const[i,m]=p.useState(!1),[l,c]=p.useState("");p.useEffect(()=>{!n||!n.pockets.length||n.pockets[0].mode!=="mirror"||!n.pockets[0].mirror_uri.startsWith(pe)||c(n.pockets[0].mirror_uri.replace(/^.*\/(\d{8})T\d{6}Z$/,"$1"))},[n]);const h=N("(min-width: 620px)"),{setSidePanelContent:k}=A(),{removeSeriesQuery:P}=ie(),f=I(),{mutateAsync:j,isPending:C}=P,a=async()=>{try{await j({name:n.name,distribution:t.name})}catch(b){f(b)}finally{s()}},s=()=>{m(!1)},d=()=>{m(!0)},D=()=>{k("Derive series",e.jsx(p.Suspense,{fallback:e.jsx(S,{}),children:e.jsx($e,{distribution:t,origin:n.name})}))},B=()=>{k(`New pocket for ${n.name}`,e.jsx(p.Suspense,{fallback:e.jsx(S,{}),children:e.jsx(Ne,{distribution:t,series:n})}))},x=[{label:"Derive series",ariaLabel:`Derive series ${t.name}/${n.name}`,onClick:D},{label:"New pocket",ariaLabel:`Add new pocket for ${t.name}/${n.name}`,onClick:B}],y={label:"Remove",ariaLabel:`Remove ${t.name}/${n.name}`,appearance:"negative",modalTitle:"Remove series",modalBody:e.jsx("p",{children:"Are you sure? This action cannot be undone."}),isLoading:C,onClick:d,onConfirm:a},g=[...x,y],V=[...x.map(b=>e.jsx(r.Button,{type:"button",className:"is-small","aria-label":b.ariaLabel,onMouseDown:W=>W.preventDefault(),onClick:b.onClick,children:b.label},`${b.label}-button`)),e.jsx(r.ConfirmationButton,{type:"button",className:"is-small","aria-label":y.ariaLabel,confirmationModalProps:{title:y.modalTitle,children:y.modalBody,confirmButtonLabel:y.label,confirmButtonAppearance:y.appearance,confirmButtonLoading:y.isLoading,confirmButtonDisabled:y.isLoading,onConfirm:y.onConfirm},children:y.label},`${y.label}-button`)],Y=g.map(b=>({children:b.label,"aria-label":b.ariaLabel,onClick:b.onClick})).filter(b=>!(l&&(b.children==="Derive series"||b.children==="New pocket")));return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:T.card,children:[e.jsxs("div",{className:T.header,children:[e.jsx("h3",{className:T.title,children:n.name}),!!l&&e.jsx("span",{className:v("u-text--muted",T.snapshot),children:`Snapshot from ${q(l).format(X)}`}),h?e.jsx("div",{className:T.cta,children:V}):e.jsx(r.ContextualMenu,{position:"left",hasToggleIcon:!0,toggleLabel:"Actions",toggleClassName:"u-no-margin--bottom",links:Y})]}),e.jsx("div",{className:T.content,children:e.jsx(Se,{distributionName:t.name,series:n,syncPocketRefAdd:o,syncPocketRefs:u})})]}),i&&e.jsx(r.ConfirmationModal,{title:y.modalTitle,confirmButtonLabel:y.label,close:s,confirmButtonAppearance:y.appearance,confirmButtonLoading:y.isLoading,confirmButtonDisabled:y.isLoading,onConfirm:y.onConfirm,children:y.modalBody})]})},Ke="_item_1v4o6_1",Me="_titleGroup_1v4o6_5",Qe="_title_1v4o6_5",R={item:Ke,titleGroup:Me,title:Qe},Re=p.lazy(()=>L(()=>import("./index-Bw8UzycD.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]))),Je=({distribution:t,syncPocketRefAdd:n,syncPocketRefs:o})=>{const[u,i]=p.useState(!1),{setSidePanelContent:m}=A(),l=N("(min-width: 620px)"),{removeDistributionQuery:c}=oe(),h=I(),{mutateAsync:k,isPending:P}=c,f=async()=>{try{await k({name:t.name})}catch(x){h(x)}finally{a()}},j=()=>{m(`Add series to ${t.name}`,e.jsx(p.Suspense,{fallback:e.jsx(S,{}),children:e.jsx(Re,{distribution:t,ctaText:"Add series"})}))},C=()=>{i(!0)},a=()=>{i(!1)},s={label:"Add series",ariaLabel:`Add series to ${t.name}`,onClick:j},d={label:"Remove distribution",ariaLabel:`Remove ${t.name} distribution`,appearance:"negative",modalTitle:`Removing ${t.name} distribution`,modalBody:e.jsx("p",{children:"Are you sure? This action cannot be undone."}),modalActionLabel:"Remove",isLoading:P,onClick:C,onConfirm:f},D=[e.jsx(r.Button,{type:"button",className:"is-small","aria-label":s.ariaLabel,onClick:s.onClick,children:s.label},`${s.label}-button`),e.jsx(r.ConfirmationButton,{type:"button",className:"is-small","aria-label":d.ariaLabel,confirmationModalProps:{title:d.modalTitle,children:d.modalBody,confirmButtonLabel:d.modalActionLabel,confirmButtonAppearance:d.appearance,confirmButtonLoading:P,confirmButtonDisabled:P,onConfirm:d.onConfirm},children:d.label},`${d.label}-button`)],B=[{children:s.label,"aria-label":s.ariaLabel,onClick:s.onClick},{children:d.label,"aria-label":d.ariaLabel,onClick:d.onClick}];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:R.item,children:[e.jsxs("div",{className:R.titleGroup,children:[e.jsx("h2",{className:v("p-heading--4 u-no-margin--bottom u-no-padding--top",R.title),children:t.name}),l?e.jsx("div",{children:D}):e.jsx(r.ContextualMenu,{position:"left",hasToggleIcon:!0,toggleLabel:"Actions",toggleProps:{"aria-label":`${t.name} distribution actions`},links:B})]}),t.series.length===0&&e.jsx(me,{distribution:t}),t.series.length>0&&t.series.map(x=>e.jsx(Fe,{distribution:t,series:x,syncPocketRefAdd:n,syncPocketRefs:o},x.name))]}),u&&e.jsx(r.ConfirmationModal,{title:d.modalTitle,confirmButtonLabel:d.modalActionLabel,confirmButtonAppearance:d.appearance,confirmButtonDisabled:d.isLoading,confirmButtonLoading:d.isLoading,onConfirm:d.onConfirm,close:a,children:d.modalBody})]})},we=p.lazy(()=>L(()=>import("./index-CG4qOSLk.js"),__vite__mapDeps([32,1,2,5,6,7,33,9,11,10,12,13,14,15,16,17,18,19,20,21]))),Xe=()=>{const{setSidePanelContent:t}=A(),n=()=>{t("Add distribution",e.jsx(p.Suspense,{fallback:e.jsx(S,{}),children:e.jsx(we,{})}))};return e.jsx(ee,{title:"No mirrors have been added yet",icon:"containers",body:e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"u-no-margin--bottom",children:"To add a new mirror you must first add a distribution"}),e.jsx("a",{href:"https://ubuntu.com/landscape/docs/repositories",target:"_blank",rel:"nofollow noopener noreferrer",children:"How to manage repositories in Landscape"})]}),cta:[e.jsx(r.Button,{onClick:n,type:"button",children:"Add distribution"},"add-distribution")]})},et="2023-02-28",tt="YYYYMMDD[T]HHmmss[Z]",nt={type:"ubuntu",name:"",distribution:"",mirror_series:"",mirror_uri:"",gpg_key:"",pockets:[],components:[],architectures:[],include_udeb:!1,hasPockets:!1,snapshotDate:q().format(te)},at=[{label:"Release",value:"release"},{label:"Security",value:"security"},{label:"Updates",value:"updates"},{label:"Proposed",value:"proposed"},{label:"Backports",value:"backports"}];export{Ze as A,We as C,pe as D,nt as I,Ve as P,et as S,Xe as a,Je as b,ie as c,R as d,se as e,Ue as f,He as g,at as h,tt as i,Ye as j,T as s,oe as u};
