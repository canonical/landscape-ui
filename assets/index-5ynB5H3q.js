import{r as x,y as j,V as _,j as e,m as o,A as P}from"./index-Dvy4ms_D.js";import{P as C,a as L,b as w}from"./PageMain-DxJpfZT6.js";const N="_header_116wp_1",R={header:N},M=()=>{const[t,d]=x.useState([]),n=j(),{approveActivitiesQuery:l,cancelActivitiesQuery:u,redoActivitiesQuery:p,undoActivitiesQuery:v}=_(),{mutateAsync:m,isPending:s}=l,{mutateAsync:y,isPending:c}=u,{mutateAsync:h,isPending:a}=p,{mutateAsync:A,isPending:r}=v,g=async()=>{try{await m({query:`id:${t.join(" OR id:")}`})}catch(i){n(i)}},f=async()=>{try{await y({query:`id:${t.join(" OR id:")}`})}catch(i){n(i)}},b=async()=>{try{await h({activity_ids:t})}catch(i){n(i)}},B=async()=>{try{await A({activity_ids:t})}catch(i){n(i)}};return e.jsxs(C,{children:[e.jsx(L,{title:"Activities",className:R.header,actions:[e.jsx("div",{className:"p-segmented-control",children:e.jsxs("div",{className:"p-segmented-control__list",children:[e.jsx(o.ConfirmationButton,{className:"p-segmented-control__button",type:"button",disabled:t.length===0||s,confirmationModalProps:{title:`Approve ${t.length===1?"activity":"activities"}`,children:e.jsxs("p",{children:["Are you sure you want to approve selected"," ",t.length===1?"activity":"activities","?"]}),confirmButtonLabel:"Approve",confirmButtonAppearance:"positive",confirmButtonDisabled:s,confirmButtonLoading:s,onConfirm:g},children:"Approve"}),e.jsx(o.ConfirmationButton,{className:"p-segmented-control__button",type:"button",disabled:t.length===0||c,confirmationModalProps:{title:`Cancel ${t.length===1?"activity":"activities"}`,children:e.jsxs("p",{children:["Are you sure you want to cancel selected"," ",t.length===1?"activity":"activities","?"]}),confirmButtonLabel:"Apply",confirmButtonAppearance:"positive",confirmButtonDisabled:c,confirmButtonLoading:c,onConfirm:f},children:"Cancel"}),e.jsx(o.ConfirmationButton,{className:"p-segmented-control__button",type:"button",disabled:t.length===0||r,confirmationModalProps:{title:`Undo ${t.length===1?"activity":"activities"}`,children:e.jsxs("p",{children:["Are you sure you want to undo selected"," ",t.length===1?"activity":"activities","?"]}),confirmButtonLabel:"Undo",confirmButtonAppearance:"positive",confirmButtonDisabled:r,confirmButtonLoading:r,onConfirm:B},children:"Undo"}),e.jsx(o.ConfirmationButton,{className:"p-segmented-control__button",type:"button",disabled:t.length===0||a,confirmationModalProps:{title:`Redo ${t.length===1?"activity":"activities"}`,children:e.jsxs("p",{children:["Are you sure you want to redo selected"," ",t.length===1?"activity":"activities","?"]}),confirmButtonLabel:"Redo",confirmButtonAppearance:"positive",confirmButtonDisabled:a,confirmButtonLoading:a,onConfirm:b},children:"Redo"})]})},"buttons")]}),e.jsx(w,{children:e.jsx(P,{selectedIds:t,setSelectedIds:i=>d(i)})})]})};export{M as default};
