import{r as d,X as v,Y as N,e as b,j as t,d as e,$ as m}from"./index-C_GVlKfy.js";import{u as y}from"./AuthTemplate-DdRzPWa_.js";const E="_list_1v1l7_1",O="_button_1v1l7_20",P="_icon_1v1l7_28",n={list:E,button:O,icon:P},S=({isStandaloneOidcEnabled:f,isUbuntuOneEnabled:p,oidcProviders:j})=>{const[c,x]=d.useState(0),[h]=v(),{invitationId:i}=y(),{getOidcUrlQuery:g,getUbuntuOneUrlQuery:I}=N(),a=h.get("redirect-to"),_=h.has("external"),s={};c>0&&(s.id=c),a&&(s.return_to=a),i&&(s.invitation_id=i),_&&(s.external=!0);const{data:l}=g(s,{enabled:c!==0});d.useEffect(()=>{l&&b(l.data.location)},[l]);const o={};a&&(o.return_to=`${window.origin}${a}`),i&&(o.invitation_id=i),_&&(o.external=!0);const{data:u,refetch:U}=I(o,{enabled:!1});return d.useEffect(()=>{u&&b(u.data.location)},[u]),t.jsxs("ul",{className:n.list,children:[p&&t.jsx("li",{className:"p-list__item",children:t.jsxs(e.Button,{type:"button",hasIcon:!0,onClick:U,className:n.button,children:[t.jsx(e.Icon,{name:m("ubuntu-one"),className:n.icon}),t.jsx("span",{children:"Sign in with Ubuntu One"})]})}),f&&t.jsx("li",{className:"p-list__item",children:t.jsxs(e.Button,{type:"button",hasIcon:!0,onClick:()=>x(-1),className:n.button,children:[t.jsx(e.Icon,{name:m("standalone"),className:n.icon}),t.jsx("span",{children:"Sign in with Enterprise Login"})]})}),j.map(r=>t.jsx("li",{className:"p-list__item",children:t.jsxs(e.Button,{type:"button",hasIcon:!0,onClick:()=>x(r.id),className:n.button,children:[t.jsx(e.Icon,{name:m(r.provider),className:n.icon}),t.jsx("span",{children:`Sign in with ${r.name}`})]})},r.id))]})};export{S as A};
