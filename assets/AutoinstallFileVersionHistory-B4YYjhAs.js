const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CAmzmOhs.js","assets/index-CAxb-9CO.js","assets/index-DXB7zdRE.css","assets/CodeEditor-C-LSciuC.js","assets/index-DfA4GLZO.js","assets/CodeEditor-KxSGUzo3.css","assets/SidePanelFormButtons-THQX_GYS.js","assets/SidePanelFormButtons.module-BuIu-Bem.js","assets/SidePanelFormButtons-CmV-sWf7.css","assets/helpers-B4nWsGMV.js","assets/SidePanelTablePagination-CVHlLoEX.js","assets/index-ZQQe9POB.css"])))=>i.map(i=>d[i]);
import{j as e,o as F,b as v,g as S,G as P,H as y,J as p,n as T,i,d as h,A as f,D as C,v as m,a3 as E}from"./index-CAxb-9CO.js";import{S as L}from"./SidePanelTablePagination-CVHlLoEX.js";const V="_chip_8o9xt_1",D={chip:V},N=({className:s,value:a})=>e.jsx("span",{className:F("p-chip is-dense u-no-margin--bottom u-no-margin--right",D.chip,s),children:e.jsx("span",{className:"p-chip__value",children:a})}),b=({id:s,...a})=>{const t=v(),{data:o,isLoading:r}=S({queryKey:["autoinstallFiles",s,{...a}],queryFn:async()=>t.get(`autoinstall/${s}`,{params:a})});return{autoinstallFile:o?.data,isAutoinstallFileLoading:r}},w=P().shape({contents:p().required("This field is required"),filename:p().required("This field is required"),is_default:y()}),z={contents:"",filename:"",is_default:!1},$="_chip_1aiey_1",q="_container_1aiey_6",_={chip:$,container:q},I=({file:s,title:a,version:t=s.version})=>e.jsxs("div",{className:_.container,children:[!!a&&`${a} `,s.filename,", v",t,s.is_default&&e.jsx(N,{className:_.chip,value:"Default"})]}),k=i.lazy(async()=>E(()=>import("./index-CAmzmOhs.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),O=({file:s,viewVersionHistory:a})=>{const{setSidePanelContent:t}=T(),{autoinstallFile:o,isAutoinstallFileLoading:r}=b({id:s.id,with_metadata:!0}),[l,g]=i.useState(1),[c,x]=i.useState(20),u=o?o.metadata.versions:[],d=u.slice(l-1,l*c),j=i.useMemo(()=>[{accessor:"version",Header:"Version",Cell:({row:{original:n}})=>{const A=()=>{t(e.jsx(I,{file:s,version:n.version}),e.jsx(i.Suspense,{fallback:e.jsx(m,{}),children:e.jsx(k,{file:s,goBack:a,versionInfo:n})}))};return e.jsxs(h.Button,{type:"button",appearance:"link",className:"u-no-margin--bottom u-no-padding--top",onClick:A,children:["Version ",n.version]})}},{accessor:"created_at",Header:"Created at",Cell:({row:{original:{created_at:n}}})=>e.jsx("div",{className:"font-monospace",children:f(n).format(C)})}],[]);return r?e.jsx(m,{}):e.jsxs(e.Fragment,{children:[e.jsx(h.ModularTable,{columns:j,data:d}),e.jsx(L,{currentItemCount:d.length,currentPage:l,pageSize:c,paginate:g,setPageSize:x,totalItems:u.length})]})};export{O as A,N as C,z as D,w as V,I as a,b as u};
