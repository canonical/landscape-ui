import{r as d,j as e,a9 as b,d as c,V as v,e as p,aa as l,x,ab as P}from"./index-CNSDWj8Q.js";import{P as m,a as g,b as j}from"./PageMain-C8MVZwda.js";import{L as h}from"./constants-CDnVvJTb.js";const f={enabled:!0,id:-1,name:"Ubuntu One",provider:"ubuntu-one"},C=({oidcAvailable:t,oidcProviders:a,ubuntuOneAvailable:o,ubuntuOneEnabled:s})=>{const r=d.useMemo(()=>[...[{...f,enabled:s}].slice(o?0:1),...a.slice(t?0:a.length)],[a,t,o,s]),i=r.filter(({enabled:n})=>n).length>1,u=d.useMemo(()=>[{accessor:"name",Header:"Name"},{accessor:"enabled",Header:"Status",Cell:({row:{original:n}})=>n.enabled?"Enabled":"Disabled",getCellIcon:({row:{original:n}})=>n.enabled?"status-succeeded-small":"status-queued-small"},{accessor:"provider",Header:"Provider"},{...h,Cell:({row:{original:n}})=>e.jsx(b,{canBeDisabled:i,provider:n})}],[r]);return e.jsx(c.ModularTable,{columns:u,data:r})},y=()=>{const{loginMethods:t,loginMethodsLoading:a}=v();if(a)return e.jsx(p,{});if(!t)return e.jsx(l,{});const{ubuntu_one:o,oidc:s}=t,r=o?.available,i=s?.available&&s?.configurations?.length>0;return!r&&!i?e.jsx(l,{}):e.jsx(C,{oidcAvailable:!!s?.available,oidcProviders:s?.configurations??[],ubuntuOneAvailable:!!o?.available,ubuntuOneEnabled:!!o?.enabled})},M=()=>{const{setSidePanelContent:t}=x(),a=()=>{t("Choose an identity provider",e.jsx(P,{}))};return e.jsxs(m,{children:[e.jsx(g,{title:"Identity Providers",actions:[e.jsx(c.Button,{type:"button",appearance:"positive",onClick:a,children:"Add identity provider"},"add-identity-provider")]}),e.jsx(j,{children:e.jsx(y,{})})]})};export{M as default};
