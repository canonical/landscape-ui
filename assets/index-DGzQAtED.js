import{e as p,m as c,r as u,a as g,n as b,A as h,R as x,j as s,g as r}from"./index-aXCRV7My.js";import{A as w}from"./AuthTemplate-CIbYIGXZ.js";import{u as f}from"./formik.esm-Bnzr9ZOe.js";import{c as j,a as o,d as P}from"./index.esm-eR-gPxEp.js";const v=()=>{const d=p(),{setUser:m}=c(),[l,t]=u.useState(!1),n=g(),e=f({initialValues:{email:"",password:"",remember:!1},validationSchema:j().shape({email:o().email("Please provide a valid email address").required("This field is required"),password:o().required("This field is required"),remember:P()}),onSubmit:async a=>{t(!0);try{const{data:i}=await b.post(`${h}login`,{email:a.email,password:a.password});m(i,a.remember),n(`${x}`,{replace:!0})}catch(i){d(i)}t(!1)}});return s.jsxs(r.Form,{onSubmit:e.handleSubmit,children:[s.jsx(r.Input,{type:"text",label:"Email",error:e.touched.email&&e.errors.email?e.errors.email:void 0,...e.getFieldProps("email"),"data-testid":"email"}),s.jsx(r.PasswordToggle,{id:"password",label:"Password",error:e.touched.password&&e.errors.password?e.errors.password:void 0,...e.getFieldProps("password"),"data-testid":"password"}),s.jsx(r.CheckboxInput,{label:"Remember this device",...e.getFieldProps("remember")}),s.jsx("div",{className:"form-buttons",children:s.jsx(r.Button,{type:"submit",appearance:"positive",disabled:l,children:"Login"})})]})},L=()=>s.jsx(w,{title:"Login",children:s.jsx(v,{})}),R=L;export{R as default};
