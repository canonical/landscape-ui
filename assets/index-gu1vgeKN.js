import{t as o,aA as l,e as P,j as t,i as h,P as w,aB as x,aC as T}from"./index-DJOjDjNm.js";import{S as j}from"./SidePanelTablePagination-C1Gb5M5S.js";import{P as _}from"./index-D9T9B78k.js";import"./Chip-CLo8kHiQ.js";import"./EmployeeList-xmuOKkbH.js";import"./constants-WmFl1fxe.js";import"./InstanceRemoveFromLandscapeModal-BwDak3QZ.js";import"./useRemoveInstancesFromLandscape-bE_SA9Vl.js";import"./useRoles-BIOocaCJ.js";import"./index-wAeUE9af.js";import"./WslInstancesEmptyState-DlgBmoCK.js";import"./HeaderWithSearch-_Iy_BKXs.js";const E={package:{label:"Package",value:"package"},reboot:{label:"Reboot",value:"reboot"},removal:{label:"Removal",value:"removal"},repository:{label:"Repository",value:"repository"},script:{label:"Script",value:"script"},security:{label:"Security",value:"security"},upgrade:{label:"Upgrade",value:"upgrade"},wsl:{label:"WSL",value:"wsl"}},b=a=>({package:"Package",removal:"Removal",repository:"Repository",reboot:"Reboot",script:"Script",security:"Security",upgrade:"Upgrade",wsl:"WSL"})[a],R="_header_1a4zf_1",I="_search_1a4zf_7",y={header:R,search:I},H=({instance:a})=>{const[S,g]=o.useState(""),[p,s]=o.useState(l),[c,C]=o.useState(P),[r,d]=o.useState(""),[i,u]=o.useState([]),v=o.useMemo(()=>[{accessor:"title",Header:"Title",Cell:({row:{original:e}})=>t.jsx(_,{profile:e})},{accessor:"type",Header:"Type",Cell:({row:{original:e}})=>b(e.type)}],[]),f=()=>{g(""),d(""),s(l)},n=a.profiles?[...a.profiles.filter(e=>e.title.toLowerCase()===r.toLowerCase()),...a.profiles.filter(e=>e.title.toLowerCase()!==r&&e.title.toLowerCase().startsWith(r.toLowerCase())),...a.profiles.filter(e=>e.title.toLowerCase()!==r.toLowerCase()&&!e.title.toLowerCase().startsWith(r.toLowerCase())&&e.title.toLowerCase().includes(r.toLowerCase()))].filter(e=>!i.length||i.includes(e.type)):[],L=n.slice((p-1)*c,(p-1)*c+c);return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:y.header,children:[t.jsx(h.SearchBox,{className:w("u-no-margin--bottom",y.search),externallyControlled:!0,value:S,onChange:g,onClear:f,onSearch:e=>{d(e),s(l)},autoComplete:"off"}),t.jsx(x,{type:"multiple",label:"Type",onItemsSelect:e=>{u(e),s(l)},position:"right",options:Object.entries(E).filter(([e])=>a.profiles?.some(m=>m.type===e)).map(([,e])=>e),selectedItems:i})]}),t.jsx(T,{filters:[{label:"Search",item:r||void 0,clear:f},{label:"Type",items:i.map(e=>({label:b(e),value:e})),clear:()=>{u([]),s(l)},remove:e=>{u(i.filter(m=>m!==e)),s(l)},multiple:!0}]}),t.jsx(h.ModularTable,{columns:v,data:L,emptyMsg:"No profiles found according to your search parameters."}),t.jsx(j,{currentPage:p,pageSize:c,paginate:s,setPageSize:C,totalItems:n.length,currentItemCount:n.length})]})};export{H as default};
