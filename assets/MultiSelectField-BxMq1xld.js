import{r as n,j as s,n as f,m as I}from"./index-AQFe3UL3.js";const S="_container_v4cko_1",k="_errorMessage_v4cko_14",j={container:S,errorMessage:k},R=({className:b,disabled:p,disabledItems:v,dropdownFooter:d,error:t,help:m,innerRef:a,items:x,label:l,labelClassName:g,required:h,...E})=>{const[_,M]=n.useState(!1),o=n.useRef(null),u=n.useRef(""),N=e=>{var i;if(!e||(a&&(typeof a=="function"?a(e):a.current=e),!e.closest(".l-aside")))return;const r=e.querySelector(".multi-select__select-button"),c=e.querySelector(".p-search-box__input");o.current=r||c,u.current=((i=o.current)==null?void 0:i.getAttribute("aria-controls"))||""};n.useEffect(()=>{if(!o.current)return;const e=new MutationObserver(r=>{r.some(({attributeName:c,type:i})=>i==="attributes"&&c==="aria-expanded")&&M(c=>!c)});return e.observe(o.current,{attributes:!0}),()=>{e.disconnect()}},[]),n.useEffect(()=>{if(!_||!u.current)return;const e=document.getElementById(u.current),r=e==null?void 0:e.closest(".multi-select");r&&(r.style.zIndex="101")},[_]);const y=t?s.jsxs("div",{children:[s.jsx("p",{className:"p-form-validation__message",children:s.jsx("span",{children:t})}),d]}):d;return s.jsxs("div",{className:f("p-form-validation p-form__group",{"is-error":!!t},j.container,b),ref:N,children:[l&&s.jsx("label",{className:f("p-form__label",{"is-required":h},g),children:l}),m&&s.jsx("p",{className:"p-form-help-text",children:m}),s.jsx(I.MultiSelect,{dropdownFooter:y,disabled:p,disabledItems:p?x:v,error:t,items:x,label:l,...E}),t&&s.jsx("p",{className:f(j.errorMessage,"p-form-validation__message"),children:s.jsx("span",{children:t})})]})};export{R as M};
