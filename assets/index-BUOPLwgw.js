import{r as x,p as _,j as e,g as s}from"./index-GiuCVecl.js";import{P as j,a as w,b as P}from"./PageMain-DojUpcuH.js";import{u as C,A as L}from"./index-BW79lWRG.js";import"./usePageParams-7T1Wf5Yp.js";import"./TablePagination-CRDME7Rk.js";import"./TablePaginationBase-BPIW5hCI.js";import"./StatusFilter-DarVXZFz.js";import"./TableFilter-CKXXSVh9.js";import"./TableFilterChips-bMxNX3F9.js";import"./useFetchOld-DmpCZqVp.js";import"./NoData-cpw-DQaS.js";try{let t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},n=new t.Error().stack;n&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[n]="648dab1d-044c-4d86-9501-cf97c5ae724b",t._sentryDebugIdIdentifier="sentry-dbid-648dab1d-044c-4d86-9501-cf97c5ae724b")}catch{}const D="_header_116wp_1",I={header:D},k=()=>{const[t,n]=x.useState([]),o=_(),{approveActivitiesQuery:l,cancelActivitiesQuery:u,redoActivitiesQuery:p,undoActivitiesQuery:m}=C(),{mutateAsync:v,isPending:c}=l,{mutateAsync:y,isPending:a}=u,{mutateAsync:f,isPending:r}=p,{mutateAsync:g,isPending:d}=m,h=async()=>{try{await v({query:`id:${t.join(" OR id:")}`})}catch(i){o(i)}},A=async()=>{try{await y({query:`id:${t.join(" OR id:")}`})}catch(i){o(i)}},b=async()=>{try{await f({activity_ids:t})}catch(i){o(i)}},B=async()=>{try{await g({activity_ids:t})}catch(i){o(i)}};return e.jsxs(j,{children:[e.jsx(w,{title:"Activities",className:I.header,actions:[e.jsx("div",{className:"p-segmented-control",children:e.jsxs("div",{className:"p-segmented-control__list",children:[e.jsx(s.ConfirmationButton,{className:"p-segmented-control__button",type:"button",disabled:t.length===0||c,confirmationModalProps:{title:`Approve ${t.length===1?"activity":"activities"}`,children:e.jsxs("p",{children:["Are you sure you want to approve selected"," ",t.length===1?"activity":"activities","?"]}),confirmButtonLabel:"Approve",confirmButtonAppearance:"positive",confirmButtonDisabled:c,confirmButtonLoading:c,onConfirm:h},children:"Approve"}),e.jsx(s.ConfirmationButton,{className:"p-segmented-control__button",type:"button",disabled:t.length===0||a,confirmationModalProps:{title:`Cancel ${t.length===1?"activity":"activities"}`,children:e.jsxs("p",{children:["Are you sure you want to cancel selected"," ",t.length===1?"activity":"activities","?"]}),confirmButtonLabel:"Apply",confirmButtonAppearance:"positive",confirmButtonDisabled:a,confirmButtonLoading:a,onConfirm:A},children:"Cancel"}),e.jsx(s.ConfirmationButton,{className:"p-segmented-control__button",type:"button",disabled:t.length===0||d,confirmationModalProps:{title:`Undo ${t.length===1?"activity":"activities"}`,children:e.jsxs("p",{children:["Are you sure you want to undo selected"," ",t.length===1?"activity":"activities","?"]}),confirmButtonLabel:"Undo",confirmButtonAppearance:"positive",confirmButtonDisabled:d,confirmButtonLoading:d,onConfirm:B},children:"Undo"}),e.jsx(s.ConfirmationButton,{className:"p-segmented-control__button",type:"button",disabled:t.length===0||r,confirmationModalProps:{title:`Redo ${t.length===1?"activity":"activities"}`,children:e.jsxs("p",{children:["Are you sure you want to redo selected"," ",t.length===1?"activity":"activities","?"]}),confirmButtonLabel:"Redo",confirmButtonAppearance:"positive",confirmButtonDisabled:r,confirmButtonLoading:r,onConfirm:b},children:"Redo"})]})},"buttons")]}),e.jsx(P,{children:e.jsx(L,{selectedIds:t,setSelectedIds:i=>n(i)})})]})};export{k as default};
