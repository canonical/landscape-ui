const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-afg1azeC.js","assets/index-CNSDWj8Q.js","assets/index-CoB-_C5O.css","assets/useFetchOld-BAAs34Op.js","assets/InstancesPageActions-DL7_pmR1.js","assets/index-D-YBZSy_.js","assets/NoData-6ZK9sV5u.js","assets/TablePagination-CFXNvqsZ.js","assets/TableFilterChips-06YfpJdc.js","assets/TableFilterChips-BnP8uMWM.css","assets/TablePagination-CLgA9gvz.css","assets/PageParamFilter-ChSwlZqZ.js","assets/TableFilter-2AKF5NjJ.js","assets/TableFilter-B85Stwni.css","assets/formikErrors-Bw8iTXYS.js","assets/ResponsiveTable-BXalKviy.js","assets/ResponsiveTable-DsN8RVSX.css","assets/index-B1ULwG00.css","assets/ListTitle-BUruUKn1.js","assets/ListTitle-CxCHkD9o.css","assets/StaticLink-BEYCGcPv.js","assets/TruncatedCell-BMum6DLZ.js","assets/Truncated-Dtg97i8C.js","assets/Truncated-uqJp6ujM.css","assets/TruncatedCell-DraJKZqh.css","assets/useExpandableRow-B4jhRgod.js","assets/index-CySvbr4l.js","assets/TextConfirmationModal-q88mH05g.js","assets/TextConfirmationModal-I9pZGO8V.css","assets/InfoGrid-3w5mqARw.js","assets/InfoItem-Bt7JBIPo.js","assets/InfoItem-D8nPzgUA.css","assets/InfoGrid-D3QqOHFx.css","assets/InstancesPageActions-h3D4euDx.css","assets/useRoles-DYJzr0u4.js","assets/index-CfXqLKNo.css"])))=>i.map(i=>d[i]);
import{x as _,j as t,d as l,w as x,L as S,G as P,R as d,r as y,e as g,_ as j,f as h,c as A,N as I,E}from"./index-CNSDWj8Q.js";import{P as f,a as b,b as k}from"./PageMain-C8MVZwda.js";import{p as c,S as L,q as R}from"./InstancesPageActions-DL7_pmR1.js";import"./index-CySvbr4l.js";import"./index-D-YBZSy_.js";import"./NoData-6ZK9sV5u.js";import"./TablePagination-CFXNvqsZ.js";import"./TableFilterChips-06YfpJdc.js";import"./useFetchOld-BAAs34Op.js";import"./PageParamFilter-ChSwlZqZ.js";import"./TableFilter-2AKF5NjJ.js";import"./formikErrors-Bw8iTXYS.js";import"./ResponsiveTable-BXalKviy.js";import"./ListTitle-BUruUKn1.js";import"./StaticLink-BEYCGcPv.js";import"./TruncatedCell-BMum6DLZ.js";import"./Truncated-Dtg97i8C.js";import"./useExpandableRow-B4jhRgod.js";import"./TextConfirmationModal-q88mH05g.js";import"./InfoGrid-3w5mqARw.js";import"./InfoItem-Bt7JBIPo.js";const T="_listItem_upezw_1",v="_listItem__link_upezw_9",p={listItem:T,listItem__link:v},C=s=>{const e=c[s.alert_type]||c.Unknown,r=s.alert_type in L;return s.alert_type==="UbuntuProContractExpirationAlert"?{contractExpiryDays:e.filterValue}:r?{status:e.filterValue}:{query:e.query}},N=y.lazy(()=>j(()=>import("./index-afg1azeC.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35]))),F=({alerts:s,pendingInstances:e})=>{const{setSidePanelContent:r}=_(),i=()=>{r("Review Pending Instances",t.jsx(y.Suspense,{fallback:t.jsx(g,{}),children:t.jsx(N,{instances:e})}),"large")},o=s.map((n,m)=>{const a=c[n.alert_type]||c.Unknown,u=C(n);return t.jsxs("div",{className:p.listItem,children:[t.jsx(l.Icon,{name:`${a.icon.color??a.icon.gray}`}),a.alertType==="PendingComputersAlert"?t.jsxs(l.Button,{type:"button",appearance:"link",className:"u-no-margin u-no-padding",onClick:i,children:[`${e.length} pending `,x(e.length,"computer needs","computers need")," ","authorization"]}):t.jsx(S,{to:d.instances.root(u),className:P("u-no-margin u-no-padding",p.listItem__link),children:n.summary})]},a.alertType||m)});return t.jsx(l.List,{items:o})};function w(){const s=h();return{getAlertsSummaryQuery:()=>A({queryKey:["alert","summary"],queryFn:async()=>s.get("alerts/summary")})}}const at=()=>{const s=I(),{getAlertsSummaryQuery:e}=w(),{data:r,isLoading:i}=e(),o=r?.data.alerts_summary.some(u=>u.alert_type==="PendingComputersAlert"),{pendingInstances:n,isGettingPendingInstances:m}=R(void 0,{enabled:o}),a=r?.data.alerts_summary||[];return t.jsxs(f,{children:[t.jsx(b,{title:"Alerts"}),t.jsx(k,{children:i||o&&m?t.jsx(g,{}):a.length?t.jsx(F,{alerts:a,pendingInstances:n}):t.jsx(E,{title:"No subscribed alerts found",icon:"connected",body:t.jsx("p",{children:"You are not subscribed to any alerts yet."}),cta:[t.jsx(l.Button,{appearance:"positive",onClick:()=>s(d.account.alerts(),{replace:!0}),type:"button","aria-label":"Go to alerts page",children:"Go to alerts"},"go-to-alerts-page")]})})]})};export{at as default};
