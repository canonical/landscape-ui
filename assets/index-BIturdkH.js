import{r as i,j as a,P as u,d as r,y as b,o as g,J as v,i as p,S as x}from"./index-11G1aXa0.js";import{P,a as m,b as j}from"./PageMain-DJexkOJL.js";const h={enabled:!0,id:-1,name:"Ubuntu One",provider:"ubuntu-one"},y=({oidcAvailable:s,oidcProviders:e,ubuntuOneAvailable:n,ubuntuOneEnabled:d})=>{const o=i.useMemo(()=>[...[{...h,enabled:d}].slice(n?0:1),...e.slice(s?0:e.length)],[e,s,n,d]),l=o.filter(({enabled:t})=>t).length>1,c=i.useMemo(()=>[{accessor:"name",Header:"Name"},{accessor:"enabled",Header:"Status",Cell:({row:{original:t}})=>t.enabled?"Enabled":"Disabled",getCellIcon:({row:{original:t}})=>t.enabled?"status-succeeded-small":"status-queued-small"},{accessor:"provider",Header:"Provider"},{accessor:"actions",className:"u-align--right",Header:"Actions",Cell:({row:{original:t}})=>a.jsx(u,{canBeDisabled:l,provider:t})}],[o]);return a.jsx(r.ModularTable,{columns:c,data:o})},C=()=>{const{getLoginMethodsQuery:s}=b(),{data:e,isLoading:n}=s();return a.jsxs(a.Fragment,{children:[n&&a.jsx(g,{}),!n&&(!e||!e.data.ubuntu_one.available&&e.data.oidc.configurations.length===0)&&a.jsx(v,{}),!n&&e&&(e.data.ubuntu_one.available||e.data.oidc.available&&e.data.oidc.configurations.length>0)&&a.jsx(y,{oidcAvailable:e.data.oidc.available,oidcProviders:e.data.oidc.configurations,ubuntuOneAvailable:e.data.ubuntu_one.available,ubuntuOneEnabled:e.data.ubuntu_one.enabled})]})},L=()=>{const{setSidePanelContent:s}=p(),e=()=>{s("Choose an identity provider",a.jsx(x,{}))};return a.jsxs(P,{children:[a.jsx(m,{title:"Identity Providers",actions:[a.jsx(r.Button,{type:"button",appearance:"positive",onClick:e,children:"Add identity provider"},"add-identity-provider")]}),a.jsx(j,{children:a.jsx(C,{})})]})};export{L as default};
