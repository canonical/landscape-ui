import{r as p,j as t,g as u,m as r}from"./index-DdVy3CIu.js";const y=({onSearch:n})=>{const[i,d]=p.useState("");return t.jsx(u.Form,{onSubmit:m=>{m.preventDefault(),n(i)},children:t.jsx(u.SearchBox,{externallyControlled:!0,shouldRefocusAfterReset:!0,autoComplete:"off",value:i,onChange:m=>d(m),onSearch:()=>n(i),onClear:()=>{d(""),n("")}})})},C=({label:n,options:i,otherProps:d})=>{var m;return!d.multiple&&d.showSelectionOnToggleLabel&&((m=i.find(c=>c.value===d.selectedItem))==null?void 0:m.label)||n},f="_toggle_yticq_1",I="_badgeContainer_yticq_7",N="_multiple_yticq_12",h="_badge_yticq_7",q="_dropdown_yticq_23",w="_container_yticq_27",B="_horizontalPadding_yticq_32",S="_list_yticq_37",A="_listItem_yticq_46",k="_separated_yticq_53",T="_button_yticq_59",F="_selected_yticq_66",v="_footer_yticq_72",z="_hideSelectAllButton_yticq_80",l={toggle:f,badgeContainer:I,multiple:N,badge:h,dropdown:q,container:w,horizontalPadding:B,list:S,listItem:A,separated:k,button:T,selected:F,footer:v,hideSelectAllButton:z},R=({disabledOptions:n,hasBadge:i,hasToggleIcon:d,label:m,options:c,onSearch:g,position:j="left",...e})=>{const b=({onItemsSelect:s,selectedItems:a})=>o=>{s(a.includes(o.target.value)?a.filter(_=>_!==o.target.value):[...a,o.target.value])};return t.jsxs(u.ContextualMenu,{autoAdjust:!0,toggleAppearance:"base",toggleLabel:t.jsxs(t.Fragment,{children:[t.jsx("span",{children:C({label:m,options:c,otherProps:e})}),i&&e.multiple&&t.jsx("span",{className:r(l.badgeContainer,{[l.multiple]:c.length>9}),children:e.selectedItems.length>0&&t.jsx(u.Badge,{value:e.selectedItems.length,className:l.badge})}),i&&!e.multiple&&t.jsx("span",{className:l.badgeContainer,children:e.selectedItem&&t.jsx("svg",{role:"img",width:"12",height:"12",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("circle",{cx:"10",cy:"13",r:"6",fill:"#666666"})})})]}),toggleClassName:l.toggle,hasToggleIcon:d,dropdownClassName:l.dropdown,position:j,onToggleMenu:s=>{s&&g&&g("")},children:[t.jsxs("span",{className:r(l.container,{[l.multiple]:e.multiple,[l.horizontalPadding]:!!(e.multiple||g)}),children:[g&&t.jsx(y,{onSearch:g}),t.jsx("ul",{className:l.list,children:c.map(({label:s,value:a,group:o},_)=>t.jsxs("li",{className:r({[l.listItem]:e.multiple,[l.separated]:o&&c[_+1]!==void 0&&c[_+1].group!==o}),children:[e.multiple&&t.jsx(u.Input,{type:"checkbox",label:s,labelClassName:"u-no-padding--top u-no-margin--bottom",value:a,onChange:b(e),checked:e.selectedItems.includes(a),disabled:n==null?void 0:n.some(x=>x.value===a)}),!e.multiple&&e.selectedItem!==a&&t.jsx(u.Button,{type:"button",appearance:"base",className:l.button,onClick:()=>{e.onItemSelect(a)},disabled:n==null?void 0:n.some(x=>x.value===a),children:s}),!e.multiple&&e.selectedItem===a&&t.jsx("span",{className:l.selected,children:s})]},a))})]}),e.multiple&&t.jsxs("span",{className:r(l.footer,{[l.hideSelectAllButton]:e.hideSelectAllButton}),children:[e.hideSelectAllButton?null:t.jsx(u.Button,{type:"button",appearance:"link",className:"u-no-margin--bottom u-no-padding--top",onClick:()=>{e.onItemsSelect(c.map(({value:s})=>s))},children:"Select all"}),e.showSelectedItemCount?t.jsx("span",{className:"u-text--muted",children:`${e.selectedItems.length} of ${c.length} selected`}):t.jsx(u.Button,{type:"button",appearance:"link",className:"u-no-margin--bottom u-no-padding--top",onClick:()=>{e.onItemsSelect([])},children:"Clear"})]})]})};export{y as S,R as T,l as t};
