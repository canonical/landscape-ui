import{u as n}from"./useFetchOld-Dh4_z9Or.js";import{d as o,j as t,h as l}from"./index-vDh6p1re.js";import{h as i}from"./usePageParams-C-pi3Kin.js";const h=()=>{const e=n(),{mutateAsync:a,isPending:s}=o({mutationKey:["scripts","execute"],mutationFn:async r=>{const d={...r,deliver_after:r.deliver_after?i(r.deliver_after).utc().format("YYYY-MM-DDTHH:mm:ss[Z]"):void 0};return e.get("ExecuteScript",{params:d})}});return{runScript:a,isRunning:s}},u="_radioGroup_fv2b3_1",c={radioGroup:u},y=({formik:e})=>{const a=async s=>{const r=s.currentTarget.value==="true";await e.setFieldValue("deliverImmediately",r),r||await e.setFieldValue("deliver_after",i().toISOString().slice(0,16))};return t.jsxs(t.Fragment,{children:[t.jsx("span",{children:t.jsx("b",{children:"Delivery time"})}),t.jsxs("div",{className:c.radioGroup,children:[t.jsx(l.Input,{type:"radio",label:"As soon as possible",name:"deliverImmediately",value:"true",onChange:a,checked:e.values.deliverImmediately}),t.jsx(l.Input,{type:"radio",label:"Scheduled",name:"deliverImmediately",value:"false",onChange:a,checked:!e.values.deliverImmediately})]}),!e.values.deliverImmediately&&t.jsx(l.Input,{label:"Deliver after",type:"datetime-local",labelClassName:"u-off-screen",...e.getFieldProps("deliver_after"),error:e.touched.deliver_after&&typeof e.errors.deliver_after=="string"?e.errors.deliver_after:void 0})]})};export{y as D,h as u};
