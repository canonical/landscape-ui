import{h as u,i as p,k as A,j as a,d as y}from"./index-W6vPPLJL.js";import{A as d}from"./AttachmentFile-Bdvm6tTo.js";const x=()=>{const n=u(),s=p(),{mutateAsync:c,isPending:i}=A({mutationKey:["scripts","createAttachment"],mutationFn:async r=>n.get("CreateScriptAttachment",{params:r}),onSuccess:async()=>s.invalidateQueries({queryKey:["scripts"]})});return{createScriptAttachment:c,isCreatingScriptAttachment:i}},F="#!/bin/bash",f="_attachment_tpzj2_1",C={attachment:f},b=({attachments:n,attachmentsToRemove:s,getFileInputError:c,initialAttachments:i,onFileInputChange:r,onInitialAttachmentDelete:m,scriptId:o})=>a.jsx(a.Fragment,{children:Object.keys(n).map((h,l)=>{const t=h,e=i[l];return!e||s.includes(e.filename)?a.jsx(y.Input,{type:"file",label:`${t} attachment`,labelClassName:"u-off-screen",onChange:r(t),error:c(t)},t):a.jsx(d,{className:C.attachment,attachmentId:e.id,filename:e.filename,scriptId:o,onInitialAttachmentDelete:()=>{m(e.filename)}},t)})});export{F as D,b as S,x as u};
