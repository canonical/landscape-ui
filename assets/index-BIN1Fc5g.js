import{r as _,y as C,W as P,j as i,m as a,C as L}from"./index-C_124pJU.js";import{P as w,a as N,b as R}from"./PageMain-Bw-26RLl.js";const $="_header_116wp_1",D={header:$},U=()=>{const[t,u]=_.useState([]),o=C(),{approveActivitiesQuery:p,cancelActivitiesQuery:m,redoActivitiesQuery:v,undoActivitiesQuery:y}=P(),{mutateAsync:h,isPending:c}=p,{mutateAsync:A,isPending:r}=m,{mutateAsync:g,isPending:d}=v,{mutateAsync:f,isPending:l}=y,s=t.map(e=>e.id),b=async()=>{try{await h({query:`id:${s.join(" OR id:")}`})}catch(e){o(e)}},B=async()=>{try{await A({query:`id:${s.join(" OR id:")}`})}catch(e){o(e)}},x=async()=>{try{await g({activity_ids:s})}catch(e){o(e)}},j=async()=>{try{await f({activity_ids:s})}catch(e){o(e)}};return i.jsxs(w,{children:[i.jsx(N,{title:"Activities",className:D.header,actions:[i.jsx("div",{className:"p-segmented-control",children:i.jsxs("div",{className:"p-segmented-control__list",children:[i.jsx(a.ConfirmationButton,{className:"p-segmented-control__button",type:"button",disabled:!t.length||c||t.some(e=>{var n;return!((n=e.actions)!=null&&n.approvable)}),confirmationModalProps:{title:`Approve ${t.length===1?"activity":"activities"}`,children:i.jsxs("p",{children:["Are you sure you want to approve selected"," ",t.length===1?"activity":"activities","?"]}),confirmButtonLabel:"Approve",confirmButtonAppearance:"positive",confirmButtonDisabled:c,confirmButtonLoading:c,onConfirm:b},children:"Approve"}),i.jsx(a.ConfirmationButton,{className:"p-segmented-control__button",type:"button",disabled:!t.length||r||t.some(e=>{var n;return!((n=e.actions)!=null&&n.cancelable)}),confirmationModalProps:{title:`Cancel ${t.length===1?"activity":"activities"}`,children:i.jsxs("p",{children:["Are you sure you want to cancel selected"," ",t.length===1?"activity":"activities","?"]}),confirmButtonLabel:"Apply",confirmButtonAppearance:"positive",confirmButtonDisabled:r,confirmButtonLoading:r,onConfirm:B},children:"Cancel"}),i.jsx(a.ConfirmationButton,{className:"p-segmented-control__button",type:"button",disabled:!t.length||l||t.some(e=>{var n;return!((n=e.actions)!=null&&n.revertable)}),confirmationModalProps:{title:`Undo ${t.length===1?"activity":"activities"}`,children:i.jsxs("p",{children:["Are you sure you want to undo selected"," ",t.length===1?"activity":"activities","?"]}),confirmButtonLabel:"Undo",confirmButtonAppearance:"positive",confirmButtonDisabled:l,confirmButtonLoading:l,onConfirm:j},children:"Undo"}),i.jsx(a.ConfirmationButton,{className:"p-segmented-control__button",type:"button",disabled:!t.length||d||t.some(e=>{var n;return!((n=e.actions)!=null&&n.reappliable)}),confirmationModalProps:{title:`Redo ${t.length===1?"activity":"activities"}`,children:i.jsxs("p",{children:["Are you sure you want to redo selected"," ",t.length===1?"activity":"activities","?"]}),confirmButtonLabel:"Redo",confirmButtonAppearance:"positive",confirmButtonDisabled:d,confirmButtonLoading:d,onConfirm:x},children:"Redo"})]})},"buttons")]}),i.jsx(R,{children:i.jsx(L,{selected:t,setSelected:u})})]})};export{U as default};
