const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Ll7-pabT.js","assets/index-CxdGmiUM.js","assets/index-DDaZatVV.js","assets/index-DXB7zdRE.css","assets/PageMain-CHjkkDv9.js","assets/PageMain-CIunaku7.css","assets/TruncatedCell-feULe2jl.js","assets/TruncatedCell-DraJKZqh.css","assets/useExpandableRow-CzCT_PI-.js","assets/useRoles-UPWxgdFc.js","assets/HeaderWithSearch-BDcxjGbJ.js","assets/HeaderWithSearch-C2lwo0VI.css","assets/AssociationBlock-DJy43hwj.js","assets/MultiSelectField-DFk9J0Ib.js","assets/MultiSelectField-CD3NDVCz.css","assets/useGetTags-DXkAt-Wt.js","assets/AssociationBlock-vsPH8fvb.css","assets/SidePanelFormButtons-DYhfXSG9.js","assets/SidePanelFormButtons.module-BuIu-Bem.js","assets/SidePanelFormButtons-CmV-sWf7.css","assets/helpers-CeElQcBW.js","assets/index-C8M75lnL.css"])))=>i.map(i=>d[i]);
import{i,p as R,q as P,n as k,j as e,d as o,I as a,A as E,D,ad as I,v as h,a3 as S}from"./index-DDaZatVV.js";import{u as T,R as A}from"./index-CxdGmiUM.js";import{p as $}from"./helpers-CeElQcBW.js";import"./PageMain-CHjkkDv9.js";import"./TruncatedCell-feULe2jl.js";import"./useExpandableRow-CzCT_PI-.js";import"./useRoles-UPWxgdFc.js";import"./HeaderWithSearch-BDcxjGbJ.js";const C={mo:"Monday",tu:"Tuesday",we:"Wednesday",th:"Thursday",fr:"Friday",sa:"Saturday",su:"Sunday"},N=s=>s.length===2?`${s[0]} and ${s[1]}`:s.length>2?`${s.slice(0,-1).join(", ")}, and ${s[s.length-1]}`:s[0]??"",w=s=>{const{freq:t,on_days:n}=$(s.schedule);if(t!=="weekly"||!n.length)return"One-time";const l=n.map(c=>C[c.toLowerCase()]);return`Every week on ${N(l)}`},M="_block_12b3u_1",b={block:M},x=i.lazy(async()=>S(()=>import("./index-Ll7-pabT.js").then(s=>s.i),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21]))),K=({accessGroupOptions:s,profile:t})=>{const[n,l]=i.useState(!1),d=R(),{notify:c}=P(),{closeSidePanel:p,setSidePanelContent:u}=k(),{removeRebootProfile:j,isRemovingRebootProfile:m}=T(),g=async()=>{try{await j({id:t.id}),p(),c.success({title:"Reboot profile removed",message:`Reboot profile ${t.title} has been removed`})}catch(r){d(r)}},v=()=>{u(`Edit "${t.title}" profile`,e.jsx(i.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(x,{action:"edit",profile:t})}))},f=()=>{u(`Duplicate "${t.title}" profile`,e.jsx(i.Suspense,{fallback:e.jsx(h,{}),children:e.jsx(x,{action:"duplicate",profile:t})}))},_=()=>{l(!1)},y=()=>{l(!0)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-segmented-control",children:[e.jsxs(o.Button,{type:"button",hasIcon:!0,className:"p-segmented-control__button",onClick:v,"aria-label":`Edit reboot profile ${t.title}`,children:[e.jsx(o.Icon,{name:"edit"}),e.jsx("span",{children:"Edit"})]}),e.jsxs(o.Button,{type:"button",hasIcon:!0,className:"p-segmented-control__button",onClick:f,"aria-label":`Edit reboot profile ${t.title}`,children:[e.jsx(o.Icon,{name:"canvas"}),e.jsx("span",{children:"Duplicate"})]}),e.jsxs(o.Button,{className:"p-segmented-control__button has-icon",type:"button",hasIcon:!0,onClick:y,"aria-label":`Remove reboot profile ${t.title}`,children:[e.jsx(o.Icon,{name:o.ICONS.delete}),e.jsx("span",{children:"Remove"})]})]}),e.jsxs(o.Row,{className:"u-no-padding--left u-no-padding--right",children:[e.jsx(o.Col,{size:6,children:e.jsx(a,{label:"Title",value:t.title})}),e.jsx(o.Col,{size:6,children:e.jsx(a,{label:"Access group",value:s.find(({value:r})=>r===t.access_group)?.label??t.access_group})})]}),e.jsxs("div",{className:b.block,children:[e.jsx("p",{className:"p-heading--5",children:"Reboot schedule"}),e.jsx("div",{children:e.jsx(a,{label:"schedule",value:w(t)})}),e.jsx("div",{children:e.jsx(a,{label:"next reboot",value:E(t.next_run).format(D)})})]}),e.jsxs("div",{className:b.block,children:[e.jsx("p",{className:"p-heading--5",children:"Association"}),t.all_computers&&e.jsx("p",{children:"This profile has been associated with all instances."}),!t.all_computers&&!t.tags.length&&e.jsx("p",{children:"This profile has not yet been associated with any instances."}),!t.all_computers&&t.tags.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(a,{label:"Tags",type:"truncated",value:t.tags.join(", ")}),e.jsx(a,{label:"associated instances",value:e.jsx(A,{rebootProfile:t})})]})]}),e.jsx(I,{isOpen:n,title:"Remove reboot profile",confirmButtonLabel:"Remove",confirmButtonAppearance:"negative",onConfirm:g,confirmButtonDisabled:m,confirmButtonLoading:m,close:_,confirmationText:`remove ${t.title}`,children:e.jsxs("p",{children:['Are you sure you want to remove "',t.title,'" reboot profile? The removal of "',t.title,'" reboot profile is irreversible and might adversely affect your system.']})})]})};export{K as default};
