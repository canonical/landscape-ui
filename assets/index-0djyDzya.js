import{j as t,a as I,Q as a,I as e,L as l,R as c,x as n,U as u}from"./index-HcaOzkr4.js";import{b as p}from"./ScriptsTabs-DdfZtJqE.js";import"./index-DyK8jvLi.js";import{u as v}from"./useRoles-BAQFoUXg.js";import{g as b,a as _,S}from"./index-CeysxQci.js";import"./constants-BZzpu2au.js";import"./TextConfirmationModal-_9Djb0j-.js";import"./HeaderWithSearch-CBNpUALV.js";import"./SingleInstanceTabs.module-Cm1BYFZQ.js";const P=({profile:s})=>{const{script:i,isScriptLoading:o}=p(s.script_id),{getAccessGroupQuery:m}=v(),{data:g,isLoading:x}=m();if(o||x)return t.jsx(I,{});const d=g?.data.find(j=>j.name==s.access_group)?.title||s.access_group,r=s.activities.last_activity;return t.jsxs(a,{children:[t.jsx(a.Item,{children:t.jsxs(e,{children:[t.jsx(e.Item,{label:"Title",value:s.title}),t.jsx(e.Item,{label:"Status",value:b(s)}),t.jsx(e.Item,{label:"Script",value:i?t.jsx(l,{to:c.scripts.root({tab:"scripts"}),state:{scriptId:i.id},children:i.title}):null}),t.jsx(e.Item,{label:"Access group",value:d}),t.jsx(e.Item,{label:"Run as user",value:s.username}),t.jsx(e.Item,{label:"Time limit",value:`${s.time_limit}s`})]})}),t.jsx(a.Item,{children:t.jsxs(e,{children:[t.jsx(e.Item,{label:"Trigger",large:!0,value:_(s)||null}),s.trigger.trigger_type!=="event"&&t.jsx(e.Item,{label:"Next run",value:s.trigger.next_run?`${n(s.trigger.next_run).utc().format(u)}`:null}),t.jsx(e.Item,{label:"Last run",value:r?t.jsx(l,{to:c.activities.root({query:`parent-id:${r.id}`}),children:n(r.creation_time).utc().format(u)}):null})]})}),t.jsx(a.Item,{title:"Association",children:t.jsxs(e,{children:[t.jsx(e.Item,{label:"Associated instances",large:!0,value:t.jsx(S,{scriptProfile:s})}),t.jsx(e.Item,{label:"Tags",large:!0,value:s.all_computers?"All instances":s.tags.join(", ")||null,type:"truncated"})]})})]})};export{P as default};
