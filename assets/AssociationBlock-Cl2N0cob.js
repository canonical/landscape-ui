import{j as a,g as d}from"./index-C2CrV7un.js";import{M as o}from"./MultiSelectField-BIDgs670.js";import{u as r}from"./useInstances-CYl5HarH.js";try{let e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},t=new e.Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="07dd988e-c032-41e6-98cd-f3da41e15ae1",e._sentryDebugIdIdentifier="sentry-dbid-07dd988e-c032-41e6-98cd-f3da41e15ae1")}catch{}const u="_container_j6wgv_1",p="_chips_j6wgv_7",i={container:u,chips:p},b=({formik:e})=>{const{getAllInstanceTagsQuery:t}=r(),{data:l}=t(),c=(l==null?void 0:l.data.results.map(s=>({label:s,value:s})))??[];return a.jsxs("div",{className:i.container,children:[a.jsx("p",{className:"p-heading--5",children:"Association"}),a.jsx(d.CheckboxInput,{label:"Associate to all instances",...e.getFieldProps("all_computers"),checked:e.values.all_computers}),!e.values.all_computers&&a.jsxs(a.Fragment,{children:[a.jsx(o,{label:"Tags",labelClassName:"u-off-screen",disabled:e.values.all_computers,placeholder:"Search and add tags",...e.getFieldProps("tags"),items:c,selectedItems:c.filter(({value:s})=>e.values.tags.includes(s)),onItemsUpdate:s=>e.setFieldValue("tags",s.map(({value:n})=>n))}),a.jsx("div",{className:i.chips,children:e.values.tags.map(s=>a.jsx(d.Chip,{className:"u-no-margin--bottom u-no-margin--right",value:s,onDismiss:()=>e.setFieldValue("tags",e.values.tags.filter(n=>n!==s))},s))})]})]})};export{b as A};
