import{m as d,t as l,v as p,z as f,B as y,j as r,a9 as v}from"./index-b6eKq6Xg.js";import{u as g}from"./useRemoveInstancesFromLandscape-Cm7IUWFB.js";const F=()=>{const t=d(),e=l(),{isPending:n,mutateAsync:a}=p({mutationKey:["instance","sanitize"],mutationFn:async({computer_id:s,...o})=>t.post(`computers/${s}/sanitize`,o),onSuccess:async()=>e.invalidateQueries({queryKey:["instances"]})});return{sanitizeInstance:a,isSanitizingInstance:n}},I=({close:t,instance:e,isOpen:n,onSuccess:a})=>{const s=f(),{notify:o}=y(),{removeInstancesFromLandscape:c,isRemovingInstancesFromLandscape:i}=g(),m=async()=>{try{await c({computer_ids:[e.id]}),o.success({title:`You have successfully removed ${e.title} from Landscape.`,message:`${e.title} has been removed from Landscape. To manage it again, you will need to re-register it in Landscape.`}),a?.()}catch(u){s(u)}finally{t()}};return r.jsx(v,{isOpen:n,close:t,title:`Remove ${e.title} from Landscape`,confirmButtonLabel:"Remove",confirmButtonAppearance:"negative",confirmButtonDisabled:i,confirmButtonLoading:i,confirmationText:`remove ${e.title}`,onConfirm:m,children:r.jsx("p",{children:"This will delete all associated data and free up one license slot for another computer to be registered. You can re-register it to Landscape at any time."})})};export{I,F as u};
