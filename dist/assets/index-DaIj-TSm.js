import{f as p,c as m,r,j as i,L as d,o as f,N as S,R as g,d as v,D as y,e as A,E as x}from"./index-DYykpNVa.js";import{S as E}from"./SidePanelTablePagination-ci5SCdZ3.js";import{b as c}from"./index-C2TKYmcI.js";import"./TablePagination-CIA4CRba.js";import"./TableFilterChips-DLH4XQ-H.js";import"./NoData-CT6SeJUX.js";import"./ResponsiveTable-C-8YbfBJ.js";import"./useFetchOld-BGD2hIpr.js";import"./PageParamFilter-LH49uHXA.js";import"./TableFilter-C7yTBfOe.js";import"./formikErrors-Bw8iTXYS.js";const T=({id:e,...s})=>{const t=p(),{data:a,isLoading:o}=m({queryKey:["scriptProfileActivities",{id:e,...s}],queryFn:async()=>t.get(`script-profiles/${e}/activities`,{params:s})});return{activities:a?.data.results??[],activitiesCount:a?.data.count,isGettingActivities:o}},P=({activities:e})=>{const s=r.useMemo(()=>[{Header:"Run",accessor:"creation_time",Cell:({row:{original:t}})=>i.jsx(d,{className:"font-monospace",to:g.activities.root({query:`parent-id:${t.id}`}),children:f(t.creation_time).utc().format(S)})},{Header:"Status",accessor:"activity_status",Cell:({row:{original:t}})=>c[t.activity_status].label,getCellIcon:({row:{original:t}})=>c[t.activity_status].icon}],[e]);return i.jsx(v.ModularTable,{columns:s,data:e})},M=({profile:e})=>{const[s,t]=r.useState(1),[a,o]=r.useState(y),{activities:n,activitiesCount:u,isGettingActivities:l}=T({id:e.id,limit:a,offset:(s-1)*a});return l?i.jsx(A,{}):n.length?i.jsxs(i.Fragment,{children:[i.jsx(P,{activities:n}),i.jsx(E,{currentPage:s,pageSize:a,paginate:t,setPageSize:o,totalItems:u})]}):i.jsx(x,{title:"No runs found",body:"The profile has not run yet."})};export{M as default};
