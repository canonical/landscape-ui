import{f as p,c as m,r,j as i,L as d,o as f,N as S,R as g,d as v,D as y,e as A,E as x}from"./index-Dfc97QGW.js";import{S as E}from"./SidePanelTablePagination-D0fGsgDJ.js";import{b as c}from"./index-S_kjB96R.js";import"./TablePagination-B0v8QAQr.js";import"./TableFilterChips-DXWGZ6VK.js";import"./NoData-DMN9LLPq.js";import"./ResponsiveTable-ViIMTRR6.js";import"./useFetchOld-BgGVMMmJ.js";import"./PageParamFilter-C5PJgjVf.js";import"./TableFilter-BmLRyeMD.js";import"./formikErrors-Bw8iTXYS.js";const T=({id:e,...s})=>{const t=p(),{data:a,isLoading:o}=m({queryKey:["scriptProfileActivities",{id:e,...s}],queryFn:async()=>t.get(`script-profiles/${e}/activities`,{params:s})});return{activities:a?.data.results??[],activitiesCount:a?.data.count,isGettingActivities:o}},P=({activities:e})=>{const s=r.useMemo(()=>[{Header:"Run",accessor:"creation_time",Cell:({row:{original:t}})=>i.jsx(d,{className:"font-monospace",to:g.activities.root({query:`parent-id:${t.id}`}),children:f(t.creation_time).utc().format(S)})},{Header:"Status",accessor:"activity_status",Cell:({row:{original:t}})=>c[t.activity_status].label,getCellIcon:({row:{original:t}})=>c[t.activity_status].icon}],[e]);return i.jsx(v.ModularTable,{columns:s,data:e})},M=({profile:e})=>{const[s,t]=r.useState(1),[a,o]=r.useState(y),{activities:n,activitiesCount:u,isGettingActivities:l}=T({id:e.id,limit:a,offset:(s-1)*a});return l?i.jsx(A,{}):n.length?i.jsxs(i.Fragment,{children:[i.jsx(P,{activities:n}),i.jsx(E,{currentPage:s,pageSize:a,paginate:t,setPageSize:o,totalItems:u})]}):i.jsx(x,{title:"No runs found",body:"The profile has not run yet."})};export{M as default};
