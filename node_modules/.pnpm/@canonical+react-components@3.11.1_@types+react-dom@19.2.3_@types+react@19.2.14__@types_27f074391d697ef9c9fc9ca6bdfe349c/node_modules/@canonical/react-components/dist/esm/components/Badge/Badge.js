var _excluded = ["value", "badgeType", "className", "isNegative"];
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }
function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }
function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }
import classNames from "classnames";
import React from "react";
export var BadgeType = {
  ROUNDED_LARGE_NUMBER: "ROUNDED_LARGE_NUMBER",
  UNDEFINED_LARGE_NUMBER: "UNDEFINED_LARGE_NUMBER"
};

/**
 * The props for the Badge component.
 */

var MAX_VAL = 999;
var units = ["", "k", "M", "B", "T"];
var _round = function round(value) {
  var unit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  if (value < 1000) {
    var truncatedValue = Number(value.toString().slice(0, 3));
    return "".concat(truncatedValue).concat(units[unit]);
  }
  if (unit >= units.length - 1) {
    return "999T";
  }
  var newValue = value / 1000;
  return _round(newValue, unit + 1);
};
var clamp = value => {
  if (value > MAX_VAL) {
    return "".concat(MAX_VAL, "+");
  }
  return value;
};

/**
 * This is a [React](https://reactjs.org/) component for the Vanilla [Badge](https://vanillaframework.io/docs/patterns/badge).
 *
 * It can be used to display a numeric values.
 */
var Badge = _ref => {
  var {
      value,
      badgeType = BadgeType.UNDEFINED_LARGE_NUMBER,
      className,
      isNegative
    } = _ref,
    spanProps = _objectWithoutProperties(_ref, _excluded);
  var badgeClassName = classNames({
    ["p-badge--negative"]: !!isNegative,
    "p-badge": !isNegative
  }, className);
  var safeValue = Math.round(value);
  if (value < 0) {
    console.error("The value used in the badge should be positive");
    safeValue = 0;
  }
  var formattedValue = badgeType === BadgeType.ROUNDED_LARGE_NUMBER ? _round(safeValue) : clamp(safeValue);
  return /*#__PURE__*/React.createElement("span", _extends({}, spanProps, {
    className: badgeClassName
  }), formattedValue);
};
export default Badge;