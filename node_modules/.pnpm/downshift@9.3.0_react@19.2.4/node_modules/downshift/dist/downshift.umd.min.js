!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Downshift={},e.React)}(this,function(e,t){"use strict";function n(e){var t=Object.create(null);return e&&Object.keys(e).forEach(function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}}),t.default=e,Object.freeze(t)}var i=n(t);function r(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o.apply(null,arguments)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var a,l,c,d,p,f={exports:{}};function g(){if(l)return a;l=1;return a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}function h(){if(d)return c;d=1;var e=g();function t(){}function n(){}return n.resetWarningCache=t,c=function(){function i(t,n,i,r,o,u){if(u!==e){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function r(){return i}i.isRequired=i;var o={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:r,element:i,elementType:i,instanceOf:r,node:i,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o}}function m(){return p||(p=1,f.exports=h()()),f.exports}var I,v,y=s(m()),b={exports:{}},x={};v||(v=1,b.exports=function(){if(I)return x;I=1;var e,t=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),a=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function h(e){if("object"==typeof e&&null!==e){var g=e.$$typeof;switch(g){case t:switch(e=e.type){case i:case o:case r:case c:case d:return e;default:switch(e=e&&e.$$typeof){case a:case s:case l:case f:case p:case u:return e;default:return g}}case n:return g}}}return e=Symbol.for("react.module.reference"),x.ContextConsumer=s,x.ContextProvider=u,x.Element=t,x.ForwardRef=l,x.Fragment=i,x.Lazy=f,x.Memo=p,x.Portal=n,x.Profiler=o,x.StrictMode=r,x.Suspense=c,x.SuspenseList=d,x.isAsyncMode=function(){return!1},x.isConcurrentMode=function(){return!1},x.isContextConsumer=function(e){return h(e)===s},x.isContextProvider=function(e){return h(e)===u},x.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},x.isForwardRef=function(e){return h(e)===l},x.isFragment=function(e){return h(e)===i},x.isLazy=function(e){return h(e)===f},x.isMemo=function(e){return h(e)===p},x.isPortal=function(e){return h(e)===n},x.isProfiler=function(e){return h(e)===o},x.isStrictMode=function(e){return h(e)===r},x.isSuspense=function(e){return h(e)===c},x.isSuspenseList=function(e){return h(e)===d},x.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===i||t===o||t===r||t===c||t===d||t===g||"object"==typeof t&&null!==t&&(t.$$typeof===f||t.$$typeof===p||t.$$typeof===u||t.$$typeof===s||t.$$typeof===l||t.$$typeof===e||void 0!==t.getModuleId)},x.typeOf=h,x}()),b.exports;var w=Object.freeze({__proto__:null,blurButton:14,blurInput:10,changeInput:11,clickButton:13,clickItem:9,controlledPropUpdatedSelectedItem:15,itemMouseEnter:2,keyDownArrowDown:4,keyDownArrowUp:3,keyDownEnd:8,keyDownEnter:6,keyDownEscape:5,keyDownHome:7,keyDownSpaceButton:12,mouseUp:1,touchEnd:16,unknown:0}),k=0;function C(){return String(k++)}function D(e){var t=i.useRef(e);return t.current=e,t}function S(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return t.some(function(t){return t&&t.apply(void 0,[e].concat(i)),e.preventDownshiftDefault||e.hasOwnProperty("nativeEvent")&&e.nativeEvent.preventDownshiftDefault})}}function O(e,t){var n;function i(){n&&clearTimeout(n)}function r(){for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];i(),n=setTimeout(function(){n=null,e.apply(void 0,o)},t)}return r.cancel=i,r}var E=O(function(e){M(e).textContent=""},500);function M(e){var t=e.getElementById("a11y-status-message");return t||((t=e.createElement("div")).setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}function T(e,t){e&&t&&(M(t).textContent=e,E(t))}function K(){}function P(e,t){return t?Object.keys(e).reduce(function(e,n){return void 0!==t[n]&&(e[n]=t[n]),e},o({},e)):e}const R=e=>"object"==typeof e&&null!=e&&1===e.nodeType,H=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,V=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return H(n.overflowY,t)||H(n.overflowX,t)||(e=>{const t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},A=(e,t,n,i,r,o,u,s)=>o<e&&u>t||o>e&&u<t?0:o<=e&&s<=n||u>=t&&s>=n?o-e-i:u>t&&s<n||o<e&&s>n?u-t+r:0,B=e=>{const t=e.parentElement;return null==t?e.getRootNode().host||null:t};function L(e,t){if(e){var n=((e,t)=>{var n,i,r,o;if("undefined"==typeof document)return[];const{inline:u,boundary:s,skipOverflowHiddenElements:a}=t,l="function"==typeof s?s:e=>e!==s;if(!R(e))throw new TypeError("Invalid target");const c=document.scrollingElement||document.documentElement,d=[];let p=e;for(;R(p)&&l(p);){if(p=B(p),p===c){d.push(p);break}null!=p&&p===document.body&&V(p)&&!V(document.documentElement)||null!=p&&V(p,a)&&d.push(p)}const f=null!=(i=null==(n=window.visualViewport)?void 0:n.width)?i:innerWidth,g=null!=(o=null==(r=window.visualViewport)?void 0:r.height)?o:innerHeight,{scrollX:h,scrollY:m}=window,{height:I,width:v,top:y,right:b,bottom:x,left:w}=e.getBoundingClientRect(),{top:k,right:C,left:D}=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);let S=y-k,O="center"===u?w+v/2-D+C:"end"===u?b+C:w-D;const E=[];for(let e=0;e<d.length;e++){const t=d[e],{height:n,width:i,top:r,right:o,bottom:s,left:a}=t.getBoundingClientRect();if(y>=0&&w>=0&&x<=g&&b<=f&&(t===c&&!V(t)||y>=r&&x<=s&&w>=a&&b<=o))return E;const l=getComputedStyle(t),p=parseInt(l.borderLeftWidth,10),k=parseInt(l.borderTopWidth,10),C=parseInt(l.borderRightWidth,10),D=parseInt(l.borderBottomWidth,10);let M=0,T=0;const K="offsetWidth"in t?t.offsetWidth-t.clientWidth-p-C:0,P="offsetHeight"in t?t.offsetHeight-t.clientHeight-k-D:0,R="offsetWidth"in t?0===t.offsetWidth?0:i/t.offsetWidth:0,H="offsetHeight"in t?0===t.offsetHeight?0:n/t.offsetHeight:0;if(c===t)M=A(m,m+g,g,k,D,m+S,m+S+I,I),T="start"===u?O:"center"===u?O-f/2:"end"===u?O-f:A(h,h+f,f,p,C,h+O,h+O+v,v),M=Math.max(0,M+m),T=Math.max(0,T+h);else{M=A(r,s,n,k,D+P,S,S+I,I),T="start"===u?O-a-p:"center"===u?O-(a+i/2)+K/2:"end"===u?O-o+C+K:A(a,o,i,p,C+K,O,O+v,v);const{scrollLeft:e,scrollTop:l}=t;M=0===H?0:Math.max(0,Math.min(l+M/H,t.scrollHeight-n/H+P)),T=0===R?0:Math.max(0,Math.min(e+T/R,t.scrollWidth-i/R+K)),S+=l-M,O+=e-T}E.push({el:t,top:M,left:T})}return E})(e,{boundary:t});n.forEach(function(e){var t=e.el,n=e.top,i=e.left;t.scrollTop=n,t.scrollLeft=i})}}function _(e){return"function"==typeof e?e:K}function F(e,t,n){return e===t||t instanceof n.Node&&e.contains&&e.contains(t)}function N(e,t){var n;function i(){n&&clearTimeout(n)}function r(){for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];i(),n=setTimeout(function(){n=null,e.apply(void 0,o)},t)}return r.cancel=i,r}function j(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return t.some(function(t){return t&&t.apply(void 0,[e].concat(i)),e.preventDownshiftDefault||e.hasOwnProperty("nativeEvent")&&e.nativeEvent.preventDownshiftDefault})}}function U(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach(function(t){"function"==typeof t?t(e):t&&(t.current=e)})}}function W(e){var t=e.isOpen,n=e.resultCount,i=e.previousResultCount;return t?n?n!==i?n+" result"+(1===n?" is":"s are")+" available, use up and down arrow keys to navigate. Press Enter key to select.":"":"No results are available.":""}function $(e,t){return!(e=Array.isArray(e)?e[0]:e)&&t?t:e}var G=["highlightedIndex","inputValue","isOpen","selectedItem","type"];function q(e){void 0===e&&(e={});var t={};return G.forEach(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t}function z(e,t){return void 0!==e[t]}function Y(e){var t=e.key,n=e.keyCode;return n>=37&&n<=40&&0!==t.indexOf("Arrow")?"Arrow"+t:t}function X(e,t,n,i,r){void 0===r&&(r=!1);var o=n.length;if(0===o)return-1;var u=o-1;("number"!=typeof e||e<0||e>u)&&(e=t>0?-1:u+1);var s=e+t;s<0?s=r?u:0:s>u&&(s=r?0:u);var a=J(s,t<0,n,i,r);return-1===a?e>=o?-1:e:a}function J(e,t,n,i,r){void 0===r&&(r=!1);var o=n.length;if(t){for(var u=e;u>=0;u--)if(!i(n[u],u))return u}else for(var s=e;s<o;s++)if(!i(n[s],s))return s;return r?J(t?o-1:0,t,n,i):-1}function Q(e,t,n,i){return void 0===i&&(i=!0),n&&t.some(function(t){return t&&(F(t,e,n)||i&&F(t,n.document.activeElement,n))})}var Z=["refKey","ref"],ee=["onClick","onPress","onKeyDown","onKeyUp","onBlur"],te=["onKeyDown","onBlur","onChange","onInput","onChangeText"],ne=["refKey","ref"],ie=["onMouseMove","onMouseDown","onClick","onPress","index","item"],re=function(){var e=function(e){function n(t){var n=e.call(this,t)||this;n.id=n.props.id||"downshift-"+C(),n.menuId=n.props.menuId||n.id+"-menu",n.labelId=n.props.labelId||n.id+"-label",n.inputId=n.props.inputId||n.id+"-input",n.getItemId=n.props.getItemId||function(e){return n.id+"-item-"+e},n.items=[],n.itemCount=null,n.previousResultCount=0,n.timeoutIds=[],n.internalSetTimeout=function(e,t){var i=setTimeout(function(){n.timeoutIds=n.timeoutIds.filter(function(e){return e!==i}),e()},t);n.timeoutIds.push(i)},n.setItemCount=function(e){n.itemCount=e},n.unsetItemCount=function(){n.itemCount=null},n.isItemDisabled=function(e,t){var i=n.getItemNodeFromIndex(t);return i&&i.hasAttribute("disabled")},n.setHighlightedIndex=function(e,t){void 0===e&&(e=n.props.defaultHighlightedIndex),void 0===t&&(t={}),t=q(t),n.internalSetState(o({highlightedIndex:e},t))},n.clearSelection=function(e){n.internalSetState({selectedItem:null,inputValue:"",highlightedIndex:n.props.defaultHighlightedIndex,isOpen:n.props.defaultIsOpen},e)},n.selectItem=function(e,t,i){t=q(t),n.internalSetState(o({isOpen:n.props.defaultIsOpen,highlightedIndex:n.props.defaultHighlightedIndex,selectedItem:e,inputValue:n.props.itemToString(e)},t),i)},n.selectItemAtIndex=function(e,t,i){var r=n.items[e];null!=r&&n.selectItem(r,t,i)},n.selectHighlightedItem=function(e,t){return n.selectItemAtIndex(n.getState().highlightedIndex,e,t)},n.internalSetState=function(e,t){var i,r,u={},s="function"==typeof e;return!s&&e.hasOwnProperty("inputValue")&&n.props.onInputValueChange(e.inputValue,o({},n.getStateAndHelpers(),e)),n.setState(function(t){var a;t=n.getState(t);var l=s?e(t):e;l=n.props.stateReducer(t,l),i=l.hasOwnProperty("selectedItem");var c={};return i&&l.selectedItem!==t.selectedItem&&(r=l.selectedItem),(a=l).type||(a.type=0),Object.keys(l).forEach(function(e){t[e]!==l[e]&&(u[e]=l[e]),"type"!==e&&(l[e],z(n.props,e)||(c[e]=l[e]))}),s&&l.hasOwnProperty("inputValue")&&n.props.onInputValueChange(l.inputValue,o({},n.getStateAndHelpers(),l)),c},function(){_(t)(),Object.keys(u).length>1&&n.props.onStateChange(u,n.getStateAndHelpers()),i&&n.props.onSelect(e.selectedItem,n.getStateAndHelpers()),void 0!==r&&n.props.onChange(r,n.getStateAndHelpers()),n.props.onUserAction(u,n.getStateAndHelpers())})},n.rootRef=function(e){return n._rootNode=e},n.getRootProps=function(e,t){var i,u=void 0===e?{}:e,s=u.refKey,a=void 0===s?"ref":s,l=u.ref,c=r(u,Z),d=(void 0===t?{}:t).suppressRefError,p=void 0!==d&&d;n.getRootProps.called=!0,n.getRootProps.refKey=a,n.getRootProps.suppressRefError=p;var f=n.getState().isOpen;return o(((i={})[a]=U(l,n.rootRef),i.role="combobox",i["aria-expanded"]=f,i["aria-haspopup"]="listbox",i["aria-owns"]=f?n.menuId:void 0,i["aria-labelledby"]=n.labelId,i),c)},n.keyDownHandlers={ArrowDown:function(e){var t=this;if(e.preventDefault(),this.getState().isOpen){var n=e.shiftKey?5:1;this.moveHighlightedIndex(n,{type:4})}else this.internalSetState({isOpen:!0,type:4},function(){var e=t.getItemCount();if(e>0){var n=X(t.getState().highlightedIndex,1,{length:e},t.isItemDisabled,!0);t.setHighlightedIndex(n,{type:4})}})},ArrowUp:function(e){var t=this;if(e.preventDefault(),this.getState().isOpen){var n=e.shiftKey?-5:-1;this.moveHighlightedIndex(n,{type:3})}else this.internalSetState({isOpen:!0,type:3},function(){var e=t.getItemCount();if(e>0){var n=X(t.getState().highlightedIndex,-1,{length:e},t.isItemDisabled,!0);t.setHighlightedIndex(n,{type:3})}})},Enter:function(e){if(229!==e.which){var t=this.getState(),n=t.isOpen,i=t.highlightedIndex;if(n&&null!=i){e.preventDefault();var r=this.items[i],o=this.getItemNodeFromIndex(i);if(null==r||o&&o.hasAttribute("disabled"))return;this.selectHighlightedItem({type:6})}}},Escape:function(e){e.preventDefault(),this.reset(o({type:5},!this.state.isOpen&&{selectedItem:null,inputValue:""}))}},n.buttonKeyDownHandlers=o({},n.keyDownHandlers,{" ":function(e){e.preventDefault(),this.toggleMenu({type:12})}}),n.inputKeyDownHandlers=o({},n.keyDownHandlers,{Home:function(e){var t=this.getState().isOpen;if(t){e.preventDefault();var n=this.getItemCount();if(!(n<=0)&&t){var i=J(0,!1,{length:n},this.isItemDisabled);this.setHighlightedIndex(i,{type:7})}}},End:function(e){var t=this.getState().isOpen;if(t){e.preventDefault();var n=this.getItemCount();if(!(n<=0)&&t){var i=J(n-1,!0,{length:n},this.isItemDisabled);this.setHighlightedIndex(i,{type:8})}}}}),n.getToggleButtonProps=function(e){var t=void 0===e?{}:e,i=t.onClick;t.onPress;var u=t.onKeyDown,s=t.onKeyUp,a=t.onBlur,l=r(t,ee),c=n.getState().isOpen,d={onClick:j(i,n.buttonHandleClick),onKeyDown:j(u,n.buttonHandleKeyDown),onKeyUp:j(s,n.buttonHandleKeyUp),onBlur:j(a,n.buttonHandleBlur)};return o({type:"button",role:"button","aria-label":c?"close menu":"open menu","aria-haspopup":!0,"data-toggle":!0},l.disabled?{}:d,l)},n.buttonHandleKeyUp=function(e){e.preventDefault()},n.buttonHandleKeyDown=function(e){var t=Y(e);n.buttonKeyDownHandlers[t]&&n.buttonKeyDownHandlers[t].call(n,e)},n.buttonHandleClick=function(e){if(e.preventDefault(),n.props.environment){var t=n.props.environment.document,i=t.body,r=t.activeElement;i&&i===r&&e.target.focus()}n.internalSetTimeout(function(){return n.toggleMenu({type:13})})},n.buttonHandleBlur=function(e){var t=e.target;n.internalSetTimeout(function(){if(!n.isMouseDown&&n.props.environment){var e=n.props.environment.document.activeElement;null!=e&&e.id===n.inputId||e===t||n.reset({type:14})}})},n.getLabelProps=function(e){return o({htmlFor:n.inputId,id:n.labelId},e)},n.getInputProps=function(e){var t=void 0===e?{}:e,i=t.onKeyDown,u=t.onBlur,s=t.onChange,a=t.onInput;t.onChangeText;var l=r(t,te),c={};var d,p=n.getState(),f=p.inputValue,g=p.isOpen,h=p.highlightedIndex;l.disabled||((d={}).onChange=j(s,a,n.inputHandleChange),d.onKeyDown=j(i,n.inputHandleKeyDown),d.onBlur=j(u,n.inputHandleBlur),c=d);return o({"aria-autocomplete":"list","aria-activedescendant":g&&"number"==typeof h&&h>=0?n.getItemId(h):void 0,"aria-controls":g?n.menuId:void 0,"aria-labelledby":l&&l["aria-label"]?void 0:n.labelId,autoComplete:"off",value:f,id:n.inputId},c,l)},n.inputHandleKeyDown=function(e){var t=Y(e);t&&n.inputKeyDownHandlers[t]&&n.inputKeyDownHandlers[t].call(n,e)},n.inputHandleChange=function(e){n.internalSetState({type:11,isOpen:!0,inputValue:e.target.value,highlightedIndex:n.props.defaultHighlightedIndex})},n.inputHandleBlur=function(){n.internalSetTimeout(function(){var e;if(!n.isMouseDown&&n.props.environment){var t=n.props.environment.document.activeElement;(null==t||null==(e=t.dataset)?void 0:e.toggle)&&n._rootNode&&n._rootNode.contains(t)||n.reset({type:10})}})},n.menuRef=function(e){n._menuNode=e},n.getMenuProps=function(e,t){var i,u=void 0===e?{}:e,s=u.refKey,a=void 0===s?"ref":s,l=u.ref,c=r(u,ne),d=(void 0===t?{}:t).suppressRefError,p=void 0!==d&&d;return n.getMenuProps.called=!0,n.getMenuProps.refKey=a,n.getMenuProps.suppressRefError=p,o(((i={})[a]=U(l,n.menuRef),i.role="listbox",i["aria-labelledby"]=c&&c["aria-label"]?void 0:n.labelId,i.id=n.menuId,i),c)},n.getItemProps=function(e){var t,i=void 0===e?{}:e,u=i.onMouseMove,s=i.onMouseDown,a=i.onClick;i.onPress;var l=i.index,c=i.item,d=void 0===c?void 0:c,p=r(i,ie);void 0===l?(n.items.push(d),l=n.items.indexOf(d)):n.items[l]=d;var f=a,g=((t={onMouseMove:j(u,function(){l!==n.getState().highlightedIndex&&(n.setHighlightedIndex(l,{type:2}),n.avoidScrolling=!0,n.internalSetTimeout(function(){return n.avoidScrolling=!1},250))}),onMouseDown:j(s,function(e){e.preventDefault()})}).onClick=j(f,function(){n.selectItemAtIndex(l,{type:9})}),t),h=p.disabled?{onMouseDown:g.onMouseDown}:g;return o({id:n.getItemId(l),role:"option","aria-selected":n.getState().highlightedIndex===l},h,p)},n.clearItems=function(){n.items=[]},n.reset=function(e,t){void 0===e&&(e={}),e=q(e),n.internalSetState(function(t){var i=t.selectedItem;return o({isOpen:n.props.defaultIsOpen,highlightedIndex:n.props.defaultHighlightedIndex,inputValue:n.props.itemToString(i)},e)},t)},n.toggleMenu=function(e,t){void 0===e&&(e={}),e=q(e),n.internalSetState(function(t){var i=t.isOpen;return o({isOpen:!i},i&&{highlightedIndex:n.props.defaultHighlightedIndex},e)},function(){var i=n.getState(),r=i.isOpen,o=i.highlightedIndex;r&&n.getItemCount()>0&&"number"==typeof o&&n.setHighlightedIndex(o,e),_(t)()})},n.openMenu=function(e){n.internalSetState({isOpen:!0},e)},n.closeMenu=function(e){n.internalSetState({isOpen:!1},e)},n.updateStatus=N(function(){var e;if(null!=(e=n.props)&&null!=(e=e.environment)&&e.document){var t=n.getState(),i=n.items[t.highlightedIndex],r=n.getItemCount(),u=n.props.getA11yStatusMessage(o({itemToString:n.props.itemToString,previousResultCount:n.previousResultCount,resultCount:r,highlightedItem:i},t));n.previousResultCount=r,T(u,n.props.environment.document)}},200);var i=n.props,u=i.defaultHighlightedIndex,s=i.initialHighlightedIndex,a=void 0===s?u:s,l=i.defaultIsOpen,c=i.initialIsOpen,d=void 0===c?l:c,p=i.initialInputValue,f=void 0===p?"":p,g=i.initialSelectedItem,h=void 0===g?null:g,m=n.getState({highlightedIndex:a,isOpen:d,inputValue:f,selectedItem:h});return null!=m.selectedItem&&void 0===n.props.initialInputValue&&(m.inputValue=n.props.itemToString(m.selectedItem)),n.state=m,n}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,u(e,t)}(n,e);var i=n.prototype;return i.internalClearTimeouts=function(){this.timeoutIds.forEach(function(e){clearTimeout(e)}),this.timeoutIds=[]},i.getState=function(e){return void 0===e&&(e=this.state),P(e,this.props)},i.getItemCount=function(){var e=this.items.length;return null!=this.itemCount?e=this.itemCount:void 0!==this.props.itemCount&&(e=this.props.itemCount),e},i.getItemNodeFromIndex=function(e){return this.props.environment?this.props.environment.document.getElementById(this.getItemId(e)):null},i.scrollHighlightedItemIntoView=function(){var e=this.getItemNodeFromIndex(this.getState().highlightedIndex);this.props.scrollIntoView(e,this._menuNode)},i.moveHighlightedIndex=function(e,t){var n=this.getItemCount(),i=this.getState().highlightedIndex;if(n>0){var r=X(i,e,{length:n},this.isItemDisabled,!0);this.setHighlightedIndex(r,t)}},i.getStateAndHelpers=function(){var e=this.getState(),t=e.highlightedIndex,n=e.inputValue,i=e.selectedItem,r=e.isOpen,o=this.props.itemToString,u=this.id,s=this.getRootProps,a=this.getToggleButtonProps,l=this.getLabelProps,c=this.getMenuProps,d=this.getInputProps,p=this.getItemProps,f=this.openMenu,g=this.closeMenu,h=this.toggleMenu,m=this.selectItem,I=this.selectItemAtIndex,v=this.selectHighlightedItem,y=this.setHighlightedIndex,b=this.clearSelection,x=this.clearItems;return{getRootProps:s,getToggleButtonProps:a,getLabelProps:l,getMenuProps:c,getInputProps:d,getItemProps:p,reset:this.reset,openMenu:f,closeMenu:g,toggleMenu:h,selectItem:m,selectItemAtIndex:I,selectHighlightedItem:v,setHighlightedIndex:y,clearSelection:b,clearItems:x,setItemCount:this.setItemCount,unsetItemCount:this.unsetItemCount,setState:this.internalSetState,itemToString:o,id:u,highlightedIndex:t,inputValue:n,isOpen:r,selectedItem:i}},i.componentDidMount=function(){var e=this;if(this.props.environment){var t=function(){e.isMouseDown=!0},n=function(t){e.isMouseDown=!1,!Q(t.target,[e._rootNode,e._menuNode],e.props.environment)&&e.getState().isOpen&&e.reset({type:1},function(){return e.props.onOuterClick(e.getStateAndHelpers())})},i=function(){e.isTouchMove=!1},r=function(){e.isTouchMove=!0},o=function(t){var n=Q(t.target,[e._rootNode,e._menuNode],e.props.environment,!1);e.isTouchMove||n||!e.getState().isOpen||e.reset({type:16},function(){return e.props.onOuterClick(e.getStateAndHelpers())})},u=this.props.environment;u.addEventListener("mousedown",t),u.addEventListener("mouseup",n),u.addEventListener("touchstart",i),u.addEventListener("touchmove",r),u.addEventListener("touchend",o),this.cleanup=function(){e.internalClearTimeouts(),e.updateStatus.cancel(),u.removeEventListener("mousedown",t),u.removeEventListener("mouseup",n),u.removeEventListener("touchstart",i),u.removeEventListener("touchmove",r),u.removeEventListener("touchend",o)}}else this.cleanup=function(){e.internalClearTimeouts()}},i.shouldScroll=function(e,t){var n=(void 0===this.props.highlightedIndex?this.getState():this.props).highlightedIndex,i=(void 0===t.highlightedIndex?e:t).highlightedIndex;return n&&this.getState().isOpen&&!e.isOpen||n!==i},i.componentDidUpdate=function(e,t){z(this.props,"selectedItem")&&this.props.selectedItemChanged(e.selectedItem,this.props.selectedItem)&&this.internalSetState({type:15,inputValue:this.props.itemToString(this.props.selectedItem)}),!this.avoidScrolling&&this.shouldScroll(t,e)&&this.scrollHighlightedItemIntoView(),this.updateStatus()},i.componentWillUnmount=function(){this.cleanup()},i.render=function(){var e=$(this.props.children,K);this.clearItems(),this.getRootProps.called=!1,this.getRootProps.refKey=void 0,this.getRootProps.suppressRefError=void 0,this.getMenuProps.called=!1,this.getMenuProps.refKey=void 0,this.getMenuProps.suppressRefError=void 0,this.getLabelProps.called=!1,this.getInputProps.called=!1;var n=$(e(this.getStateAndHelpers()));return n?this.getRootProps.called||this.props.suppressRefError?n:function(e){return"string"==typeof e.type}(n)?t.cloneElement(n,this.getRootProps(function(e){return e.props}(n))):void 0:null},n}(t.Component);return e.defaultProps={defaultHighlightedIndex:null,defaultIsOpen:!1,getA11yStatusMessage:W,itemToString:function(e){return null==e?"":String(e)},onStateChange:K,onInputValueChange:K,onUserAction:K,onChange:K,onSelect:K,onOuterClick:K,selectedItemChanged:function(e,t){return e!==t},environment:"undefined"==typeof window?void 0:window,stateReducer:function(e,t){return t},suppressRefError:!1,scrollIntoView:L},e.stateChangeTypes=w,e}();function oe(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}function ue(e,t,n,i,r){if(r[e]!==i[e]){var u=n["on"+oe(e)+"Change"];if("function"==typeof u)u(o({type:t.type},r))}}function se(e,t,n,r){var u=i.useRef(null),s=i.useRef(void 0),a=D(t),l=i.useCallback(function(t,n){s.current=n,t=P(t,a.current);var i=e(t,a.current,n),r=a.current.stateReducer(t,o({},n,{changes:i}));return o({},t,r)},[a,e]),c=i.useReducer(l,t,n),d=c[0],p=c[1],f=s.current;return i.useEffect(function(){var e,t=P(null!=(e=u.current)?e:{},a.current);f&&u.current&&!r(t,d)&&function(e,t,n,i){for(var r=e.type,u={},s=0,a=Object.keys(n);s<a.length;s++){var l=a[s];ue(l,e,t,n,i),i[l]!==n[l]&&(u[l]=i[l])}t.onStateChange&&Object.keys(u).length&&t.onStateChange(o({type:r},u))}(f,a.current,t,d),u.current=d},[d,f,r,a]),[d,p]}function ae(e,t,n,i){var r=se(e,t,n,i),o=r[0],u=r[1];return[P(o,t),u]}function le(e,t,n,i){if(void 0!==e&&void 0!==t)return[e,t];if(void 0!==e){if(n.indexOf(e)<0)throw new Error(i);return[e,n.indexOf(e)]}if(void 0!==t){var r=n[t];if(void 0===r)throw new Error(i);return[r,t]}throw new Error(i)}function ce(){var e=i.useRef(!0);return i.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]),e.current}var de={environment:y.shape({addEventListener:y.func.isRequired,removeEventListener:y.func.isRequired,document:y.shape({createElement:y.func.isRequired,getElementById:y.func.isRequired,activeElement:y.any.isRequired,body:y.any.isRequired}).isRequired,Node:y.func.isRequired}),itemToKey:y.func,stateReducer:y.func};function pe(e,t,n){var i=e["default"+oe(t)];return void 0!==i?i:n[t]}function fe(e,t,n){var i=e[t];if(void 0!==i)return i;var r=e["initial"+oe(t)];return void 0!==r?r:pe(e,t,n)}var ge=O(function(e,t){T(e,t)},200);function he(e,t,n,r){var o=null==r?void 0:r.document,u=ce();i.useEffect(function(){if(e&&!u&&o){var n=e(t);ge(n,o)}},n),i.useEffect(function(){return function(){ge.cancel(),function(e){var t=null==e?void 0:e.getElementById("a11y-status-message");t&&t.remove()}(o)}},[o])}var me=o({},de,{getA11yStatusMessage:y.func,highlightedIndex:y.number,defaultHighlightedIndex:y.number,initialHighlightedIndex:y.number,isOpen:y.bool,defaultIsOpen:y.bool,initialIsOpen:y.bool,selectedItem:y.any,initialSelectedItem:y.any,defaultSelectedItem:y.any,id:y.string,labelId:y.string,menuId:y.string,getItemId:y.func,toggleButtonId:y.string,onSelectedItemChange:y.func,onHighlightedIndexChange:y.func,onStateChange:y.func,onIsOpenChange:y.func,scrollIntoView:y.func}),Ie={itemToString:function(e){return e?String(e):""},itemToKey:function(e){return e},stateReducer:function(e,t){return t.changes},scrollIntoView:L,environment:"undefined"==typeof window?void 0:window},ve={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""},ye="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect,be="useId"in i?function(e){var t=e.id,n=e.labelId,r=e.menuId,o=e.getItemId,u=e.toggleButtonId,s=e.inputId,a="downshift-"+i.useId();return t||(t=a),i.useMemo(function(){return{labelId:n||t+"-label",menuId:r||t+"-menu",getItemId:o||function(e){return t+"-item-"+e},toggleButtonId:u||t+"-toggle-button",inputId:s||t+"-input"}},[o,t,s,n,r,u])}:function(e){var t=e.id,n=void 0===t?"downshift-"+C():t,r=e.labelId,o=e.menuId,u=e.getItemId,s=e.toggleButtonId,a=e.inputId;return i.useMemo(function(){return{labelId:r||n+"-label",menuId:o||n+"-menu",getItemId:u||function(e){return n+"-item-"+e},toggleButtonId:s||n+"-toggle-button",inputId:a||n+"-input"}},[u,n,a,r,o,s])};function xe(e){var t=fe(e,"selectedItem",ve),n=fe(e,"isOpen",ve),i=function(e){var t=fe(e,"highlightedIndex",ve);if(t>-1&&e.isItemDisabled(e.items[t],t))return-1;return t}(e),r=fe(e,"inputValue",ve);return{highlightedIndex:i<0&&t&&n?e.items.findIndex(function(n){return e.itemToKey(n)===e.itemToKey(t)}):i,isOpen:n,selectedItem:t,inputValue:r}}function we(e,t,n){var i=e.items,r=e.initialHighlightedIndex,o=e.defaultHighlightedIndex,u=e.isItemDisabled,s=e.itemToKey,a=t.selectedItem,l=t.highlightedIndex;return 0===i.length?-1:void 0===r||l!==r||u(i[r],r)?void 0===o||u(i[o],o)?a?i.findIndex(function(e){return s(a)===s(e)}):n<0&&!u(i[i.length-1],i.length-1)?i.length-1:n>0&&!u(i[0],0)?0:-1:o:r}function ke(e,t,n){var r=i.useRef({isMouseDown:!1,isTouchMove:!1,isTouchEnd:!1}),o=i.useCallback(function(){return n.map(function(e){return e.current})},[n]);return i.useEffect(function(){if(!e)return K;function n(){r.current.isTouchEnd=!1,r.current.isMouseDown=!0}function i(n){r.current.isMouseDown=!1,Q(n.target,o(),e)||t()}function u(){r.current.isTouchEnd=!1,r.current.isTouchMove=!1}function s(){r.current.isTouchMove=!0}function a(n){r.current.isTouchEnd=!0,r.current.isTouchMove||Q(n.target,o(),e,!1)||t()}return e.addEventListener("mousedown",n),e.addEventListener("mouseup",i),e.addEventListener("touchstart",u),e.addEventListener("touchmove",s),e.addEventListener("touchend",a),function(){e.removeEventListener("mousedown",n),e.removeEventListener("mouseup",i),e.removeEventListener("touchstart",u),e.removeEventListener("touchmove",s),e.removeEventListener("touchend",a)}},[e,o,t]),r.current}var Ce=function(){return K};function De(e){var t=e.highlightedIndex,n=e.isOpen,r=e.itemRefs,o=e.getItemNodeFromIndex,u=e.menuElement,s=e.scrollIntoView,a=i.useRef(!0);return ye(function(){t<0||!n||!Object.keys(r.current).length||(!1===a.current?a.current=!0:s(o(t),u))},[t]),a}function Se(e,t,n){var i;return void 0===n&&(n=!0),o({isOpen:!1,highlightedIndex:-1},(null==(i=e.items)?void 0:i.length)&&t>=0&&o({selectedItem:e.items[t],isOpen:pe(e,"isOpen",ve),highlightedIndex:pe(e,"highlightedIndex",ve)},n&&{inputValue:e.itemToString(e.items[t])}))}function Oe(e,t){return e.isOpen===t.isOpen&&e.inputValue===t.inputValue&&e.highlightedIndex===t.highlightedIndex&&e.selectedItem===t.selectedItem}function Ee(e){var t=pe(e,"highlightedIndex",ve);return t>-1&&e.isItemDisabled(e.items[t],t)?-1:t}function Me(e,t,n,i){var r;switch(n.type){case i.ItemMouseMove:r={highlightedIndex:n.disabled?-1:n.index};break;case i.MenuMouseLeave:r={highlightedIndex:-1};break;case i.ToggleButtonClick:case i.FunctionToggleMenu:r={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:we(t,e,0)};break;case i.FunctionOpenMenu:r={isOpen:!0,highlightedIndex:we(t,e,0)};break;case i.FunctionCloseMenu:r={isOpen:!1};break;case i.FunctionSetHighlightedIndex:r={highlightedIndex:t.isItemDisabled(t.items[n.highlightedIndex],n.highlightedIndex)?-1:n.highlightedIndex};break;case i.FunctionSetInputValue:r={inputValue:n.inputValue};break;case i.FunctionReset:r={highlightedIndex:Ee(t),isOpen:pe(t,"isOpen",ve),selectedItem:pe(t,"selectedItem",ve),inputValue:pe(t,"inputValue",ve)};break;default:throw new Error("Reducer called without proper action type.")}return o({},e,r)}var Te=o({},Ie,{isItemDisabled:function(){return!1}});var Ke=Object.freeze({__proto__:null,FunctionCloseMenu:17,FunctionOpenMenu:16,FunctionReset:21,FunctionSelectItem:19,FunctionSetHighlightedIndex:18,FunctionSetInputValue:20,FunctionToggleMenu:15,ItemClick:14,ItemMouseMove:13,MenuMouseLeave:12,ToggleButtonBlur:11,ToggleButtonClick:0,ToggleButtonKeyDownArrowDown:1,ToggleButtonKeyDownArrowUp:2,ToggleButtonKeyDownCharacter:3,ToggleButtonKeyDownEnd:6,ToggleButtonKeyDownEnter:7,ToggleButtonKeyDownEscape:4,ToggleButtonKeyDownHome:5,ToggleButtonKeyDownPageDown:10,ToggleButtonKeyDownPageUp:9,ToggleButtonKeyDownSpaceButton:8});function Pe(e,t,n){var i,r,u=n.type,s=n.altKey;switch(u){case 14:r={isOpen:pe(t,"isOpen",ve),highlightedIndex:Ee(t),selectedItem:t.items[n.index]};break;case 3:var a=n.key,l=""+e.inputValue+a;r={inputValue:l,highlightedIndex:function(e){for(var t=e.keysSoFar,n=e.highlightedIndex,i=e.items,r=e.itemToString,o=e.isItemDisabled,u=t.toLowerCase(),s=0;s<i.length;s++){var a=(s+n+(t.length<2?1:0))%i.length,l=i[a];if(void 0!==l&&r(l).toLowerCase().startsWith(u)&&!o(l,a))return a}return n}({keysSoFar:l,highlightedIndex:!e.isOpen&&e.selectedItem?t.items.findIndex(function(n){return t.itemToKey(n)===t.itemToKey(e.selectedItem)}):e.highlightedIndex,items:t.items,itemToString:t.itemToString,isItemDisabled:t.isItemDisabled}),isOpen:!0};break;case 1:r={highlightedIndex:e.isOpen?X(e.highlightedIndex,1,t.items,t.isItemDisabled):s&&null==e.selectedItem?-1:we(t,e,1),isOpen:!0};break;case 2:if(e.isOpen&&s)r=Se(t,e.highlightedIndex,!1);else r={highlightedIndex:e.isOpen?X(e.highlightedIndex,-1,t.items,t.isItemDisabled):we(t,e,-1),isOpen:!0};break;case 7:case 8:r=Se(t,e.highlightedIndex,!1);break;case 5:r={highlightedIndex:J(0,!1,t.items,t.isItemDisabled),isOpen:!0};break;case 6:r={highlightedIndex:J(t.items.length-1,!0,t.items,t.isItemDisabled),isOpen:!0};break;case 9:r={highlightedIndex:X(e.highlightedIndex,-10,t.items,t.isItemDisabled)};break;case 10:r={highlightedIndex:X(e.highlightedIndex,10,t.items,t.isItemDisabled)};break;case 4:r={isOpen:!1,highlightedIndex:-1};break;case 11:r=o({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&(null==(i=t.items)?void 0:i.length)&&{selectedItem:t.items[e.highlightedIndex]});break;case 19:r={selectedItem:n.selectedItem};break;default:return Me(e,t,n,Ke)}return o({},e,r)}var Re=["onClick"],He=["onMouseLeave","refKey","ref"],Ve=["onBlur","onClick","onPress","onKeyDown","refKey","ref"],Ae=["item","index","onMouseMove","onClick","onMouseDown","onPress","refKey","disabled","ref"];function Be(e){void 0===e&&(e={});var n=o({},Te,e),i=n.scrollIntoView,u=n.environment,s=n.getA11yStatusMessage,a=ae(Pe,n,xe,Oe),l=a[0],c=a[1],d=l.isOpen,p=l.highlightedIndex,f=l.selectedItem,g=l.inputValue,h=t.useRef(null),m=t.useRef(null),I=t.useRef({}),v=t.useRef(null),y=be(n),b=D({state:l,props:n}),x=t.useCallback(function(e){return I.current[y.getItemId(e)]},[y]);he(s,l,[d,p,f,g],u);var w=De({menuElement:m.current,highlightedIndex:p,isOpen:d,itemRefs:I,scrollIntoView:i,getItemNodeFromIndex:x});t.useEffect(function(){return v.current=N(function(e){e({type:20,inputValue:""})},500),function(){v.current.cancel()}},[]),t.useEffect(function(){g&&v.current(c)},[c,g]),t.useEffect(function(){fe(n,"isOpen",ve)&&h.current&&h.current.focus()},[]);var k=ke(u,t.useCallback(function(){b.current.state.isOpen&&c({type:11})},[c,b]),t.useMemo(function(){return[m,h]},[])),C=Ce();t.useEffect(function(){d||(I.current={})},[d]);var S=t.useMemo(function(){return{ArrowDown:function(e){e.preventDefault(),c({type:1,altKey:e.altKey})},ArrowUp:function(e){e.preventDefault(),c({type:2,altKey:e.altKey})},Home:function(e){e.preventDefault(),c({type:5})},End:function(e){e.preventDefault(),c({type:6})},Escape:function(){b.current.state.isOpen&&c({type:4})},Enter:function(e){e.preventDefault(),c({type:b.current.state.isOpen?7:0})},PageUp:function(e){b.current.state.isOpen&&(e.preventDefault(),c({type:9}))},PageDown:function(e){b.current.state.isOpen&&(e.preventDefault(),c({type:10}))}," ":function(e){e.preventDefault();var t=b.current.state;t.isOpen?t.inputValue?c({type:3,key:" "}):c({type:8}):c({type:0})}}},[c,b]),O=t.useCallback(function(){c({type:15})},[c]),E=t.useCallback(function(){c({type:17})},[c]),M=t.useCallback(function(){c({type:16})},[c]),T=t.useCallback(function(e){c({type:18,highlightedIndex:e})},[c]),K=t.useCallback(function(e){c({type:19,selectedItem:e})},[c]),P=t.useCallback(function(){c({type:21})},[c]),R=t.useCallback(function(e){c({type:20,inputValue:e})},[c]),H=t.useCallback(function(e){var t=void 0===e?{}:e,n=t.onClick,i=r(t,Re);return o({id:y.labelId,htmlFor:y.toggleButtonId,onClick:j(n,function(){var e;null==(e=h.current)||e.focus()})},i)},[y]),V=t.useCallback(function(e,t){var n,i=void 0===e?{}:e,u=i.onMouseLeave,s=i.refKey,a=void 0===s?"ref":s,l=i.ref,d=r(i,He);return(void 0===t?{}:t).suppressRefError,o(((n={})[a]=U(l,function(e){m.current=e}),n.id=y.menuId,n.role="listbox",n["aria-labelledby"]=d&&d["aria-label"]?void 0:""+y.labelId,n.onMouseLeave=j(u,function(){c({type:12})}),n),d)},[c,C,y]),A=t.useCallback(function(e,t){var n,i=void 0===e?{}:e,u=i.onBlur,s=i.onClick;i.onPress;var a=i.onKeyDown,l=i.refKey,d=void 0===l?"ref":l,p=i.ref,f=r(i,Ve);(void 0===t?{}:t).suppressRefError;var g=b.current.state,m=o(((n={})[d]=U(p,function(e){h.current=e}),n["aria-activedescendant"]=g.isOpen&&g.highlightedIndex>-1?y.getItemId(g.highlightedIndex):"",n["aria-controls"]=y.menuId,n["aria-expanded"]=b.current.state.isOpen,n["aria-haspopup"]="listbox",n["aria-labelledby"]=f&&f["aria-label"]?void 0:""+y.labelId,n.id=y.toggleButtonId,n.role="combobox",n.tabIndex=0,n.onBlur=j(u,function(){g.isOpen&&!k.isMouseDown&&c({type:11})}),n),f);return f.disabled||(m.onClick=j(s,function(){c({type:0})}),m.onKeyDown=j(a,function(e){var t=Y(e);t&&S[t]?S[t](e):function(e){return/^\S{1}$/.test(e)}(t)&&c({type:3,key:t})})),m},[c,y,b,k,C,S]),B=t.useCallback(function(e){var t,n=void 0===e?{}:e,i=n.item,u=n.index,s=n.onMouseMove,a=n.onClick,l=n.onMouseDown;n.onPress;var d=n.refKey,p=void 0===d?"ref":d,f=n.disabled,g=n.ref,h=r(n,Ae);void 0!==f&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useSelect.');var m=b.current,v=m.state,x=m.props,C=le(i,u,x.items,"Pass either item or index to getItemProps!"),D=C[0],S=C[1],O=x.isItemDisabled(D,S),E=o(((t={})[p]=U(g,function(e){e&&(I.current[y.getItemId(S)]=e)}),t["aria-disabled"]=O,t["aria-selected"]=D===v.selectedItem,t.id=y.getItemId(S),t.role="option",t),h);return O||(E.onClick=j(a,function(){c({type:14,index:S})})),E.onMouseMove=j(s,function(){k.isTouchEnd||S===v.highlightedIndex||(w.current=!1,c({type:13,index:S,disabled:O}))}),E.onMouseDown=j(l,function(e){return e.preventDefault()}),E},[b,y,k,w,c]);return{getToggleButtonProps:A,getLabelProps:H,getMenuProps:V,getItemProps:B,toggleMenu:O,openMenu:M,closeMenu:E,setHighlightedIndex:T,selectItem:K,reset:P,setInputValue:R,highlightedIndex:p,isOpen:d,selectedItem:f,inputValue:g}}Be.stateChangeTypes=Ke;var Le=Object.freeze({__proto__:null,ControlledPropUpdatedSelectedItem:22,FunctionCloseMenu:17,FunctionOpenMenu:16,FunctionReset:21,FunctionSelectItem:19,FunctionSetHighlightedIndex:18,FunctionSetInputValue:20,FunctionToggleMenu:15,InputBlur:9,InputChange:8,InputClick:10,InputKeyDownArrowDown:0,InputKeyDownArrowUp:1,InputKeyDownEnd:4,InputKeyDownEnter:7,InputKeyDownEscape:2,InputKeyDownHome:3,InputKeyDownPageDown:6,InputKeyDownPageUp:5,ItemClick:13,ItemMouseMove:12,MenuMouseLeave:11,ToggleButtonClick:14});function _e(e){var t=xe(e),n=t.selectedItem,i=t.inputValue;return""===i&&n&&void 0===e.defaultInputValue&&void 0===e.initialInputValue&&void 0===e.inputValue&&(i=e.itemToString(n)),o({},t,{inputValue:i})}o({},me,{items:y.array.isRequired,isItemDisabled:y.func,inputValue:y.string,defaultInputValue:y.string,initialInputValue:y.string,inputId:y.string,onInputValueChange:y.func});var Fe=o({},Ie,{isItemDisabled:function(){return!1}});function Ne(e,t,n){var i,r,u=n.type,s=n.altKey;switch(u){case 13:r={isOpen:pe(t,"isOpen",ve),highlightedIndex:Ee(t),selectedItem:t.items[n.index],inputValue:t.itemToString(t.items[n.index])};break;case 0:r=e.isOpen?{highlightedIndex:X(e.highlightedIndex,1,t.items,t.isItemDisabled,!0)}:{highlightedIndex:s&&null==e.selectedItem?-1:we(t,e,1),isOpen:t.items.length>=0};break;case 1:r=e.isOpen?s?Se(t,e.highlightedIndex):{highlightedIndex:X(e.highlightedIndex,-1,t.items,t.isItemDisabled,!0)}:{highlightedIndex:we(t,e,-1),isOpen:t.items.length>=0};break;case 7:r=Se(t,e.highlightedIndex);break;case 2:r=o({isOpen:!1,highlightedIndex:-1},!e.isOpen&&{selectedItem:null,inputValue:""});break;case 5:r={highlightedIndex:X(e.highlightedIndex,-10,t.items,t.isItemDisabled,!0)};break;case 6:r={highlightedIndex:X(e.highlightedIndex,10,t.items,t.isItemDisabled,!0)};break;case 3:r={highlightedIndex:J(0,!1,t.items,t.isItemDisabled)};break;case 4:r={highlightedIndex:J(t.items.length-1,!0,t.items,t.isItemDisabled)};break;case 9:r=o({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&(null==(i=t.items)?void 0:i.length)&&n.selectItem&&{selectedItem:t.items[e.highlightedIndex],inputValue:t.itemToString(t.items[e.highlightedIndex])});break;case 8:r={isOpen:!0,highlightedIndex:Ee(t),inputValue:n.inputValue};break;case 10:r={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:we(t,e,0)};break;case 19:r={selectedItem:n.selectedItem,inputValue:t.itemToString(n.selectedItem)};break;case 22:r={inputValue:n.inputValue};break;default:return Me(e,t,n,Le)}return o({},e,r)}var je=["onMouseLeave","refKey","ref"],Ue=["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"],We=["onClick","onPress","refKey","ref"],$e=["onKeyDown","onChange","onInput","onBlur","onChangeText","onClick","refKey","ref"];function Ge(e){void 0===e&&(e={});var n=o({},Fe,e),i=n.items,u=n.scrollIntoView,s=n.environment,a=n.getA11yStatusMessage,l=function(e,n,i,r){var o=t.useRef(),u=se(e,n,i,r),s=u[0],a=u[1],l=ce();return t.useEffect(function(){z(n,"selectedItem")&&(l||n.itemToKey(n.selectedItem)!==n.itemToKey(o.current)&&a({type:22,inputValue:n.itemToString(n.selectedItem)}),o.current=s.selectedItem===o.current?n.selectedItem:s.selectedItem)},[s.selectedItem,n.selectedItem]),[P(s,n),a]}(Ne,n,_e,Oe),c=l[0],d=l[1],p=c.isOpen,f=c.highlightedIndex,g=c.selectedItem,h=c.inputValue,m=t.useRef(null),I=t.useRef({}),v=t.useRef(null),y=t.useRef(null),b=ce(),x=be(n),w=t.useRef(),k=D({state:c,props:n}),C=t.useCallback(function(e){return I.current[x.getItemId(e)]},[x]);he(a,c,[p,f,g,h],s);var S=De({menuElement:m.current,highlightedIndex:f,isOpen:p,itemRefs:I,scrollIntoView:u,getItemNodeFromIndex:C});t.useEffect(function(){fe(n,"isOpen",ve)&&v.current&&v.current.focus()},[]),t.useEffect(function(){b||(w.current=i.length)});var O=t.useCallback(function(){k.current.state.isOpen&&d({type:9})},[d,k]),E=t.useMemo(function(){return[m,y,v]},[]),M=ke(s,O,E),T=Ce();t.useEffect(function(){p||(I.current={})},[p]),t.useEffect(function(){var e;p&&null!=s&&s.document&&null!=v&&null!=(e=v.current)&&e.focus&&s.document.activeElement!==v.current&&v.current.focus()},[p,s]);var K=t.useMemo(function(){return{ArrowDown:function(e){e.preventDefault(),d({type:0,altKey:e.altKey})},ArrowUp:function(e){e.preventDefault(),d({type:1,altKey:e.altKey})},Home:function(e){k.current.state.isOpen&&(e.preventDefault(),d({type:3}))},End:function(e){k.current.state.isOpen&&(e.preventDefault(),d({type:4}))},Escape:function(e){var t=k.current.state;(t.isOpen||t.inputValue||t.selectedItem||t.highlightedIndex>-1)&&(e.preventDefault(),d({type:2}))},Enter:function(e){k.current.state.isOpen&&229!==e.which&&(e.preventDefault(),d({type:7}))},PageUp:function(e){k.current.state.isOpen&&(e.preventDefault(),d({type:5}))},PageDown:function(e){k.current.state.isOpen&&(e.preventDefault(),d({type:6}))}}},[d,k]),R=t.useCallback(function(e){return o({id:x.labelId,htmlFor:x.inputId},e)},[x]),H=t.useCallback(function(e,t){var n,i=void 0===e?{}:e,u=i.onMouseLeave,s=i.refKey,a=void 0===s?"ref":s,l=i.ref,c=r(i,je);return(void 0===t?{}:t).suppressRefError,o(((n={})[a]=U(l,function(e){m.current=e}),n.id=x.menuId,n.role="listbox",n["aria-labelledby"]=c&&c["aria-label"]?void 0:""+x.labelId,n.onMouseLeave=j(u,function(){d({type:11})}),n),c)},[d,T,x]),V=t.useCallback(function(e){var t,n,i=void 0===e?{}:e,u=i.item,s=i.index,a=i.refKey,l=void 0===a?"ref":a,c=i.ref,p=i.onMouseMove,f=i.onMouseDown,g=i.onClick;i.onPress;var h=i.disabled,m=r(i,Ue);void 0!==h&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useCombobox.');var v=k.current,y=v.props,b=v.state,w=le(u,s,y.items,"Pass either item or index to getItemProps!"),C=w[0],D=w[1],O=y.isItemDisabled(C,D),E=g;return o(((t={})[l]=U(c,function(e){e&&(I.current[x.getItemId(D)]=e)}),t["aria-disabled"]=O,t["aria-selected"]=D===b.highlightedIndex,t.id=x.getItemId(D),t.role="option",t),!O&&((n={}).onClick=j(E,function(){d({type:13,index:D})}),n),{onMouseMove:j(p,function(){M.isTouchEnd||D===b.highlightedIndex||(S.current=!1,d({type:12,index:D,disabled:O}))}),onMouseDown:j(f,function(e){return e.preventDefault()})},m)},[d,x,k,M,S]),A=t.useCallback(function(e){var t,n=void 0===e?{}:e,i=n.onClick;n.onPress;var u=n.refKey,s=void 0===u?"ref":u,a=n.ref,l=r(n,We),c=k.current.state;return o(((t={})[s]=U(a,function(e){y.current=e}),t["aria-controls"]=x.menuId,t["aria-expanded"]=c.isOpen,t.id=x.toggleButtonId,t.tabIndex=-1,t),!l.disabled&&o({},{onClick:j(i,function(){d({type:14})})}),l)},[d,k,x]),B=t.useCallback(function(e,t){var n,i=void 0===e?{}:e,u=i.onKeyDown,a=i.onChange,l=i.onInput,c=i.onBlur;i.onChangeText;var p=i.onClick,f=i.refKey,g=void 0===f?"ref":f,h=i.ref,m=r(i,$e);(void 0===t?{}:t).suppressRefError;var I,y=k.current.state,b={};m.disabled||((I={}).onChange=j(a,l,function(e){d({type:8,inputValue:e.target.value})}),I.onKeyDown=j(u,function(e){var t=Y(e);t&&K[t]&&K[t](e)}),I.onBlur=j(c,function(e){if(null!=s&&s.document&&y.isOpen&&!M.isMouseDown){var t=null===e.relatedTarget&&s.document.activeElement!==s.document.body;d({type:9,selectItem:!t})}}),I.onClick=j(p,function(){d({type:10})}),b=I);return o(((n={})[g]=U(h,function(e){v.current=e}),n["aria-activedescendant"]=y.isOpen&&y.highlightedIndex>-1?x.getItemId(y.highlightedIndex):"",n["aria-autocomplete"]="list",n["aria-controls"]=x.menuId,n["aria-expanded"]=y.isOpen,n["aria-labelledby"]=m&&m["aria-label"]?void 0:x.labelId,n.autoComplete="off",n.id=x.inputId,n.role="combobox",n.value=y.inputValue,n),b,m)},[d,x,s,K,k,M,T]),L=t.useCallback(function(){d({type:15})},[d]),_=t.useCallback(function(){d({type:17})},[d]),F=t.useCallback(function(){d({type:16})},[d]),N=t.useCallback(function(e){d({type:18,highlightedIndex:e})},[d]),W=t.useCallback(function(e){d({type:19,selectedItem:e})},[d]);return{getItemProps:V,getLabelProps:R,getMenuProps:H,getInputProps:B,getToggleButtonProps:A,toggleMenu:L,openMenu:F,closeMenu:_,setHighlightedIndex:N,setInputValue:t.useCallback(function(e){d({type:20,inputValue:e})},[d]),selectItem:W,reset:t.useCallback(function(){d({type:21})},[d]),highlightedIndex:f,isOpen:p,selectedItem:g,inputValue:h}}Ge.stateChangeTypes=Le;var qe={activeIndex:-1,selectedItems:[]};function ze(e,t){return fe(e,t,qe)}function Ye(e,t){return pe(e,t,qe)}function Xe(e){return{activeIndex:ze(e,"activeIndex"),selectedItems:ze(e,"selectedItems")}}function Je(e){if(e.shiftKey||e.metaKey||e.ctrlKey||e.altKey)return!1;var t=e.target;return!(t instanceof HTMLInputElement&&""!==t.value)||0===t.selectionStart&&0===t.selectionEnd}function Qe(e,t){return e.selectedItems===t.selectedItems&&e.activeIndex===t.activeIndex}me.stateReducer,me.itemToKey,me.environment,y.array,y.array,y.array,y.func,y.number,y.number,y.number,y.func,y.func,y.string,y.string;var Ze={itemToKey:Ie.itemToKey,stateReducer:Ie.stateReducer,environment:Ie.environment,keyNavigationNext:"ArrowRight",keyNavigationPrevious:"ArrowLeft"},et=Object.freeze({__proto__:null,DropdownClick:7,DropdownKeyDownBackspace:6,DropdownKeyDownNavigationPrevious:5,FunctionAddSelectedItem:8,FunctionRemoveSelectedItem:9,FunctionReset:12,FunctionSetActiveIndex:11,FunctionSetSelectedItems:10,SelectedItemClick:0,SelectedItemKeyDownBackspace:2,SelectedItemKeyDownDelete:1,SelectedItemKeyDownNavigationNext:3,SelectedItemKeyDownNavigationPrevious:4});function tt(e,t,n){var i,r=n.type,u=n.index,s=n.selectedItem,a=e.activeIndex,l=e.selectedItems;switch(r){case 0:i={activeIndex:u};break;case 4:i={activeIndex:a-1<0?0:a-1};break;case 3:i={activeIndex:a+1>=l.length?-1:a+1};break;case 2:case 1:if(a<0)break;var c=a;1===l.length?c=-1:a===l.length-1&&(c=l.length-2),i=o({selectedItems:[].concat(l.slice(0,a),l.slice(a+1))},{activeIndex:c});break;case 5:i={activeIndex:l.length-1};break;case 6:i={selectedItems:l.slice(0,l.length-1)};break;case 8:i={selectedItems:[].concat(l,[s])};break;case 7:i={activeIndex:-1};break;case 9:var d=a,p=l.findIndex(function(e){return t.itemToKey(e)===t.itemToKey(s)});if(p<0)break;1===l.length?d=-1:p===l.length-1&&(d=l.length-2),i={selectedItems:[].concat(l.slice(0,p),l.slice(p+1)),activeIndex:d};break;case 10:i={selectedItems:n.selectedItems};break;case 11:i={activeIndex:n.activeIndex};break;case 12:i={activeIndex:Ye(t,"activeIndex"),selectedItems:Ye(t,"selectedItems")};break;default:throw new Error("Reducer called without proper action type.")}return o({},e,i)}var nt=["refKey","ref","onClick","onKeyDown","selectedItem","index"],it=["refKey","ref","onKeyDown","onClick","preventKeyAction"];function rt(e){void 0===e&&(e={});var n=o({},Ze,e),i=n.getA11yStatusMessage,u=n.environment,s=n.keyNavigationNext,a=n.keyNavigationPrevious,l=ae(tt,n,Xe,Qe),c=l[0],d=l[1],p=c.activeIndex,f=c.selectedItems,g=ce(),h=t.useRef(null),m=t.useRef();m.current=[];var I=D({state:c,props:n});he(i,c,[p,f],u),t.useEffect(function(){g||(-1===p&&h.current?h.current.focus():m.current[p]&&m.current[p].focus())},[p]);var v=Ce(),y=t.useMemo(function(){var e;return(e={})[a]=function(){d({type:4})},e[s]=function(){d({type:3})},e.Delete=function(){d({type:1})},e.Backspace=function(){d({type:2})},e},[d,s,a]),b=t.useMemo(function(){var e;return(e={})[a]=function(e){Je(e)&&d({type:5})},e.Backspace=function(e){Je(e)&&d({type:6})},e},[d,a]);return{getSelectedItemProps:t.useCallback(function(e){var t,n=void 0===e?{}:e,i=n.refKey,u=void 0===i?"ref":i,s=n.ref,a=n.onClick,l=n.onKeyDown,c=n.selectedItem,p=n.index,f=r(n,nt),g=I.current.state,h=le(c,p,g.selectedItems,"Pass either item or index to getSelectedItemProps!")[1],v=h>-1&&h===g.activeIndex;return o(((t={})[u]=U(s,function(e){e&&m.current.push(e)}),t.tabIndex=v?0:-1,t.onClick=j(a,function(){d({type:0,index:h})}),t.onKeyDown=j(l,function(e){var t=Y(e);t&&y[t]&&y[t](e)}),t),f)},[d,I,y]),getDropdownProps:t.useCallback(function(e,t){var n,i=void 0===e?{}:e,u=i.refKey,s=void 0===u?"ref":u,a=i.ref,l=i.onKeyDown,c=i.onClick,p=i.preventKeyAction,f=void 0!==p&&p,g=r(i,it);return(void 0===t?{}:t).suppressRefError,o(((n={})[s]=U(a,function(e){e&&(h.current=e)}),n),!f&&{onKeyDown:j(l,function(e){var t=Y(e);t&&b[t]&&b[t](e)}),onClick:j(c,function(){d({type:7})})},g)},[d,b,v]),addSelectedItem:t.useCallback(function(e){d({type:8,selectedItem:e})},[d]),removeSelectedItem:t.useCallback(function(e){d({type:9,selectedItem:e})},[d]),setSelectedItems:t.useCallback(function(e){d({type:10,selectedItems:e})},[d]),setActiveIndex:t.useCallback(function(e){d({type:11,activeIndex:e})},[d]),reset:t.useCallback(function(){d({type:12})},[d]),selectedItems:f,activeIndex:p}}rt.stateChangeTypes=et;function ot(e,t,n){var i;switch(n.type){case 0:i={activeIndex:n.index};break;case 1:i={activeIndex:0===e.activeIndex?e.items.length-1:e.activeIndex-1};break;case 2:i={activeIndex:e.activeIndex===e.items.length-1?0:e.activeIndex+1};break;case 4:case 3:var r=[].concat(e.items.slice(0,e.activeIndex),e.items.slice(e.activeIndex+1)),u=0===r.length?-1:r.length===e.activeIndex?e.activeIndex-1:e.activeIndex;i={items:[].concat(e.items.slice(0,e.activeIndex),e.items.slice(e.activeIndex+1)),activeIndex:u};break;case 5:var s=[].concat(e.items.slice(0,n.index),e.items.slice(n.index+1));i={items:s,activeIndex:0===s.length?-1:s.length===n.index?n.index-1:n.index};break;case 6:var a=[];i={items:a=void 0===n.index?[].concat(e.items,[n.item]):[].concat(e.items.slice(0,n.index),[n.item],e.items.slice(n.index)),activeIndex:-1===e.activeIndex?a.length-1:e.activeIndex};break;default:throw new Error("Invalid useTagGroup reducer action.")}return o({},e,i)}var ut="useId"in i?function(e){var t=e.id,n=e.tagGroupId,r=e.getTagId,o="downshift-"+i.useId();t||(t=o);return i.useRef({tagGroupId:null!=n?n:t+"-tag-group",getTagId:null!=r?r:function(e){return t+"-tag-"+e}}).current}:function(e){var t=e.id,n=void 0===t?"downshift-"+C():t,r=e.getTagId,o=e.tagGroupId;return i.useRef({tagGroupId:null!=o?o:n+"-tag-group",getTagId:null!=r?r:function(e){return n+"-tag-"+e}}).current};function st(e){var t,n,i,r,o=null!=(t=null!=(n=e.items)?n:e.initialItems)?t:[];return{activeIndex:null!=(i=null!=(r=e.activeIndex)?r:e.initialActiveIndex)?i:0===o.length?-1:0,items:o}}function at(e,t){return e.activeIndex===t.activeIndex&&e.items===t.items}var lt="tag-group-a11y-description";var ct=["onKeyDown"],dt=["index","refKey","ref","onClick"],pt=["index","onClick"],ft=function(e){var n;void 0===e&&(e={});var u=function(e){return o({stateReducer:function(e,t){return t.changes},environment:"undefined"==typeof window?void 0:window,removeElementDescription:"Press Delete or Backspace to remove tag."},e)}(e),s=ae(ot,u,st,at),a=s[0],l=s[1],c=a.activeIndex,d=a.items,p=D({state:a,props:u}),f=ut({getTagId:u.getTagId,id:u.id,tagGroupId:u.tagGroupId});!function(e,t){i.useEffect(function(){if(e){var n=e.createElement("div");return n.setAttribute("id",lt),n.style.display="none",n.textContent=t,e.body.appendChild(n),function(){n.remove()}}},[t,e])}(null==(n=u.environment)?void 0:n.document,u.removeElementDescription);var g=function(e,t,n){var r=i.useRef({}),o=i.useRef(e),u=i.useRef(t);return i.useEffect(function(){var i;(-1!==e&&-1!==o.current&&e!==o.current||u.current===t+1)&&(null==(i=r.current[n(e)])||i.focus()),o.current=e,u.current=t},[e,n,t]),r}(c,d.length,f.getTagId),h=t.useCallback(function(e){var t=null!=e?e:{},n=t.onKeyDown,i=r(t,ct),u=o({id:f.tagGroupId,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions",role:"listbox",onKeyDown:S(n,function(e){switch(e.key){case"ArrowLeft":l({type:1});break;case"ArrowRight":l({type:2});break;case"Delete":l({type:3});break;case"Backspace":l({type:4})}})},i);return u},[l,f.tagGroupId]),m=t.useCallback(function(e){var t,n=e.index,i=e.refKey,u=void 0===i?"ref":i,s=e.ref,a=e.onClick,c=r(e,dt);if(!Number.isInteger(n)||n<0)throw new Error("Pass correct item index to getTagProps!");var d=p.current.state,h=f.getTagId(n);return o(((t={"aria-describedby":lt})[u]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach(function(t){"function"==typeof t?t(e):t&&(t.current=e)})}}(s,function(e){e&&(g.current[h]=e)}),t["aria-labelledby"]=h,t.role="option",t.id=h,t.onClick=S(a,function(){l({type:0,index:n})}),t.tabIndex=d.activeIndex===n?0:-1,t),c)},[l,f,p,g]),I=t.useCallback(function(e){var t=e.index,n=e.onClick,i=r(e,pt);if(!Number.isInteger(t)||t<0)throw new Error("Pass correct item index to getTagRemoveProps!");var u=f.getTagId(t),s=u+"-remove";return o({id:s,tabIndex:-1,"aria-labelledby":s+" "+u,onClick:S(n,function(e){e.stopPropagation(),l({type:5,index:t})})},i)},[f,l]);return{activeIndex:c,addItem:t.useCallback(function(e,t){l({type:6,item:e,index:t})},[l]),getTagGroupProps:h,getTagProps:m,getTagRemoveProps:I,items:d}};ft.stateChangeTypes=Object.freeze({__proto__:null,FunctionAddItem:6,TagClick:0,TagGroupKeyDownArrowLeft:1,TagGroupKeyDownArrowRight:2,TagGroupKeyDownBackspace:4,TagGroupKeyDownDelete:3,TagRemoveClick:5}),e.default=re,e.resetIdCounter=function(){"useId"in i?console.warn("It is not necessary to call resetIdCounter when using React 18+"):k=0},e.useCombobox=Ge,e.useMultipleSelection=rt,e.useSelect=Be,e.useTagGroup=ft,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=downshift.umd.min.js.map
