{"version":3,"file":"downshift.umd.js","sources":["../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/@babel/runtime/helpers/esm/extends.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","../node_modules/prop-types/node_modules/react-is/cjs/react-is.development.js","../node_modules/prop-types/node_modules/react-is/index.js","../node_modules/object-assign/index.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/prop-types/lib/has.js","../node_modules/prop-types/checkPropTypes.js","../node_modules/prop-types/factoryWithTypeCheckers.js","../node_modules/prop-types/index.js","../node_modules/react-is/cjs/react-is.development.js","../node_modules/react-is/index.js","../src/stateChangeTypes.js","../src/utils-ts/generateId.ts","../src/utils-ts/useLatestRef.ts","../src/utils-ts/handleRefs.ts","../src/utils-ts/callAllEventHandlers.ts","../src/utils-ts/debounce.ts","../src/utils-ts/setA11yStatus.ts","../src/utils-ts/noop.ts","../src/utils-ts/validatePropTypes.ts","../src/utils-ts/getState.ts","../node_modules/compute-scroll-into-view/dist/index.js","../src/utils-ts/scrollIntoView.ts","../src/utils.js","../src/downshift.js","../src/hooks/utils-ts/capitalizeString.ts","../src/hooks/utils-ts/callOnChangeProps.ts","../src/hooks/utils-ts/useEnhancedReducer.ts","../src/hooks/utils-ts/useControlledReducer.ts","../src/hooks/utils-ts/getItemAndIndex.ts","../src/hooks/utils-ts/useIsInitialMount.ts","../src/hooks/utils-ts/stateReducer.ts","../src/hooks/utils-ts/propTypes.ts","../src/hooks/utils-ts/getDefaultValue.ts","../src/hooks/utils-ts/getInitialValue.ts","../src/hooks/utils-ts/useA11yMessageStatus.ts","../src/hooks/utils.dropdown/propTypes.ts","../src/hooks/utils.dropdown/defaultProps.ts","../src/hooks/utils.dropdown/defaultStateValues.ts","../src/hooks/utils.js","../src/hooks/reducer.js","../src/hooks/useSelect/utils/propTypes.ts","../src/hooks/useSelect/utils/defaultProps.ts","../src/hooks/useSelect/utils/getItemIndexByCharacterKey.ts","../src/hooks/useSelect/stateChangeTypes.js","../src/hooks/useSelect/reducer.js","../src/hooks/useSelect/index.js","../src/hooks/useCombobox/stateChangeTypes.js","../src/hooks/useCombobox/utils.js","../src/hooks/useCombobox/reducer.js","../src/hooks/useCombobox/index.js","../src/hooks/useMultipleSelection/utils.js","../src/hooks/useMultipleSelection/stateChangeTypes.js","../src/hooks/useMultipleSelection/reducer.js","../src/hooks/useMultipleSelection/index.js","../src/hooks/useTagGroup/stateChangeTypes.ts","../src/hooks/useTagGroup/reducer.ts","../src/hooks/useTagGroup/utils/useElementIds.ts","../src/hooks/useTagGroup/utils/getInitialState.ts","../src/hooks/useTagGroup/utils/isStateEqual.ts","../src/hooks/useTagGroup/utils/useAccessibleDescription.ts","../src/hooks/useTagGroup/utils/getMergedProps.ts","../src/hooks/useTagGroup/utils/useRovingTagFocus.ts","../src/hooks/useTagGroup/utils/index.ts","../src/hooks/useTagGroup/index.ts"],"sourcesContent":["function _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nexport { _objectWithoutPropertiesLoose as default };","function _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nexport { _extends as default };","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","/** @license React v16.13.1\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\nvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\nvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\nvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\nvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\nvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\n// (unstable) APIs that have been removed. Can we remove the symbols?\n\nvar REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\nvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\nvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\nvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\nvar REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\nvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\nvar REACT_BLOCK_TYPE = hasSymbol ? Symbol.for('react.block') : 0xead9;\nvar REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\nvar REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\nvar REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\n\nfunction isValidElementType(type) {\n  return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);\n}\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_ASYNC_MODE_TYPE:\n          case REACT_CONCURRENT_MODE_TYPE:\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n            return type;\n\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n\n              default:\n                return $$typeof;\n            }\n\n        }\n\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n} // AsyncMode is deprecated along with isAsyncMode\n\nvar AsyncMode = REACT_ASYNC_MODE_TYPE;\nvar ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\nvar hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n      console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n    }\n  }\n\n  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n}\nfunction isConcurrentMode(object) {\n  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\n\nexports.AsyncMode = AsyncMode;\nexports.ConcurrentMode = ConcurrentMode;\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\nexports.isValidElementType = isValidElementType;\nexports.typeOf = typeOf;\n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","module.exports = Function.call.bind(Object.prototype.hasOwnProperty);\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n  var has = require('./lib/has');\n\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) { /**/ }\n  };\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error(\n              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +\n              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.' +\n              'This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.'\n            );\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        if (error && !(error instanceof Error)) {\n          printWarning(\n            (componentName || 'React class') + ': type specification of ' +\n            location + ' `' + typeSpecName + '` is invalid; the type checker ' +\n            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +\n            'You may have forgotten to pass an argument to the type checker ' +\n            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +\n            'shape all require an argument).'\n          );\n        }\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          printWarning(\n            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')\n          );\n        }\n      }\n    }\n  }\n}\n\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\ncheckPropTypes.resetWarningCache = function() {\n  if (process.env.NODE_ENV !== 'production') {\n    loggedTypeFailures = {};\n  }\n}\n\nmodule.exports = checkPropTypes;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactIs = require('react-is');\nvar assign = require('object-assign');\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\nvar has = require('./lib/has');\nvar checkPropTypes = require('./checkPropTypes');\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bigint: createPrimitiveTypeChecker('bigint'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    elementType: createElementTypeTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker,\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message, data) {\n    this.message = message;\n    this.data = data && typeof data === 'object' ? data: {};\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error(\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            printWarning(\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `' + propFullName + '` prop on `' + componentName + '`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError(\n          'Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'),\n          {expectedType: expectedType}\n        );\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!ReactIs.isValidElementType(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (arguments.length > 1) {\n          printWarning(\n            'Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' +\n            'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).'\n          );\n        } else {\n          printWarning('Invalid argument supplied to oneOf, expected an array.');\n        }\n      }\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {\n        var type = getPreciseType(value);\n        if (type === 'symbol') {\n          return String(value);\n        }\n        return value;\n      });\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (has(propValue, key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        printWarning(\n          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'\n        );\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var expectedTypes = [];\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        var checkerResult = checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret);\n        if (checkerResult == null) {\n          return null;\n        }\n        if (checkerResult.data && has(checkerResult.data, 'expectedType')) {\n          expectedTypes.push(checkerResult.data.expectedType);\n        }\n      }\n      var expectedTypesMessage = (expectedTypes.length > 0) ? ', expected one of type [' + expectedTypes.join(', ') + ']': '';\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`' + expectedTypesMessage + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function invalidValidatorError(componentName, location, propFullName, key, type) {\n    return new PropTypeError(\n      (componentName || 'React class') + ': ' + location + ' type `' + propFullName + '.' + key + '` is invalid; ' +\n      'it must be a function, usually from the `prop-types` package, but received `' + type + '`.'\n    );\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (typeof checker !== 'function') {\n          return invalidValidatorError(componentName, location, propFullName, key, getPreciseType(checker));\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      // We need to check all keys in case some are required but missing from props.\n      var allKeys = assign({}, props[propName], shapeTypes);\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n        if (has(shapeTypes, key) && typeof checker !== 'function') {\n          return invalidValidatorError(componentName, location, propFullName, key, getPreciseType(checker));\n        }\n        if (!checker) {\n          return new PropTypeError(\n            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n            '\\nValid keys: ' + JSON.stringify(Object.keys(shapeTypes), null, '  ')\n          );\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // falsy value can't be a Symbol\n    if (!propValue) {\n      return false;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * @license React\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n// The Symbol used to tag the ReactElement-like types.\nvar REACT_ELEMENT_TYPE = Symbol.for('react.element');\nvar REACT_PORTAL_TYPE = Symbol.for('react.portal');\nvar REACT_FRAGMENT_TYPE = Symbol.for('react.fragment');\nvar REACT_STRICT_MODE_TYPE = Symbol.for('react.strict_mode');\nvar REACT_PROFILER_TYPE = Symbol.for('react.profiler');\nvar REACT_PROVIDER_TYPE = Symbol.for('react.provider');\nvar REACT_CONTEXT_TYPE = Symbol.for('react.context');\nvar REACT_SERVER_CONTEXT_TYPE = Symbol.for('react.server_context');\nvar REACT_FORWARD_REF_TYPE = Symbol.for('react.forward_ref');\nvar REACT_SUSPENSE_TYPE = Symbol.for('react.suspense');\nvar REACT_SUSPENSE_LIST_TYPE = Symbol.for('react.suspense_list');\nvar REACT_MEMO_TYPE = Symbol.for('react.memo');\nvar REACT_LAZY_TYPE = Symbol.for('react.lazy');\nvar REACT_OFFSCREEN_TYPE = Symbol.for('react.offscreen');\n\n// -----------------------------------------------------------------------------\n\nvar enableScopeAPI = false; // Experimental Create Event Handle API.\nvar enableCacheElement = false;\nvar enableTransitionTracing = false; // No known bugs, but needs performance testing\n\nvar enableLegacyHidden = false; // Enables unstable_avoidThisFallback feature in Fiber\n// stuff. Intended to enable React core members to more easily debug scheduling\n// issues in DEV builds.\n\nvar enableDebugTracing = false; // Track which Fiber(s) schedule render work.\n\nvar REACT_MODULE_REFERENCE;\n\n{\n  REACT_MODULE_REFERENCE = Symbol.for('react.module.reference');\n}\n\nfunction isValidElementType(type) {\n  if (typeof type === 'string' || typeof type === 'function') {\n    return true;\n  } // Note: typeof might be other than 'symbol' or 'number' (e.g. if it's a polyfill).\n\n\n  if (type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || enableDebugTracing  || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || enableLegacyHidden  || type === REACT_OFFSCREEN_TYPE || enableScopeAPI  || enableCacheElement  || enableTransitionTracing ) {\n    return true;\n  }\n\n  if (typeof type === 'object' && type !== null) {\n    if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || // This needs to include all possible module reference object\n    // types supported by any Flight configuration anywhere since\n    // we don't know which Flight build this will end up being used\n    // with.\n    type.$$typeof === REACT_MODULE_REFERENCE || type.getModuleId !== undefined) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n          case REACT_SUSPENSE_LIST_TYPE:\n            return type;\n\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_SERVER_CONTEXT_TYPE:\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n\n              default:\n                return $$typeof;\n            }\n\n        }\n\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n}\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\nvar SuspenseList = REACT_SUSPENSE_LIST_TYPE;\nvar hasWarnedAboutDeprecatedIsAsyncMode = false;\nvar hasWarnedAboutDeprecatedIsConcurrentMode = false; // AsyncMode should be deprecated\n\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n      console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 18+.');\n    }\n  }\n\n  return false;\n}\nfunction isConcurrentMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsConcurrentMode) {\n      hasWarnedAboutDeprecatedIsConcurrentMode = true; // Using console['warn'] to evade Babel and ESLint\n\n      console['warn']('The ReactIs.isConcurrentMode() alias has been deprecated, ' + 'and will be removed in React 18+.');\n    }\n  }\n\n  return false;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\nfunction isSuspenseList(object) {\n  return typeOf(object) === REACT_SUSPENSE_LIST_TYPE;\n}\n\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.SuspenseList = SuspenseList;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\nexports.isSuspenseList = isSuspenseList;\nexports.isValidElementType = isValidElementType;\nexports.typeOf = typeOf;\n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","import productionEnum from './productionEnum.macro'\n\nexport const unknown = productionEnum('__autocomplete_unknown__')\nexport const mouseUp = productionEnum('__autocomplete_mouseup__')\nexport const itemMouseEnter = productionEnum('__autocomplete_item_mouseenter__')\nexport const keyDownArrowUp = productionEnum(\n  '__autocomplete_keydown_arrow_up__',\n)\nexport const keyDownArrowDown = productionEnum(\n  '__autocomplete_keydown_arrow_down__',\n)\nexport const keyDownEscape = productionEnum('__autocomplete_keydown_escape__')\nexport const keyDownEnter = productionEnum('__autocomplete_keydown_enter__')\nexport const keyDownHome = productionEnum('__autocomplete_keydown_home__')\nexport const keyDownEnd = productionEnum('__autocomplete_keydown_end__')\nexport const clickItem = productionEnum('__autocomplete_click_item__')\nexport const blurInput = productionEnum('__autocomplete_blur_input__')\nexport const changeInput = productionEnum('__autocomplete_change_input__')\nexport const keyDownSpaceButton = productionEnum(\n  '__autocomplete_keydown_space_button__',\n)\nexport const clickButton = productionEnum('__autocomplete_click_button__')\nexport const blurButton = productionEnum('__autocomplete_blur_button__')\nexport const controlledPropUpdatedSelectedItem = productionEnum(\n  '__autocomplete_controlled_prop_updated_selected_item__',\n)\nexport const touchEnd = productionEnum('__autocomplete_touchend__')\n","import * as React from 'react'\n\nlet idCounter = 0\n\n/**\n * This generates a unique ID for an instance of Downshift\n * @return {string} the unique ID\n */\nexport function generateId(): string {\n  return String(idCounter++)\n}\n\n/**\n * This is only used in tests\n * @param {number} num the number to set the idCounter to\n */\nexport function setIdCounter(num: number): void {\n  idCounter = num\n}\n\n/**\n * Resets idCounter to 0. Used for SSR.\n */\nexport function resetIdCounter() {\n  // istanbul ignore next\n  if ('useId' in React) {\n    console.warn(\n      `It is not necessary to call resetIdCounter when using React 18+`,\n    )\n\n    return\n  }\n\n  idCounter = 0\n}\n","import * as React from 'react'\n\nexport function useLatestRef<T>(val: T): React.MutableRefObject<T> {\n  const ref = React.useRef(val)\n  // technically this is not \"concurrent mode safe\" because we're manipulating\n  // the value during render (so it's not idempotent). However, the places this\n  // hook is used is to support memoizing callbacks which will be called\n  // *during* render, so we need the latest values *during* render.\n  // If not for this, then we'd probably want to use useLayoutEffect instead.\n  ref.current = val\n  return ref\n}\n","import * as React from 'react'\n\nexport function handleRefs(\n  ...refs: (\n    | React.MutableRefObject<HTMLElement>\n    | React.RefCallback<HTMLElement>\n    | undefined\n  )[]\n) {\n  return (node: HTMLElement) => {\n    refs.forEach(ref => {\n      if (typeof ref === 'function') {\n        ref(node)\n      } else if (ref) {\n        ref.current = node\n      }\n    })\n  }\n}\n","/**\n * This is intended to be used to compose event handlers.\n * They are executed in order until one of them sets\n * `event.preventDownshiftDefault = true`.\n * @param fns the event handler functions\n * @return the event handler to add to an element\n */\nexport function callAllEventHandlers(...fns: (Function | undefined)[]) {\n  return (\n    event: React.SyntheticEvent & {\n      preventDownshiftDefault?: boolean\n      nativeEvent: {preventDownshiftDefault?: boolean}\n    },\n    ...args: unknown[]\n  ) =>\n    fns.some(fn => {\n      if (fn) {\n        fn(event, ...args)\n      }\n      return (\n        event.preventDownshiftDefault ||\n        (event.hasOwnProperty('nativeEvent') &&\n          event.nativeEvent.preventDownshiftDefault)\n      )\n    })\n}\n","/**\n * Simple debounce implementation. Will call the given\n * function once after the time given has passed since\n * it was last called.\n */\nexport function debounce(\n  fn: Function,\n  time: number,\n): Function & {cancel: Function} {\n  let timeoutId: NodeJS.Timeout | undefined | null\n\n  function cancel() {\n    if (timeoutId) {\n      clearTimeout(timeoutId)\n    }\n  }\n\n  function wrapper(...args: unknown[]) {\n    cancel()\n    timeoutId = setTimeout(() => {\n      timeoutId = null\n      fn(...args)\n    }, time)\n  }\n\n  wrapper.cancel = cancel\n\n  return wrapper\n}\n","import {debounce} from './debounce'\n\nconst cleanupStatus = debounce((document: Document) => {\n  getStatusDiv(document).textContent = ''\n}, 500)\n\n/**\n * Get the status node or create it if it does not already exist.\n */\nfunction getStatusDiv(document: Document) {\n  let statusDiv = document.getElementById('a11y-status-message')\n  if (statusDiv) {\n    return statusDiv\n  }\n\n  statusDiv = document.createElement('div')\n  statusDiv.setAttribute('id', 'a11y-status-message')\n  statusDiv.setAttribute('role', 'status')\n  statusDiv.setAttribute('aria-live', 'polite')\n  statusDiv.setAttribute('aria-relevant', 'additions text')\n  Object.assign(statusDiv.style, {\n    border: '0',\n    clip: 'rect(0 0 0 0)',\n    height: '1px',\n    margin: '-1px',\n    overflow: 'hidden',\n    padding: '0',\n    position: 'absolute',\n    width: '1px',\n  })\n\n  document.body.appendChild(statusDiv)\n  return statusDiv\n}\n\n/**\n * Sets aria live status to a div element that's visually hidden.\n */\nexport function setStatus(status: string, document: Document | undefined) {\n  if (!status || !document) {\n    return\n  }\n\n  const div = getStatusDiv(document)\n\n  div.textContent = status\n  cleanupStatus(document)\n}\n\n/**\n * Removes the status element from the DOM\n */\nexport function cleanupStatusDiv(document: Document | undefined) {\n  const statusDiv = document?.getElementById('a11y-status-message')\n\n  if (statusDiv) {\n    statusDiv.remove()\n  }\n}\n","export function noop() {}\n","import PropTypes from 'prop-types'\nimport {noop} from './noop'\n\n// eslint-disable-next-line import/no-mutable-exports\nexport let validatePropTypes = noop as (\n  options: unknown,\n  caller: Function,\n  propTypes: Record<\n    string,\n    PropTypes.Requireable<(...args: unknown[]) => unknown>\n  >,\n) => void\n/* istanbul ignore next */\nif (process.env.NODE_ENV !== 'production') {\n  validatePropTypes = (\n    options: unknown,\n    caller: Function,\n    propTypes: Record<\n      string,\n      PropTypes.Requireable<(...args: unknown[]) => unknown>\n    >,\n  ): void => {\n    PropTypes.checkPropTypes(propTypes, options, 'prop', caller.name)\n  }\n}\n","export interface Action<T> extends Record<string, unknown> {\n  type: T\n}\n\nexport type State = Record<string, unknown>\n\nexport interface Props<S, T> {\n  onStateChange?(typeAndChanges: unknown): void\n  stateReducer(\n    state: S,\n    actionAndChanges: Action<T> & {changes: Partial<S>},\n  ): Partial<S>\n}\n\n/**\n * This will perform a shallow merge of the given state object\n * with the state coming from props\n * (for the controlled component scenario)\n * This is used in state updater functions so they're referencing\n * the right state regardless of where it comes from.\n *\n * @param state The state of the component/hook.\n * @param props The props that may contain controlled values.\n * @returns The merged controlled state.\n */\nexport function getState<\n  S extends State,\n  P extends Partial<S> & Props<S, T>,\n  T,\n>(state: S, props?: P): S {\n  if (!props) {\n    return state\n  }\n\n  const keys = Object.keys(state) as (keyof S)[]\n\n  return keys.reduce(\n    (newState, key) => {\n      if (props[key] !== undefined) {\n        newState[key] = (props as Partial<S>)[key] as S[typeof key]\n      }\n      return newState\n    },\n    {...state},\n  )\n}\n","const t=t=>\"object\"==typeof t&&null!=t&&1===t.nodeType,e=(t,e)=>(!e||\"hidden\"!==t)&&(\"visible\"!==t&&\"clip\"!==t),n=(t,n)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const o=getComputedStyle(t,null);return e(o.overflowY,n)||e(o.overflowX,n)||(t=>{const e=(t=>{if(!t.ownerDocument||!t.ownerDocument.defaultView)return null;try{return t.ownerDocument.defaultView.frameElement}catch(t){return null}})(t);return!!e&&(e.clientHeight<t.scrollHeight||e.clientWidth<t.scrollWidth)})(t)}return!1},o=(t,e,n,o,l,r,i,s)=>r<t&&i>e||r>t&&i<e?0:r<=t&&s<=n||i>=e&&s>=n?r-t-o:i>e&&s<n||r<t&&s>n?i-e+l:0,l=t=>{const e=t.parentElement;return null==e?t.getRootNode().host||null:e},r=(e,r)=>{var i,s,d,h;if(\"undefined\"==typeof document)return[];const{scrollMode:c,block:f,inline:u,boundary:a,skipOverflowHiddenElements:g}=r,p=\"function\"==typeof a?a:t=>t!==a;if(!t(e))throw new TypeError(\"Invalid target\");const m=document.scrollingElement||document.documentElement,w=[];let W=e;for(;t(W)&&p(W);){if(W=l(W),W===m){w.push(W);break}null!=W&&W===document.body&&n(W)&&!n(document.documentElement)||null!=W&&n(W,g)&&w.push(W)}const b=null!=(s=null==(i=window.visualViewport)?void 0:i.width)?s:innerWidth,H=null!=(h=null==(d=window.visualViewport)?void 0:d.height)?h:innerHeight,{scrollX:y,scrollY:M}=window,{height:v,width:E,top:x,right:C,bottom:I,left:R}=e.getBoundingClientRect(),{top:T,right:B,bottom:F,left:V}=(t=>{const e=window.getComputedStyle(t);return{top:parseFloat(e.scrollMarginTop)||0,right:parseFloat(e.scrollMarginRight)||0,bottom:parseFloat(e.scrollMarginBottom)||0,left:parseFloat(e.scrollMarginLeft)||0}})(e);let k=\"start\"===f||\"nearest\"===f?x-T:\"end\"===f?I+F:x+v/2-T+F,D=\"center\"===u?R+E/2-V+B:\"end\"===u?C+B:R-V;const L=[];for(let t=0;t<w.length;t++){const e=w[t],{height:l,width:r,top:i,right:s,bottom:d,left:h}=e.getBoundingClientRect();if(\"if-needed\"===c&&x>=0&&R>=0&&I<=H&&C<=b&&(e===m&&!n(e)||x>=i&&I<=d&&R>=h&&C<=s))return L;const a=getComputedStyle(e),g=parseInt(a.borderLeftWidth,10),p=parseInt(a.borderTopWidth,10),W=parseInt(a.borderRightWidth,10),T=parseInt(a.borderBottomWidth,10);let B=0,F=0;const V=\"offsetWidth\"in e?e.offsetWidth-e.clientWidth-g-W:0,S=\"offsetHeight\"in e?e.offsetHeight-e.clientHeight-p-T:0,X=\"offsetWidth\"in e?0===e.offsetWidth?0:r/e.offsetWidth:0,Y=\"offsetHeight\"in e?0===e.offsetHeight?0:l/e.offsetHeight:0;if(m===e)B=\"start\"===f?k:\"end\"===f?k-H:\"nearest\"===f?o(M,M+H,H,p,T,M+k,M+k+v,v):k-H/2,F=\"start\"===u?D:\"center\"===u?D-b/2:\"end\"===u?D-b:o(y,y+b,b,g,W,y+D,y+D+E,E),B=Math.max(0,B+M),F=Math.max(0,F+y);else{B=\"start\"===f?k-i-p:\"end\"===f?k-d+T+S:\"nearest\"===f?o(i,d,l,p,T+S,k,k+v,v):k-(i+l/2)+S/2,F=\"start\"===u?D-h-g:\"center\"===u?D-(h+r/2)+V/2:\"end\"===u?D-s+W+V:o(h,s,r,g,W+V,D,D+E,E);const{scrollLeft:t,scrollTop:n}=e;B=0===Y?0:Math.max(0,Math.min(n+B/Y,e.scrollHeight-l/Y+S)),F=0===X?0:Math.max(0,Math.min(t+F/X,e.scrollWidth-r/X+V)),k+=n-B,D+=t-F}L.push({el:e,top:B,left:F})}return L};export{r as compute};//# sourceMappingURL=index.js.map\n","import {compute} from 'compute-scroll-into-view'\n\n/**\n * Scroll node into view if necessary\n * @param {HTMLElement} node the element that should scroll into view\n * @param {HTMLElement} menuNode the menu element of the component\n */\nexport function scrollIntoView(\n  node: HTMLElement | undefined,\n  menuNode: HTMLElement | undefined,\n) {\n  if (!node) {\n    return\n  }\n\n  const actions = compute(node, {\n    boundary: menuNode,\n    block: 'nearest',\n    scrollMode: 'if-needed',\n  })\n  actions.forEach(({el, top, left}) => {\n    el.scrollTop = top\n    el.scrollLeft = left\n  })\n}\n","import {isPreact} from './is.macro'\nimport { noop } from './utils-ts'\n\n/**\n * Accepts a parameter and returns it if it's a function\n * or a noop function if it's not. This allows us to\n * accept a callback, but not worry about it if it's not\n * passed.\n * @param {Function} cb the callback\n * @return {Function} a function\n */\nfunction cbToCb(cb) {\n  return typeof cb === 'function' ? cb : noop\n}\n\n/**\n * @param {HTMLElement} parent the parent node\n * @param {HTMLElement} child the child node\n * @param {Window} environment The window context where downshift renders.\n * @return {Boolean} whether the parent is the child or the child is in the parent\n */\nfunction isOrContainsNode(parent, child, environment) {\n  const result =\n    parent === child ||\n    (child instanceof environment.Node &&\n      parent.contains &&\n      parent.contains(child))\n  return result\n}\n\n/**\n * Simple debounce implementation. Will call the given\n * function once after the time given has passed since\n * it was last called.\n * @param {Function} fn the function to call after the time\n * @param {Number} time the time to wait\n * @return {Function} the debounced function\n */\nfunction debounce(fn, time) {\n  let timeoutId\n\n  function cancel() {\n    if (timeoutId) {\n      clearTimeout(timeoutId)\n    }\n  }\n\n  function wrapper(...args) {\n    cancel()\n    timeoutId = setTimeout(() => {\n      timeoutId = null\n      fn(...args)\n    }, time)\n  }\n\n  wrapper.cancel = cancel\n\n  return wrapper\n}\n\n/**\n * This is intended to be used to compose event handlers.\n * They are executed in order until one of them sets\n * `event.preventDownshiftDefault = true`.\n * @param {...Function} fns the event handler functions\n * @return {Function} the event handler to add to an element\n */\nfunction callAllEventHandlers(...fns) {\n  return (event, ...args) =>\n    fns.some(fn => {\n      if (fn) {\n        fn(event, ...args)\n      }\n      return (\n        event.preventDownshiftDefault ||\n        (event.hasOwnProperty('nativeEvent') &&\n          event.nativeEvent.preventDownshiftDefault)\n      )\n    })\n}\n\nfunction handleRefs(...refs) {\n  return node => {\n    refs.forEach(ref => {\n      if (typeof ref === 'function') {\n        ref(node)\n      } else if (ref) {\n        ref.current = node\n      }\n    })\n  }\n}\n\n/**\n * Default implementation for status message. Only added when menu is open.\n * Will specify if there are results in the list, and if so, how many,\n * and what keys are relevant.\n *\n * @param {Object} param the downshift state and other relevant properties\n * @return {String} the a11y status message\n */\nfunction getA11yStatusMessage({isOpen, resultCount, previousResultCount}) {\n  if (!isOpen) {\n    return ''\n  }\n\n  if (!resultCount) {\n    return 'No results are available.'\n  }\n\n  if (resultCount !== previousResultCount) {\n    return `${resultCount} result${\n      resultCount === 1 ? ' is' : 's are'\n    } available, use up and down arrow keys to navigate. Press Enter key to select.`\n  }\n\n  return ''\n}\n\n/**\n * Takes an argument and if it's an array, returns the first item in the array\n * otherwise returns the argument\n * @param {*} arg the maybe-array\n * @param {*} defaultValue the value if arg is falsey not defined\n * @return {*} the arg or it's first item\n */\nfunction unwrapArray(arg, defaultValue) {\n  arg = Array.isArray(arg) ? /* istanbul ignore next (preact) */ arg[0] : arg\n  if (!arg && defaultValue) {\n    return defaultValue\n  } else {\n    return arg\n  }\n}\n\n/**\n * @param {Object} element (P)react element\n * @return {Boolean} whether it's a DOM element\n */\nfunction isDOMElement(element) {\n  /* istanbul ignore if */\n  if (isPreact) {\n    // then this is preact or preact X\n    return (\n      typeof element.type === 'string' || typeof element.nodeName === 'string'\n    )\n  }\n\n  // then we assume this is react\n  return typeof element.type === 'string'\n}\n\n/**\n * @param {Object} element (P)react element\n * @return {Object} the props\n */\nfunction getElementProps(element) {\n  // props for react, attributes for preact\n\n  /* istanbul ignore if */\n  if (isPreact) {\n    return element.props || element.attributes\n  }\n\n  return element.props\n}\n\n/**\n * Throws a helpful error message for required properties. Useful\n * to be used as a default in destructuring or object params.\n * @param {String} fnName the function name\n * @param {String} propName the prop name\n */\nfunction requiredProp(fnName, propName) {\n  // eslint-disable-next-line no-console\n  console.error(`The property \"${propName}\" is required in \"${fnName}\"`)\n}\n\nconst stateKeys = [\n  'highlightedIndex',\n  'inputValue',\n  'isOpen',\n  'selectedItem',\n  'type',\n]\n/**\n * @param {Object} state the state object\n * @return {Object} state that is relevant to downshift\n */\nfunction pickState(state = {}) {\n  const result = {}\n  stateKeys.forEach(k => {\n    if (state.hasOwnProperty(k)) {\n      result[k] = state[k]\n    }\n  })\n  return result\n}\n\n/**\n * This determines whether a prop is a \"controlled prop\" meaning it is\n * state which is controlled by the outside of this component rather\n * than within this component.\n *\n * @param {Object} props The props that may contain controlled values.\n * @param {String} key the key to check\n * @return {Boolean} whether it is a controlled controlled prop\n */\nfunction isControlledProp(props, key) {\n  return props[key] !== undefined\n}\n\n/**\n * Normalizes the 'key' property of a KeyboardEvent in IE/Edge\n * @param {Object} event a keyboardEvent object\n * @return {String} keyboard key\n */\nfunction normalizeArrowKey(event) {\n  const {key, keyCode} = event\n  /* istanbul ignore next (ie) */\n  if (keyCode >= 37 && keyCode <= 40 && key.indexOf('Arrow') !== 0) {\n    return `Arrow${key}`\n  }\n  return key\n}\n\n/**\n * Simple check if the value passed is object literal\n * @param {*} obj any things\n * @return {Boolean} whether it's object literal\n */\nfunction isPlainObject(obj) {\n  return Object.prototype.toString.call(obj) === '[object Object]'\n}\n\n/**\n * Returns the next non-disabled highlightedIndex value.\n *\n * @param {number} start The current highlightedIndex.\n * @param {number} offset The offset from the current highlightedIndex to start searching.\n * @param {unknown[]} items The items array.\n * @param {(item: unknown, index: number) => boolean} isItemDisabled Function that tells if an item is disabled or not.\n * @param {boolean?} circular If the search reaches the end, if it can search again starting from the other end.\n * @returns {number} The next highlightedIndex.\n */\nfunction getHighlightedIndex(\n  start,\n  offset,\n  items,\n  isItemDisabled,\n  circular = false,\n) {\n  const count = items.length\n  if (count === 0) {\n    return -1\n  }\n\n  const itemsLastIndex = count - 1\n\n  if (typeof start !== 'number' || start < 0 || start > itemsLastIndex) {\n    start = offset > 0 ? -1 : itemsLastIndex + 1\n  }\n\n  let current = start + offset\n\n  if (current < 0) {\n    current = circular ? itemsLastIndex : 0\n  } else if (current > itemsLastIndex) {\n    current = circular ? 0 : itemsLastIndex\n  }\n\n  const highlightedIndex = getNonDisabledIndex(\n    current,\n    offset < 0,\n    items,\n    isItemDisabled,\n    circular,\n  )\n\n  if (highlightedIndex === -1) {\n    return start >= count ? -1 : start\n  }\n\n  return highlightedIndex\n}\n\n/**\n * Returns the next non-disabled highlightedIndex value.\n *\n * @param {number} start The current highlightedIndex.\n * @param {boolean} backwards If true, it will search backwards from the start.\n * @param {unknown[]} items The items array.\n * @param {(item: unknown, index: number) => boolean} isItemDisabled Function that tells if an item is disabled or not.\n * @param {boolean} circular If the search reaches the end, if it can search again starting from the other end.\n * @returns {number} The next non-disabled index.\n */\nfunction getNonDisabledIndex(\n  start,\n  backwards,\n  items,\n  isItemDisabled,\n  circular = false,\n) {\n  const count = items.length\n\n  if (backwards) {\n    for (let index = start; index >= 0; index--) {\n      if (!isItemDisabled(items[index], index)) {\n        return index\n      }\n    }\n  } else {\n    for (let index = start; index < count; index++) {\n      if (!isItemDisabled(items[index], index)) {\n        return index\n      }\n    }\n  }\n\n  if (circular) {\n    return getNonDisabledIndex(\n      backwards ? count - 1 : 0,\n      backwards,\n      items,\n      isItemDisabled,\n    )\n  }\n\n  return -1\n}\n\n/**\n * Checks if event target is within the downshift elements.\n *\n * @param {EventTarget} target Target to check.\n * @param {HTMLElement[]} downshiftElements The elements that form downshift (list, toggle button etc).\n * @param {Window} environment The window context where downshift renders.\n * @param {boolean} checkActiveElement Whether to also check activeElement.\n *\n * @returns {boolean} Whether or not the target is within downshift elements.\n */\nfunction targetWithinDownshift(\n  target,\n  downshiftElements,\n  environment,\n  checkActiveElement = true,\n) {\n  return (\n    environment &&\n    downshiftElements.some(\n      contextNode =>\n        contextNode &&\n        (isOrContainsNode(contextNode, target, environment) ||\n          (checkActiveElement &&\n            isOrContainsNode(\n              contextNode,\n              environment.document.activeElement,\n              environment,\n            ))),\n    )\n  )\n}\n\n// eslint-disable-next-line import/no-mutable-exports\nlet validateControlledUnchanged = noop\n/* istanbul ignore next */\nif (process.env.NODE_ENV !== 'production') {\n  validateControlledUnchanged = (state, prevProps, nextProps) => {\n    const warningDescription = `This prop should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled Downshift element for the lifetime of the component. More info: https://github.com/downshift-js/downshift#control-props`\n\n    Object.keys(state).forEach(propKey => {\n      if (\n        prevProps[propKey] !== undefined &&\n        nextProps[propKey] === undefined\n      ) {\n        // eslint-disable-next-line no-console\n        console.error(\n          `downshift: A component has changed the controlled prop \"${propKey}\" to be uncontrolled. ${warningDescription}`,\n        )\n      } else if (\n        prevProps[propKey] === undefined &&\n        nextProps[propKey] !== undefined\n      ) {\n        // eslint-disable-next-line no-console\n        console.error(\n          `downshift: A component has changed the uncontrolled prop \"${propKey}\" to be controlled. ${warningDescription}`,\n        )\n      }\n    })\n  }\n}\n\nexport {\n  cbToCb,\n  callAllEventHandlers,\n  handleRefs,\n  debounce,\n  getA11yStatusMessage,\n  unwrapArray,\n  isDOMElement,\n  getElementProps,\n  requiredProp,\n  pickState,\n  isPlainObject,\n  normalizeArrowKey,\n  targetWithinDownshift,\n  isControlledProp,\n  validateControlledUnchanged,\n  getHighlightedIndex,\n  getNonDisabledIndex,\n}\n","/* eslint camelcase:0 */\n\nimport PropTypes from 'prop-types'\nimport {Component, cloneElement} from 'react'\nimport {isForwardRef} from 'react-is'\nimport {isPreact, isReactNative, isReactNativeWeb} from './is.macro'\nimport * as stateChangeTypes from './stateChangeTypes'\nimport {\n  handleRefs,\n  callAllEventHandlers,\n  cbToCb,\n  debounce,\n  getA11yStatusMessage,\n  getElementProps,\n  isDOMElement,\n  targetWithinDownshift,\n  isPlainObject,\n  normalizeArrowKey,\n  pickState,\n  requiredProp,\n  unwrapArray,\n  isControlledProp,\n  validateControlledUnchanged,\n  getHighlightedIndex,\n  getNonDisabledIndex,\n} from './utils'\nimport {generateId, scrollIntoView, setStatus, getState, noop} from './utils-ts'\n\nclass Downshift extends Component {\n  static propTypes = {\n    children: PropTypes.func,\n    defaultHighlightedIndex: PropTypes.number,\n    defaultIsOpen: PropTypes.bool,\n    initialHighlightedIndex: PropTypes.number,\n    initialSelectedItem: PropTypes.any,\n    initialInputValue: PropTypes.string,\n    initialIsOpen: PropTypes.bool,\n    getA11yStatusMessage: PropTypes.func,\n    itemToString: PropTypes.func,\n    onChange: PropTypes.func,\n    onSelect: PropTypes.func,\n    onStateChange: PropTypes.func,\n    onInputValueChange: PropTypes.func,\n    onUserAction: PropTypes.func,\n    onOuterClick: PropTypes.func,\n    selectedItemChanged: PropTypes.func,\n    stateReducer: PropTypes.func,\n    itemCount: PropTypes.number,\n    id: PropTypes.string,\n    environment: PropTypes.shape({\n      addEventListener: PropTypes.func.isRequired,\n      removeEventListener: PropTypes.func.isRequired,\n      document: PropTypes.shape({\n        createElement: PropTypes.func.isRequired,\n        getElementById: PropTypes.func.isRequired,\n        activeElement: PropTypes.any.isRequired,\n        body: PropTypes.any.isRequired,\n      }).isRequired,\n      Node: PropTypes.func.isRequired,\n    }),\n    suppressRefError: PropTypes.bool,\n    scrollIntoView: PropTypes.func,\n    // things we keep in state for uncontrolled components\n    // but can accept as props for controlled components\n    /* eslint-disable react/no-unused-prop-types */\n    selectedItem: PropTypes.any,\n    isOpen: PropTypes.bool,\n    inputValue: PropTypes.string,\n    highlightedIndex: PropTypes.number,\n    labelId: PropTypes.string,\n    inputId: PropTypes.string,\n    menuId: PropTypes.string,\n    getItemId: PropTypes.func,\n    /* eslint-enable react/no-unused-prop-types */\n  }\n\n  static defaultProps = {\n    defaultHighlightedIndex: null,\n    defaultIsOpen: false,\n    getA11yStatusMessage,\n    itemToString: i => {\n      if (i == null) {\n        return ''\n      }\n      if (\n        process.env.NODE_ENV !== 'production' &&\n        isPlainObject(i) &&\n        !i.hasOwnProperty('toString')\n      ) {\n        // eslint-disable-next-line no-console\n        console.warn(\n          'downshift: An object was passed to the default implementation of `itemToString`. You should probably provide your own `itemToString` implementation. Please refer to the `itemToString` API documentation.',\n          'The object that was passed:',\n          i,\n        )\n      }\n      return String(i)\n    },\n    onStateChange: noop,\n    onInputValueChange: noop,\n    onUserAction: noop,\n    onChange: noop,\n    onSelect: noop,\n    onOuterClick: noop,\n    selectedItemChanged: (prevItem, item) => prevItem !== item,\n    environment:\n      /* istanbul ignore next (ssr) */\n      typeof window === 'undefined' || isReactNative ? undefined : window,\n    stateReducer: (state, stateToSet) => stateToSet,\n    suppressRefError: false,\n    scrollIntoView,\n  }\n\n  static stateChangeTypes = stateChangeTypes\n\n  constructor(props) {\n    super(props)\n    // fancy destructuring + defaults + aliases\n    // this basically says each value of state should either be set to\n    // the initial value or the default value if the initial value is not provided\n    const {\n      defaultHighlightedIndex,\n      initialHighlightedIndex: highlightedIndex = defaultHighlightedIndex,\n      defaultIsOpen,\n      initialIsOpen: isOpen = defaultIsOpen,\n      initialInputValue: inputValue = '',\n      initialSelectedItem: selectedItem = null,\n    } = this.props\n    const state = this.getState({\n      highlightedIndex,\n      isOpen,\n      inputValue,\n      selectedItem,\n    })\n    if (\n      state.selectedItem != null &&\n      this.props.initialInputValue === undefined\n    ) {\n      state.inputValue = this.props.itemToString(state.selectedItem)\n    }\n    this.state = state\n  }\n\n  id = this.props.id || `downshift-${generateId()}`\n  menuId = this.props.menuId || `${this.id}-menu`\n  labelId = this.props.labelId || `${this.id}-label`\n  inputId = this.props.inputId || `${this.id}-input`\n  getItemId = this.props.getItemId || (index => `${this.id}-item-${index}`)\n\n  items = []\n  // itemCount can be changed asynchronously\n  // from within downshift (so it can't come from a prop)\n  // this is why we store it as an instance and use\n  // getItemCount rather than just use items.length\n  // (to support windowing + async)\n  itemCount = null\n  previousResultCount = 0\n\n  timeoutIds = []\n\n  /**\n   * @param {Function} fn the function to call after the time\n   * @param {Number} time the time to wait\n   */\n  internalSetTimeout = (fn, time) => {\n    const id = setTimeout(() => {\n      this.timeoutIds = this.timeoutIds.filter(i => i !== id)\n      fn()\n    }, time)\n\n    this.timeoutIds.push(id)\n  }\n\n  /**\n   * Clear all running timeouts\n   */\n  internalClearTimeouts() {\n    this.timeoutIds.forEach(id => {\n      clearTimeout(id)\n    })\n\n    this.timeoutIds = []\n  }\n\n  /**\n   * Gets the state based on internal state or props\n   * If a state value is passed via props, then that\n   * is the value given, otherwise it's retrieved from\n   * stateToMerge\n   *\n   * @param {Object} stateToMerge defaults to this.state\n   * @return {Object} the state\n   */\n  getState(stateToMerge = this.state) {\n    return getState(stateToMerge, this.props)\n  }\n\n  getItemCount() {\n    // things read better this way. They're in priority order:\n    // 1. `this.itemCount`\n    // 2. `this.props.itemCount`\n    // 3. `this.items.length`\n    let itemCount = this.items.length\n    if (this.itemCount != null) {\n      itemCount = this.itemCount\n    } else if (this.props.itemCount !== undefined) {\n      itemCount = this.props.itemCount\n    }\n    return itemCount\n  }\n\n  setItemCount = count => {\n    this.itemCount = count\n  }\n\n  unsetItemCount = () => {\n    this.itemCount = null\n  }\n\n  getItemNodeFromIndex(index) {\n    return this.props.environment\n      ? this.props.environment.document.getElementById(this.getItemId(index))\n      : null\n  }\n\n  isItemDisabled = (_item, index) => {\n    const currentElementNode = this.getItemNodeFromIndex(index)\n\n    return currentElementNode && currentElementNode.hasAttribute('disabled')\n  }\n\n  setHighlightedIndex = (\n    highlightedIndex = this.props.defaultHighlightedIndex,\n    otherStateToSet = {},\n  ) => {\n    otherStateToSet = pickState(otherStateToSet)\n    this.internalSetState({highlightedIndex, ...otherStateToSet})\n  }\n\n  scrollHighlightedItemIntoView() {\n    /* istanbul ignore else (react-native) */\n    if (!isReactNative) {\n      const node = this.getItemNodeFromIndex(this.getState().highlightedIndex)\n      this.props.scrollIntoView(node, this._menuNode)\n    }\n  }\n\n  moveHighlightedIndex(amount, otherStateToSet) {\n    const itemCount = this.getItemCount()\n    const {highlightedIndex} = this.getState()\n    if (itemCount > 0) {\n      const nextHighlightedIndex = getHighlightedIndex(\n        highlightedIndex,\n        amount,\n        {length: itemCount},\n        this.isItemDisabled,\n        true,\n      )\n      this.setHighlightedIndex(nextHighlightedIndex, otherStateToSet)\n    }\n  }\n\n  clearSelection = cb => {\n    this.internalSetState(\n      {\n        selectedItem: null,\n        inputValue: '',\n        highlightedIndex: this.props.defaultHighlightedIndex,\n        isOpen: this.props.defaultIsOpen,\n      },\n      cb,\n    )\n  }\n\n  selectItem = (item, otherStateToSet, cb) => {\n    otherStateToSet = pickState(otherStateToSet)\n    this.internalSetState(\n      {\n        isOpen: this.props.defaultIsOpen,\n        highlightedIndex: this.props.defaultHighlightedIndex,\n        selectedItem: item,\n        inputValue: this.props.itemToString(item),\n        ...otherStateToSet,\n      },\n      cb,\n    )\n  }\n\n  selectItemAtIndex = (itemIndex, otherStateToSet, cb) => {\n    const item = this.items[itemIndex]\n    if (item == null) {\n      return\n    }\n    this.selectItem(item, otherStateToSet, cb)\n  }\n\n  selectHighlightedItem = (otherStateToSet, cb) => {\n    return this.selectItemAtIndex(\n      this.getState().highlightedIndex,\n      otherStateToSet,\n      cb,\n    )\n  }\n\n  // any piece of our state can live in two places:\n  // 1. Uncontrolled: it's internal (this.state)\n  //    We will call this.setState to update that state\n  // 2. Controlled: it's external (this.props)\n  //    We will call this.props.onStateChange to update that state\n  //\n  // In addition, we'll call this.props.onChange if the\n  // selectedItem is changed.\n  internalSetState = (stateToSet, cb) => {\n    let isItemSelected, onChangeArg\n\n    const onStateChangeArg = {}\n    const isStateToSetFunction = typeof stateToSet === 'function'\n\n    // we want to call `onInputValueChange` before the `setState` call\n    // so someone controlling the `inputValue` state gets notified of\n    // the input change as soon as possible. This avoids issues with\n    // preserving the cursor position.\n    // See https://github.com/downshift-js/downshift/issues/217 for more info.\n    if (!isStateToSetFunction && stateToSet.hasOwnProperty('inputValue')) {\n      this.props.onInputValueChange(stateToSet.inputValue, {\n        ...this.getStateAndHelpers(),\n        ...stateToSet,\n      })\n    }\n    return this.setState(\n      state => {\n        state = this.getState(state)\n        let newStateToSet = isStateToSetFunction\n          ? stateToSet(state)\n          : stateToSet\n\n        // Your own function that could modify the state that will be set.\n        newStateToSet = this.props.stateReducer(state, newStateToSet)\n\n        // checks if an item is selected, regardless of if it's different from\n        // what was selected before\n        // used to determine if onSelect and onChange callbacks should be called\n        isItemSelected = newStateToSet.hasOwnProperty('selectedItem')\n        // this keeps track of the object we want to call with setState\n        const nextState = {}\n        // this is just used to tell whether the state changed\n        const nextFullState = {}\n        // we need to call on change if the outside world is controlling any of our state\n        // and we're trying to update that state. OR if the selection has changed and we're\n        // trying to update the selection\n        if (\n          isItemSelected &&\n          newStateToSet.selectedItem !== state.selectedItem\n        ) {\n          onChangeArg = newStateToSet.selectedItem\n        }\n        newStateToSet.type ||= stateChangeTypes.unknown\n\n        Object.keys(newStateToSet).forEach(key => {\n          // onStateChangeArg should only have the state that is\n          // actually changing\n          if (state[key] !== newStateToSet[key]) {\n            onStateChangeArg[key] = newStateToSet[key]\n          }\n          // the type is useful for the onStateChangeArg\n          // but we don't actually want to set it in internal state.\n          // this is an undocumented feature for now... Not all internalSetState\n          // calls support it and I'm not certain we want them to yet.\n          // But it enables users controlling the isOpen state to know when\n          // the isOpen state changes due to mouseup events which is quite handy.\n          if (key === 'type') {\n            return\n          }\n          nextFullState[key] = newStateToSet[key]\n          // if it's coming from props, then we don't care to set it internally\n          if (!isControlledProp(this.props, key)) {\n            nextState[key] = newStateToSet[key]\n          }\n        })\n\n        // if stateToSet is a function, then we weren't able to call onInputValueChange\n        // earlier, so we'll call it now that we know what the inputValue state will be.\n        if (\n          isStateToSetFunction &&\n          newStateToSet.hasOwnProperty('inputValue')\n        ) {\n          this.props.onInputValueChange(newStateToSet.inputValue, {\n            ...this.getStateAndHelpers(),\n            ...newStateToSet,\n          })\n        }\n\n        return nextState\n      },\n      () => {\n        // call the provided callback if it's a function\n        cbToCb(cb)()\n\n        // only call the onStateChange and onChange callbacks if\n        // we have relevant information to pass them.\n        const hasMoreStateThanType = Object.keys(onStateChangeArg).length > 1\n        if (hasMoreStateThanType) {\n          this.props.onStateChange(onStateChangeArg, this.getStateAndHelpers())\n        }\n\n        if (isItemSelected) {\n          this.props.onSelect(\n            stateToSet.selectedItem,\n            this.getStateAndHelpers(),\n          )\n        }\n\n        if (onChangeArg !== undefined) {\n          this.props.onChange(onChangeArg, this.getStateAndHelpers())\n        }\n        // this is currently undocumented and therefore subject to change\n        // We'll try to not break it, but just be warned.\n        this.props.onUserAction(onStateChangeArg, this.getStateAndHelpers())\n      },\n    )\n  }\n\n  getStateAndHelpers() {\n    const {highlightedIndex, inputValue, selectedItem, isOpen} = this.getState()\n    const {itemToString} = this.props\n    const {id} = this\n    const {\n      getRootProps,\n      getToggleButtonProps,\n      getLabelProps,\n      getMenuProps,\n      getInputProps,\n      getItemProps,\n      openMenu,\n      closeMenu,\n      toggleMenu,\n      selectItem,\n      selectItemAtIndex,\n      selectHighlightedItem,\n      setHighlightedIndex,\n      clearSelection,\n      clearItems,\n      reset,\n      setItemCount,\n      unsetItemCount,\n      internalSetState: setState,\n    } = this\n    return {\n      // prop getters\n      getRootProps,\n      getToggleButtonProps,\n      getLabelProps,\n      getMenuProps,\n      getInputProps,\n      getItemProps,\n\n      // actions\n      reset,\n      openMenu,\n      closeMenu,\n      toggleMenu,\n      selectItem,\n      selectItemAtIndex,\n      selectHighlightedItem,\n      setHighlightedIndex,\n      clearSelection,\n      clearItems,\n      setItemCount,\n      unsetItemCount,\n      setState,\n\n      // props\n      itemToString,\n\n      // derived\n      id,\n\n      // state\n      highlightedIndex,\n      inputValue,\n      isOpen,\n      selectedItem,\n    }\n  }\n\n  //////////////////////////// ROOT\n\n  rootRef = node => (this._rootNode = node)\n\n  getRootProps = (\n    {refKey = 'ref', ref, ...rest} = {},\n    {suppressRefError = false} = {},\n  ) => {\n    // this is used in the render to know whether the user has called getRootProps.\n    // It uses that to know whether to apply the props automatically\n    this.getRootProps.called = true\n    this.getRootProps.refKey = refKey\n    this.getRootProps.suppressRefError = suppressRefError\n    const {isOpen} = this.getState()\n    return {\n      [refKey]: handleRefs(ref, this.rootRef),\n      role: 'combobox',\n      'aria-expanded': isOpen,\n      'aria-haspopup': 'listbox',\n      'aria-owns': isOpen ? this.menuId : undefined,\n      'aria-labelledby': this.labelId,\n      ...rest,\n    }\n  }\n\n  //\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ ROOT\n\n  keyDownHandlers = {\n    ArrowDown(event) {\n      event.preventDefault()\n\n      if (this.getState().isOpen) {\n        const amount = event.shiftKey ? 5 : 1\n        this.moveHighlightedIndex(amount, {\n          type: stateChangeTypes.keyDownArrowDown,\n        })\n      } else {\n        this.internalSetState(\n          {\n            isOpen: true,\n            type: stateChangeTypes.keyDownArrowDown,\n          },\n          () => {\n            const itemCount = this.getItemCount()\n            if (itemCount > 0) {\n              const {highlightedIndex} = this.getState()\n              const nextHighlightedIndex = getHighlightedIndex(\n                highlightedIndex,\n                1,\n                {length: itemCount},\n                this.isItemDisabled,\n                true,\n              )\n\n              this.setHighlightedIndex(nextHighlightedIndex, {\n                type: stateChangeTypes.keyDownArrowDown,\n              })\n            }\n          },\n        )\n      }\n    },\n\n    ArrowUp(event) {\n      event.preventDefault()\n\n      if (this.getState().isOpen) {\n        const amount = event.shiftKey ? -5 : -1\n        this.moveHighlightedIndex(amount, {\n          type: stateChangeTypes.keyDownArrowUp,\n        })\n      } else {\n        this.internalSetState(\n          {\n            isOpen: true,\n            type: stateChangeTypes.keyDownArrowUp,\n          },\n          () => {\n            const itemCount = this.getItemCount()\n            if (itemCount > 0) {\n              const {highlightedIndex} = this.getState()\n              const nextHighlightedIndex = getHighlightedIndex(\n                highlightedIndex,\n                -1,\n                {length: itemCount},\n                this.isItemDisabled,\n                true,\n              )\n\n              this.setHighlightedIndex(nextHighlightedIndex, {\n                type: stateChangeTypes.keyDownArrowUp,\n              })\n            }\n          },\n        )\n      }\n    },\n\n    Enter(event) {\n      if (event.which === 229) {\n        return\n      }\n\n      const {isOpen, highlightedIndex} = this.getState()\n      if (isOpen && highlightedIndex != null) {\n        event.preventDefault()\n        const item = this.items[highlightedIndex]\n        const itemNode = this.getItemNodeFromIndex(highlightedIndex)\n        if (item == null || (itemNode && itemNode.hasAttribute('disabled'))) {\n          return\n        }\n        this.selectHighlightedItem({\n          type: stateChangeTypes.keyDownEnter,\n        })\n      }\n    },\n\n    Escape(event) {\n      event.preventDefault()\n      this.reset({\n        type: stateChangeTypes.keyDownEscape,\n        ...(!this.state.isOpen && {selectedItem: null, inputValue: ''}),\n      })\n    },\n  }\n\n  //////////////////////////// BUTTON\n\n  buttonKeyDownHandlers = {\n    ...this.keyDownHandlers,\n\n    ' '(event) {\n      event.preventDefault()\n      this.toggleMenu({type: stateChangeTypes.keyDownSpaceButton})\n    },\n  }\n\n  inputKeyDownHandlers = {\n    ...this.keyDownHandlers,\n    Home(event) {\n      const {isOpen} = this.getState()\n\n      if (!isOpen) {\n        return\n      }\n\n      event.preventDefault()\n\n      const itemCount = this.getItemCount()\n\n      if (itemCount <= 0 || !isOpen) {\n        return\n      }\n\n      // get next non-disabled starting downwards from 0 if that's disabled.\n      const newHighlightedIndex = getNonDisabledIndex(\n        0,\n        false,\n        {length: itemCount},\n        this.isItemDisabled,\n      )\n\n      this.setHighlightedIndex(newHighlightedIndex, {\n        type: stateChangeTypes.keyDownHome,\n      })\n    },\n\n    End(event) {\n      const {isOpen} = this.getState()\n\n      if (!isOpen) {\n        return\n      }\n\n      event.preventDefault()\n\n      const itemCount = this.getItemCount()\n\n      if (itemCount <= 0 || !isOpen) {\n        return\n      }\n\n      // get next non-disabled starting upwards from last index if that's disabled.\n      const newHighlightedIndex = getNonDisabledIndex(\n        itemCount - 1,\n        true,\n        {length: itemCount},\n        this.isItemDisabled,\n      )\n\n      this.setHighlightedIndex(newHighlightedIndex, {\n        type: stateChangeTypes.keyDownEnd,\n      })\n    },\n  }\n\n  getToggleButtonProps = ({\n    onClick,\n    onPress,\n    onKeyDown,\n    onKeyUp,\n    onBlur,\n    ...rest\n  } = {}) => {\n    const {isOpen} = this.getState()\n    const enabledEventHandlers =\n      isReactNative || isReactNativeWeb\n        ? /* istanbul ignore next (react-native) */\n          {\n            onPress: callAllEventHandlers(onPress, this.buttonHandleClick),\n          }\n        : {\n            onClick: callAllEventHandlers(onClick, this.buttonHandleClick),\n            onKeyDown: callAllEventHandlers(\n              onKeyDown,\n              this.buttonHandleKeyDown,\n            ),\n            onKeyUp: callAllEventHandlers(onKeyUp, this.buttonHandleKeyUp),\n            onBlur: callAllEventHandlers(onBlur, this.buttonHandleBlur),\n          }\n    const eventHandlers = rest.disabled ? {} : enabledEventHandlers\n    return {\n      type: 'button',\n      role: 'button',\n      'aria-label': isOpen ? 'close menu' : 'open menu',\n      'aria-haspopup': true,\n      'data-toggle': true,\n      ...eventHandlers,\n      ...rest,\n    }\n  }\n\n  buttonHandleKeyUp = event => {\n    // Prevent click event from emitting in Firefox\n    event.preventDefault()\n  }\n\n  buttonHandleKeyDown = event => {\n    const key = normalizeArrowKey(event)\n    if (this.buttonKeyDownHandlers[key]) {\n      this.buttonKeyDownHandlers[key].call(this, event)\n    }\n  }\n\n  buttonHandleClick = event => {\n    event.preventDefault()\n    // handle odd case for Safari and Firefox which\n    // don't give the button the focus properly.\n    /* istanbul ignore if (can't reasonably test this) */\n    if (!isReactNative && this.props.environment) {\n      const {body, activeElement} = this.props.environment.document\n\n      if (body && body === activeElement) {\n        event.target.focus()\n      }\n    }\n    // to simplify testing components that use downshift, we'll not wrap this in a setTimeout\n    // if the NODE_ENV is test. With the proper build system, this should be dead code eliminated\n    // when building for production and should therefore have no impact on production code.\n    if (process.env.NODE_ENV === 'test') {\n      this.toggleMenu({type: stateChangeTypes.clickButton})\n    } else {\n      // Ensure that toggle of menu occurs after the potential blur event in iOS\n      this.internalSetTimeout(() =>\n        this.toggleMenu({type: stateChangeTypes.clickButton}),\n      )\n    }\n  }\n\n  buttonHandleBlur = event => {\n    const blurTarget = event.target // Save blur target for comparison with activeElement later\n    // Need setTimeout, so that when the user presses Tab, the activeElement is the next focused element, not body element\n    this.internalSetTimeout(() => {\n      if (this.isMouseDown || !this.props.environment) {\n        return\n      }\n\n      const {activeElement} = this.props.environment.document\n\n      if (\n        (activeElement == null || activeElement.id !== this.inputId) &&\n        activeElement !== blurTarget // Do nothing if we refocus the same element again (to solve issue in Safari on iOS)\n      ) {\n        this.reset({type: stateChangeTypes.blurButton})\n      }\n    })\n  }\n\n  //\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ BUTTON\n\n  /////////////////////////////// LABEL\n\n  getLabelProps = props => {\n    return {htmlFor: this.inputId, id: this.labelId, ...props}\n  }\n\n  //\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ LABEL\n\n  /////////////////////////////// INPUT\n\n  getInputProps = ({\n    onKeyDown,\n    onBlur,\n    onChange,\n    onInput,\n    onChangeText,\n    ...rest\n  } = {}) => {\n    let onChangeKey\n    let eventHandlers = {}\n\n    /* istanbul ignore next (preact) */\n    if (isPreact) {\n      onChangeKey = 'onInput'\n    } else {\n      onChangeKey = 'onChange'\n    }\n    const {inputValue, isOpen, highlightedIndex} = this.getState()\n\n    if (!rest.disabled) {\n      eventHandlers = {\n        [onChangeKey]: callAllEventHandlers(\n          onChange,\n          onInput,\n          this.inputHandleChange,\n        ),\n        onKeyDown: callAllEventHandlers(onKeyDown, this.inputHandleKeyDown),\n        onBlur: callAllEventHandlers(onBlur, this.inputHandleBlur),\n      }\n    }\n\n    /* istanbul ignore if (react-native) */\n    if (isReactNative) {\n      eventHandlers = {\n        onChange: callAllEventHandlers(\n          onChange,\n          onInput,\n          this.inputHandleChange,\n        ),\n        onChangeText: callAllEventHandlers(onChangeText, onInput, text =>\n          this.inputHandleChange({nativeEvent: {text}}),\n        ),\n        onBlur: callAllEventHandlers(onBlur, this.inputHandleBlur),\n      }\n    }\n\n    return {\n      'aria-autocomplete': 'list',\n      'aria-activedescendant':\n        isOpen && typeof highlightedIndex === 'number' && highlightedIndex >= 0\n          ? this.getItemId(highlightedIndex)\n          : undefined,\n      'aria-controls': isOpen ? this.menuId : undefined,\n      'aria-labelledby': rest && rest['aria-label'] ? undefined : this.labelId,\n      // https://developer.mozilla.org/en-US/docs/Web/Security/Securing_your_site/Turning_off_form_autocompletion\n      // revert back since autocomplete=\"nope\" is ignored on latest Chrome and Opera\n      autoComplete: 'off',\n      value: inputValue,\n      id: this.inputId,\n      ...eventHandlers,\n      ...rest,\n    }\n  }\n\n  inputHandleKeyDown = event => {\n    const key = normalizeArrowKey(event)\n    if (key && this.inputKeyDownHandlers[key]) {\n      this.inputKeyDownHandlers[key].call(this, event)\n    }\n  }\n\n  inputHandleChange = event => {\n    this.internalSetState({\n      type: stateChangeTypes.changeInput,\n      isOpen: true,\n      inputValue:\n        isReactNative || isReactNativeWeb\n          ? /* istanbul ignore next (react-native) */ event.nativeEvent.text\n          : event.target.value,\n      highlightedIndex: this.props.defaultHighlightedIndex,\n    })\n  }\n\n  inputHandleBlur = () => {\n    // Need setTimeout, so that when the user presses Tab, the activeElement is the next focused element, not the body element\n    this.internalSetTimeout(() => {\n      if (this.isMouseDown || !this.props.environment) {\n        return\n      }\n\n      const {activeElement} = this.props.environment.document\n      const downshiftButtonIsActive =\n        activeElement?.dataset?.toggle &&\n        this._rootNode &&\n        this._rootNode.contains(activeElement)\n\n      if (!downshiftButtonIsActive) {\n        this.reset({type: stateChangeTypes.blurInput})\n      }\n    })\n  }\n\n  //\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ INPUT\n\n  /////////////////////////////// MENU\n\n  menuRef = node => {\n    this._menuNode = node\n  }\n\n  getMenuProps = (\n    {refKey = 'ref', ref, ...props} = {},\n    {suppressRefError = false} = {},\n  ) => {\n    this.getMenuProps.called = true\n    this.getMenuProps.refKey = refKey\n    this.getMenuProps.suppressRefError = suppressRefError\n\n    return {\n      [refKey]: handleRefs(ref, this.menuRef),\n      role: 'listbox',\n      'aria-labelledby':\n        props && props['aria-label'] ? undefined : this.labelId,\n      id: this.menuId,\n      ...props,\n    }\n  }\n  //\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ MENU\n\n  /////////////////////////////// ITEM\n  getItemProps = ({\n    onMouseMove,\n    onMouseDown,\n    onClick,\n    onPress,\n    index,\n    item = process.env.NODE_ENV === 'production'\n      ? /* istanbul ignore next */ undefined\n      : requiredProp('getItemProps', 'item'),\n    ...rest\n  } = {}) => {\n    if (index === undefined) {\n      this.items.push(item)\n      index = this.items.indexOf(item)\n    } else {\n      this.items[index] = item\n    }\n\n    const onSelectKey =\n      isReactNative || isReactNativeWeb\n        ? /* istanbul ignore next (react-native) */ 'onPress'\n        : 'onClick'\n    const customClickHandler = isReactNative\n      ? /* istanbul ignore next (react-native) */ onPress\n      : onClick\n\n    const enabledEventHandlers = {\n      // onMouseMove is used over onMouseEnter here. onMouseMove\n      // is only triggered on actual mouse movement while onMouseEnter\n      // can fire on DOM changes, interrupting keyboard navigation\n      onMouseMove: callAllEventHandlers(onMouseMove, () => {\n        if (index === this.getState().highlightedIndex) {\n          return\n        }\n        this.setHighlightedIndex(index, {\n          type: stateChangeTypes.itemMouseEnter,\n        })\n\n        // We never want to manually scroll when changing state based\n        // on `onMouseMove` because we will be moving the element out\n        // from under the user which is currently scrolling/moving the\n        // cursor\n        this.avoidScrolling = true\n        this.internalSetTimeout(() => (this.avoidScrolling = false), 250)\n      }),\n      onMouseDown: callAllEventHandlers(onMouseDown, event => {\n        // This prevents the activeElement from being changed\n        // to the item so it can remain with the current activeElement\n        // which is a more common use case.\n        event.preventDefault()\n      }),\n      [onSelectKey]: callAllEventHandlers(customClickHandler, () => {\n        this.selectItemAtIndex(index, {\n          type: stateChangeTypes.clickItem,\n        })\n      }),\n    }\n\n    // Passing down the onMouseDown handler to prevent redirect\n    // of the activeElement if clicking on disabled items\n    const eventHandlers = rest.disabled\n      ? {onMouseDown: enabledEventHandlers.onMouseDown}\n      : enabledEventHandlers\n\n    return {\n      id: this.getItemId(index),\n      role: 'option',\n      'aria-selected': this.getState().highlightedIndex === index,\n      ...eventHandlers,\n      ...rest,\n    }\n  }\n  //\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ ITEM\n\n  clearItems = () => {\n    this.items = []\n  }\n\n  reset = (otherStateToSet = {}, cb) => {\n    otherStateToSet = pickState(otherStateToSet)\n    this.internalSetState(\n      ({selectedItem}) => ({\n        isOpen: this.props.defaultIsOpen,\n        highlightedIndex: this.props.defaultHighlightedIndex,\n        inputValue: this.props.itemToString(selectedItem),\n        ...otherStateToSet,\n      }),\n      cb,\n    )\n  }\n\n  toggleMenu = (otherStateToSet = {}, cb) => {\n    otherStateToSet = pickState(otherStateToSet)\n    this.internalSetState(\n      ({isOpen}) => {\n        return {\n          isOpen: !isOpen,\n          ...(isOpen && {\n            highlightedIndex: this.props.defaultHighlightedIndex,\n          }),\n          ...otherStateToSet,\n        }\n      },\n      () => {\n        const {isOpen, highlightedIndex} = this.getState()\n        if (isOpen) {\n          if (this.getItemCount() > 0 && typeof highlightedIndex === 'number') {\n            this.setHighlightedIndex(highlightedIndex, otherStateToSet)\n          }\n        }\n        cbToCb(cb)()\n      },\n    )\n  }\n\n  openMenu = cb => {\n    this.internalSetState({isOpen: true}, cb)\n  }\n\n  closeMenu = cb => {\n    this.internalSetState({isOpen: false}, cb)\n  }\n\n  updateStatus = debounce(() => {\n    if (!this.props?.environment?.document) {\n      return\n    }\n\n    const state = this.getState()\n    const item = this.items[state.highlightedIndex]\n    const resultCount = this.getItemCount()\n    const status = this.props.getA11yStatusMessage({\n      itemToString: this.props.itemToString,\n      previousResultCount: this.previousResultCount,\n      resultCount,\n      highlightedItem: item,\n      ...state,\n    })\n    this.previousResultCount = resultCount\n\n    setStatus(status, this.props.environment.document)\n  }, 200)\n\n  componentDidMount() {\n    /* istanbul ignore if (react-native) */\n    if (\n      process.env.NODE_ENV !== 'production' &&\n      !isReactNative &&\n      this.getMenuProps.called &&\n      !this.getMenuProps.suppressRefError\n    ) {\n      validateGetMenuPropsCalledCorrectly(this._menuNode, this.getMenuProps)\n    }\n\n    /* istanbul ignore if (react-native or SSR) */\n    if (isReactNative || !this.props.environment) {\n      this.cleanup = () => {\n        this.internalClearTimeouts()\n      }\n    } else {\n      // this.isMouseDown helps us track whether the mouse is currently held down.\n      // This is useful when the user clicks on an item in the list, but holds the mouse\n      // down long enough for the list to disappear (because the blur event fires on the input)\n      // this.isMouseDown is used in the blur handler on the input to determine whether the blur event should\n      // trigger hiding the menu.\n      const onMouseDown = () => {\n        this.isMouseDown = true\n      }\n      const onMouseUp = event => {\n        this.isMouseDown = false\n        // if the target element or the activeElement is within a downshift node\n        // then we don't want to reset downshift\n        const contextWithinDownshift = targetWithinDownshift(\n          event.target,\n          [this._rootNode, this._menuNode],\n          this.props.environment,\n        )\n        if (!contextWithinDownshift && this.getState().isOpen) {\n          this.reset({type: stateChangeTypes.mouseUp}, () =>\n            this.props.onOuterClick(this.getStateAndHelpers()),\n          )\n        }\n      }\n      // Touching an element in iOS gives focus and hover states, but touching out of\n      // the element will remove hover, and persist the focus state, resulting in the\n      // blur event not being triggered.\n      // this.isTouchMove helps us track whether the user is tapping or swiping on a touch screen.\n      // If the user taps outside of Downshift, the component should be reset,\n      // but not if the user is swiping\n      const onTouchStart = () => {\n        this.isTouchMove = false\n      }\n\n      const onTouchMove = () => {\n        this.isTouchMove = true\n      }\n\n      const onTouchEnd = event => {\n        const contextWithinDownshift = targetWithinDownshift(\n          event.target,\n          [this._rootNode, this._menuNode],\n          this.props.environment,\n          false,\n        )\n        if (\n          !this.isTouchMove &&\n          !contextWithinDownshift &&\n          this.getState().isOpen\n        ) {\n          this.reset({type: stateChangeTypes.touchEnd}, () =>\n            this.props.onOuterClick(this.getStateAndHelpers()),\n          )\n        }\n      }\n      const {environment} = this.props\n\n      environment.addEventListener('mousedown', onMouseDown)\n      environment.addEventListener('mouseup', onMouseUp)\n      environment.addEventListener('touchstart', onTouchStart)\n      environment.addEventListener('touchmove', onTouchMove)\n      environment.addEventListener('touchend', onTouchEnd)\n\n      this.cleanup = () => {\n        this.internalClearTimeouts()\n        this.updateStatus.cancel()\n\n        environment.removeEventListener('mousedown', onMouseDown)\n        environment.removeEventListener('mouseup', onMouseUp)\n        environment.removeEventListener('touchstart', onTouchStart)\n        environment.removeEventListener('touchmove', onTouchMove)\n        environment.removeEventListener('touchend', onTouchEnd)\n      }\n    }\n  }\n\n  shouldScroll(prevState, prevProps) {\n    const {highlightedIndex: currentHighlightedIndex} =\n      this.props.highlightedIndex === undefined ? this.getState() : this.props\n    const {highlightedIndex: prevHighlightedIndex} =\n      prevProps.highlightedIndex === undefined ? prevState : prevProps\n    const scrollWhenOpen =\n      currentHighlightedIndex && this.getState().isOpen && !prevState.isOpen\n    const scrollWhenNavigating =\n      currentHighlightedIndex !== prevHighlightedIndex\n\n    return scrollWhenOpen || scrollWhenNavigating\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (process.env.NODE_ENV !== 'production') {\n      validateControlledUnchanged(this.state, prevProps, this.props)\n      /* istanbul ignore if (react-native) */\n      if (\n        !isReactNative &&\n        this.getMenuProps.called &&\n        !this.getMenuProps.suppressRefError\n      ) {\n        validateGetMenuPropsCalledCorrectly(this._menuNode, this.getMenuProps)\n      }\n    }\n\n    if (\n      isControlledProp(this.props, 'selectedItem') &&\n      this.props.selectedItemChanged(\n        prevProps.selectedItem,\n        this.props.selectedItem,\n      )\n    ) {\n      this.internalSetState({\n        type: stateChangeTypes.controlledPropUpdatedSelectedItem,\n        inputValue: this.props.itemToString(this.props.selectedItem),\n      })\n    }\n\n    if (!this.avoidScrolling && this.shouldScroll(prevState, prevProps)) {\n      this.scrollHighlightedItemIntoView()\n    }\n\n    /* istanbul ignore else (react-native) */\n    if (!isReactNative) {\n      this.updateStatus()\n    }\n  }\n\n  componentWillUnmount() {\n    this.cleanup() // avoids memory leak\n  }\n\n  render() {\n    const children = unwrapArray(this.props.children, noop)\n    // because the items are rerendered every time we call the children\n    // we clear this out each render and it will be populated again as\n    // getItemProps is called.\n    this.clearItems()\n    // we reset this so we know whether the user calls getRootProps during\n    // this render. If they do then we don't need to do anything,\n    // if they don't then we need to clone the element they return and\n    // apply the props for them.\n    this.getRootProps.called = false\n    this.getRootProps.refKey = undefined\n    this.getRootProps.suppressRefError = undefined\n    // we do something similar for getMenuProps\n    this.getMenuProps.called = false\n    this.getMenuProps.refKey = undefined\n    this.getMenuProps.suppressRefError = undefined\n    // we do something similar for getLabelProps\n    this.getLabelProps.called = false\n    // and something similar for getInputProps\n    this.getInputProps.called = false\n    const element = unwrapArray(children(this.getStateAndHelpers()))\n    if (!element) {\n      return null\n    }\n\n    if (this.getRootProps.called || this.props.suppressRefError) {\n      if (\n        process.env.NODE_ENV !== 'production' &&\n        !this.getRootProps.suppressRefError &&\n        !this.props.suppressRefError\n      ) {\n        validateGetRootPropsCalledCorrectly(element, this.getRootProps)\n      }\n      return element\n    } else if (isDOMElement(element)) {\n      // they didn't apply the root props, but we can clone\n      // this and apply the props ourselves\n      return cloneElement(element, this.getRootProps(getElementProps(element)))\n    }\n\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== 'production') {\n      // they didn't apply the root props, but they need to\n      // otherwise we can't query around the autocomplete\n\n      throw new Error(\n        'downshift: If you return a non-DOM element, you must apply the getRootProps function',\n      )\n    }\n\n    /* istanbul ignore next */\n    return undefined\n  }\n}\n\nexport default Downshift\n\nfunction validateGetMenuPropsCalledCorrectly(node, {refKey}) {\n  if (!node) {\n    // eslint-disable-next-line no-console\n    console.error(\n      `downshift: The ref prop \"${refKey}\" from getMenuProps was not applied correctly on your menu element.`,\n    )\n  }\n}\n\nfunction validateGetRootPropsCalledCorrectly(element, {refKey}) {\n  const refKeySpecified = refKey !== 'ref'\n  const isComposite = !isDOMElement(element)\n  if (isComposite && !refKeySpecified && !isForwardRef(element)) {\n    // eslint-disable-next-line no-console\n    console.error(\n      'downshift: You returned a non-DOM element. You must specify a refKey in getRootProps',\n    )\n  } else if (!isComposite && refKeySpecified) {\n    // eslint-disable-next-line no-console\n    console.error(\n      `downshift: You returned a DOM element. You should not specify a refKey in getRootProps. You specified \"${refKey}\"`,\n    )\n  }\n  if (!isForwardRef(element) && !getElementProps(element)[refKey]) {\n    // eslint-disable-next-line no-console\n    console.error(\n      `downshift: You must apply the ref prop \"${refKey}\" from getRootProps onto your root element.`,\n    )\n  }\n}\n","export function capitalizeString(string: string): string {\n  return `${string.slice(0, 1).toUpperCase()}${string.slice(1)}`\n}\n","import {Action, Props, State} from '../../utils-ts'\nimport {capitalizeString} from './capitalizeString'\n\nexport function callOnChangeProps<\n  S extends State,\n  P extends Partial<S> & Props<S, T>,\n  T,\n>(action: Action<T>, props: P, state: S, newState: S) {\n  const {type} = action\n  const changes: Partial<State> = {}\n  const keys = Object.keys(state)\n\n  for (const key of keys) {\n    invokeOnChangeHandler(key, action, props, state, newState)\n\n    if (newState[key] !== state[key]) {\n      changes[key] = newState[key]\n    }\n  }\n\n  if (props.onStateChange && Object.keys(changes).length) {\n    props.onStateChange({type, ...changes})\n  }\n}\n\nfunction invokeOnChangeHandler<\n  S extends State,\n  P extends Partial<S> & Props<S, T>,\n  T,\n>(key: string, action: Action<T>, props: P, state: S, newState: S) {\n  if (newState[key] === state[key]) {\n    return\n  }\n\n  const handlerKey = `on${capitalizeString(key)}Change`\n  const handler = props[handlerKey]\n\n  if (typeof handler !== 'function') {\n    return\n  }\n\n  const {type} = action\n\n  handler({type, ...newState})\n}\n","import * as React from 'react'\n\nimport {\n  type Action,\n  type Props,\n  type State,\n  getState,\n  useLatestRef,\n} from '../../utils-ts'\nimport {callOnChangeProps} from './callOnChangeProps'\n\n/**\n * Computes the controlled state using a the previous state, props,\n * two reducers, one from downshift and an optional one from the user.\n * Also calls the onChange handlers for state values that have changed.\n *\n * @param {Function} reducer Reducer function from downshift.\n * @param {Object} props The hook props, also passed to createInitialState.\n * @param {Function} createInitialState Function that returns the initial state.\n * @param {Function} isStateEqual Function that checks if a previous state is equal to the next.\n * @returns {Array} An array with the state and an action dispatcher.\n */\nexport function useEnhancedReducer<\n  S extends State,\n  P extends Partial<S> & Props<S, T>,\n  T,\n  A extends Action<T>,\n>(\n  reducer: (state: S, props: P, action: A) => S,\n  props: P,\n  createInitialState: (props: P) => S,\n  isStateEqual: (prevState: S, newState: S) => boolean,\n): [S, (action: A) => void] {\n  const prevStateRef = React.useRef<S | null>(null)\n  const actionRef = React.useRef<A>(undefined)\n  const propsRef = useLatestRef(props)\n\n  const enhancedReducer = React.useCallback(\n    (state: S, action: A): S => {\n      actionRef.current = action\n      state = getState(state, propsRef.current)\n\n      const changes = reducer(state, propsRef.current, action)\n      const newState = propsRef.current.stateReducer(state, {\n        ...action,\n        changes,\n      })\n\n      return {...state, ...newState}\n    },\n    [propsRef, reducer],\n  )\n  const [state, dispatch] = React.useReducer(\n    enhancedReducer,\n    props,\n    createInitialState,\n  )\n\n  const action = actionRef.current\n\n  React.useEffect(() => {\n    const prevState = getState(\n      prevStateRef.current ?? ({} as S),\n      propsRef.current,\n    )\n    const shouldCallOnChangeProps =\n      action && prevStateRef.current && !isStateEqual(prevState, state)\n\n    if (shouldCallOnChangeProps) {\n      callOnChangeProps(action, propsRef.current, prevState, state)\n    }\n\n    prevStateRef.current = state\n  }, [state, action, isStateEqual, propsRef])\n\n  return [state, dispatch]\n}\n","import {getState, type Action, type State, type Props} from '../../utils-ts'\nimport {useEnhancedReducer} from './useEnhancedReducer'\n\n/**\n * Wraps the useEnhancedReducer and applies the controlled prop values before\n * returning the new state.\n *\n * @param {Function} reducer Reducer function from downshift.\n * @param {Object} props The hook props, also passed to createInitialState.\n * @param {Function} createInitialState Function that returns the initial state.\n * @param {Function} isStateEqual Function that checks if a previous state is equal to the next.\n * @returns {Array} An array with the state and an action dispatcher.\n */\nexport function useControlledReducer<\n  S extends State,\n  P extends Partial<S> & Props<S, T>,\n  T,\n  A extends Action<T>,\n>(\n  reducer: (state: S, props: P, action: A) => S,\n  props: P,\n  createInitialState: (props: P) => S,\n  isStateEqual: (prevState: S, newState: S) => boolean,\n): [S, (action: A) => void] {\n  const [state, dispatch] = useEnhancedReducer(\n    reducer,\n    props,\n    createInitialState,\n    isStateEqual,\n  )\n\n  return [getState(state, props), dispatch]\n}\n","/**\n * Returns both the item and index when both or either is passed.\n *\n * @param itemProp The item which could be undefined.\n * @param indexProp The index which could be undefined.\n * @param items The array of items to get the item based on index.\n * @param errorMessage The error to be thrown if index and item could not be returned for any reason.\n * @returns An array with item and index.\n */\nexport function getItemAndIndex<Item>(\n  itemProp: Item | undefined,\n  indexProp: number | undefined,\n  items: Item[],\n  errorMessage: string,\n): [Item, number] {\n  if (itemProp !== undefined && indexProp !== undefined) {\n    return [itemProp, indexProp]\n  }\n\n  if (itemProp !== undefined) {\n    const index = items.indexOf(itemProp)\n\n    if (index < 0) {\n      throw new Error(errorMessage)\n    }\n\n    return [itemProp, items.indexOf(itemProp)]\n  }\n\n  if (indexProp !== undefined) {\n    const item = items[indexProp]\n\n    if (item === undefined) {\n      throw new Error(errorMessage)\n    }\n    return [item, indexProp]\n  }\n\n  throw new Error(errorMessage)\n}\n","import * as React from 'react'\n\n/**\n * Tracks if it's the first render.\n */\nexport function useIsInitialMount(): boolean {\n  const isInitialMountRef = React.useRef(true)\n\n  React.useEffect(() => {\n    isInitialMountRef.current = false\n\n    return () => {\n      isInitialMountRef.current = true\n    }\n  }, [])\n\n  return isInitialMountRef.current\n}\n","import {Action, State} from '../../utils-ts'\n\n/**\n * Default state reducer that returns the changes.\n *\n */\nexport function stateReducer<T>(_s: State, a: Action<T>) {\n  return a.changes\n}\n","import PropTypes from 'prop-types'\n\n// Shared between all exports.\nexport const propTypes = {\n  environment: PropTypes.shape({\n    addEventListener: PropTypes.func.isRequired,\n    removeEventListener: PropTypes.func.isRequired,\n    document: PropTypes.shape({\n      createElement: PropTypes.func.isRequired,\n      getElementById: PropTypes.func.isRequired,\n      activeElement: PropTypes.any.isRequired,\n      body: PropTypes.any.isRequired,\n    }).isRequired,\n    Node: PropTypes.func.isRequired,\n  }),\n  itemToKey: PropTypes.func,\n  stateReducer: PropTypes.func,\n}\n","import {State} from '../../utils-ts'\nimport {capitalizeString} from './capitalizeString'\n\nexport function getDefaultValue<S extends State, P extends Partial<S>>(\n  props: P,\n  propKey: keyof S,\n  defaultStateValues: S,\n): S[keyof S] {\n  const defaultValue = props[`default${capitalizeString(propKey as string)}`]\n\n  if (defaultValue !== undefined) {\n    return defaultValue as S[keyof S]\n  }\n\n  return defaultStateValues[propKey]\n}\n","import {State} from '../../utils-ts'\nimport {capitalizeString} from './capitalizeString'\nimport {getDefaultValue} from './getDefaultValue'\n\nexport function getInitialValue<S extends State, P extends Partial<S>>(\n  props: P,\n  propKey: keyof S,\n  defaultStateValues: S,\n): S[keyof S] {\n  const value = props[propKey] as keyof S | undefined\n\n  if (value !== undefined) {\n    return value as S[keyof S]\n  }\n\n  const initialValue = props[`initial${capitalizeString(propKey as string)}`]\n\n  if (initialValue !== undefined) {\n    return initialValue as S[keyof S]\n  }\n\n  return getDefaultValue(props, propKey, defaultStateValues)\n}\n","import * as React from 'react'\n\nimport {cleanupStatusDiv, debounce, setStatus} from '../../utils-ts'\nimport {isReactNative} from '../../is.macro.js'\nimport {useIsInitialMount} from './useIsInitialMount'\n\n/**\n * Debounced call for updating the a11y message.\n */\nconst updateA11yStatus = debounce((status: string, document: Document) => {\n  setStatus(status, document)\n}, 200)\n\n/**\n * Adds an a11y aria live status message if getA11yStatusMessage is passed.\n * @param getA11yStatusMessage The function that builds the status message.\n * @param options The options to be passed to getA11yStatusMessage if called.\n * @param dependencyArray The dependency array that triggers the status message setter via useEffect.\n * @param environment The environment object containing the document.\n */\nexport function useA11yMessageStatus<Options>(\n  getA11yStatusMessage: ((options: Options) => string) | undefined,\n  options: Options,\n  dependencyArray: unknown[],\n  environment: {document: Document | undefined} | undefined,\n) {\n  const document = environment?.document\n  const isInitialMount = useIsInitialMount()\n\n  // Adds an a11y aria live status message if getA11yStatusMessage is passed.\n  React.useEffect(() => {\n    if (!getA11yStatusMessage || isInitialMount || isReactNative || !document) {\n      return\n    }\n\n    const status = getA11yStatusMessage(options)\n\n    updateA11yStatus(status, document)\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, dependencyArray)\n\n  // Cleanup the status message container.\n  React.useEffect(() => {\n    return () => {\n      updateA11yStatus.cancel()\n      cleanupStatusDiv(document)\n    }\n  }, [document])\n}\n","import PropTypes from 'prop-types'\n\nimport {commonPropTypes} from '../utils-ts'\n\n// Shared between useSelect, useCombobox, Downshift.\nexport const propTypes = {\n  ...commonPropTypes,\n  getA11yStatusMessage: PropTypes.func,\n  highlightedIndex: PropTypes.number,\n  defaultHighlightedIndex: PropTypes.number,\n  initialHighlightedIndex: PropTypes.number,\n  isOpen: PropTypes.bool,\n  defaultIsOpen: PropTypes.bool,\n  initialIsOpen: PropTypes.bool,\n  selectedItem: PropTypes.any,\n  initialSelectedItem: PropTypes.any,\n  defaultSelectedItem: PropTypes.any,\n  id: PropTypes.string,\n  labelId: PropTypes.string,\n  menuId: PropTypes.string,\n  getItemId: PropTypes.func,\n  toggleButtonId: PropTypes.string,\n  onSelectedItemChange: PropTypes.func,\n  onHighlightedIndexChange: PropTypes.func,\n  onStateChange: PropTypes.func,\n  onIsOpenChange: PropTypes.func,\n  scrollIntoView: PropTypes.func,\n}\n","import {scrollIntoView} from '../../utils-ts'\nimport {stateReducer} from '../utils-ts'\n\nimport {isReactNative} from '../../is.macro.js'\n\nexport const defaultProps = {\n  itemToString(item: unknown) {\n    return item ? String(item) : ''\n  },\n  itemToKey(item: unknown) {\n    return item\n  },\n  stateReducer,\n  scrollIntoView,\n  environment:\n    /* istanbul ignore next (ssr) */\n    typeof window === 'undefined' || isReactNative ? undefined : window,\n}\n","export const defaultStateValues = {\n  highlightedIndex: -1,\n  isOpen: false,\n  selectedItem: null as unknown,\n  inputValue: '',\n}\n","import * as React from 'react'\nimport {isReactNative} from '../is.macro'\nimport {validateControlledUnchanged, targetWithinDownshift} from '../utils'\nimport {generateId, noop} from '../utils-ts'\nimport {useIsInitialMount, getDefaultValue, getInitialValue} from './utils-ts'\nimport {dropdownDefaultStateValues} from './utils.dropdown'\n\n// istanbul ignore next\nconst useIsomorphicLayoutEffect =\n  typeof window !== 'undefined' &&\n  typeof window.document !== 'undefined' &&\n  typeof window.document.createElement !== 'undefined'\n    ? React.useLayoutEffect\n    : React.useEffect\n\n// istanbul ignore next\nconst useElementIds =\n  'useId' in React // Avoid conditional useId call\n    ? function useElementIds({\n        id,\n        labelId,\n        menuId,\n        getItemId,\n        toggleButtonId,\n        inputId,\n      }) {\n        // Avoid conditional useId call\n        const reactId = `downshift-${React.useId()}`\n        if (!id) {\n          id = reactId\n        }\n\n        const elementIds = React.useMemo(\n          () => ({\n            labelId: labelId || `${id}-label`,\n            menuId: menuId || `${id}-menu`,\n            getItemId: getItemId || (index => `${id}-item-${index}`),\n            toggleButtonId: toggleButtonId || `${id}-toggle-button`,\n            inputId: inputId || `${id}-input`,\n          }),\n          [getItemId, id, inputId, labelId, menuId, toggleButtonId],\n        )\n\n        return elementIds\n      }\n    : function useElementIds({\n        id = `downshift-${generateId()}`,\n        labelId,\n        menuId,\n        getItemId,\n        toggleButtonId,\n        inputId,\n      }) {\n        const elementIds = React.useMemo(\n          () => ({\n            labelId: labelId || `${id}-label`,\n            menuId: menuId || `${id}-menu`,\n            getItemId: getItemId || (index => `${id}-item-${index}`),\n            toggleButtonId: toggleButtonId || `${id}-toggle-button`,\n            inputId: inputId || `${id}-input`,\n          }),\n          [getItemId, id, inputId, labelId, menuId, toggleButtonId],\n        )\n\n        return elementIds\n      }\n\nfunction isAcceptedCharacterKey(key) {\n  return /^\\S{1}$/.test(key)\n}\n\nfunction getInitialState(props) {\n  const selectedItem = getInitialValue(\n    props,\n    'selectedItem',\n    dropdownDefaultStateValues,\n  )\n  const isOpen = getInitialValue(props, 'isOpen', dropdownDefaultStateValues)\n  const highlightedIndex = getInitialHighlightedIndex(props)\n  const inputValue = getInitialValue(\n    props,\n    'inputValue',\n    dropdownDefaultStateValues,\n  )\n\n  return {\n    highlightedIndex:\n      highlightedIndex < 0 && selectedItem && isOpen\n        ? props.items.findIndex(\n            item => props.itemToKey(item) === props.itemToKey(selectedItem),\n          )\n        : highlightedIndex,\n    isOpen,\n    selectedItem,\n    inputValue,\n  }\n}\n\nfunction getHighlightedIndexOnOpen(props, state, offset) {\n  const {\n    items,\n    initialHighlightedIndex,\n    defaultHighlightedIndex,\n    isItemDisabled,\n    itemToKey,\n  } = props\n  const {selectedItem, highlightedIndex} = state\n\n  if (items.length === 0) {\n    return -1\n  }\n\n  // initialHighlightedIndex will give value to highlightedIndex on initial state only.\n  if (\n    initialHighlightedIndex !== undefined &&\n    highlightedIndex === initialHighlightedIndex &&\n    !isItemDisabled(items[initialHighlightedIndex], initialHighlightedIndex)\n  ) {\n    return initialHighlightedIndex\n  }\n\n  if (\n    defaultHighlightedIndex !== undefined &&\n    !isItemDisabled(items[defaultHighlightedIndex], defaultHighlightedIndex)\n  ) {\n    return defaultHighlightedIndex\n  }\n\n  if (selectedItem) {\n    return items.findIndex(item => itemToKey(selectedItem) === itemToKey(item))\n  }\n\n  if (\n    offset < 0 &&\n    !isItemDisabled(items[items.length - 1], items.length - 1)\n  ) {\n    return items.length - 1\n  }\n\n  if (offset > 0 && !isItemDisabled(items[0], 0)) {\n    return 0\n  }\n\n  return -1\n}\n/**\n * Tracks mouse and touch events, such as mouseDown, touchMove and touchEnd.\n *\n * @param {Window} environment The environment to add the event listeners to, for instance window.\n * @param {() => void} handleBlur The function that is called if mouseDown or touchEnd occured outside the downshiftElements.\n * @param {Array<{current: HTMLElement}>} downshiftElementsRefs The refs for the elements that should not trigger a blur action from mouseDown or touchEnd.\n * @returns {{isMouseDown: boolean, isTouchMove: boolean, isTouchEnd: boolean}} The mouse and touch events information, if any of are happening.\n */\nfunction useMouseAndTouchTracker(\n  environment,\n  handleBlur,\n  downshiftRefs,\n) {\n  const mouseAndTouchTrackersRef = React.useRef({\n    isMouseDown: false,\n    isTouchMove: false,\n    isTouchEnd: false,\n  })\n\nconst getDownshiftElements = React.useCallback(\n  () => downshiftRefs.map(ref => ref.current),\n  [downshiftRefs],\n);\n\n  React.useEffect(() => {\n    if (isReactNative || !environment) {\n      return noop\n    }\n\n    function onMouseDown() {\n      mouseAndTouchTrackersRef.current.isTouchEnd = false // reset this one.\n      mouseAndTouchTrackersRef.current.isMouseDown = true\n    }\n    function onMouseUp(event) {\n      mouseAndTouchTrackersRef.current.isMouseDown = false\n\n      if (\n        !targetWithinDownshift(\n          event.target,\n          getDownshiftElements(),\n          environment,\n        )\n      ) {\n        handleBlur()\n      }\n    }\n    function onTouchStart() {\n      mouseAndTouchTrackersRef.current.isTouchEnd = false\n      mouseAndTouchTrackersRef.current.isTouchMove = false\n    }\n    function onTouchMove() {\n      mouseAndTouchTrackersRef.current.isTouchMove = true\n    }\n    function onTouchEnd(event) {\n      mouseAndTouchTrackersRef.current.isTouchEnd = true\n\n      if (\n        !mouseAndTouchTrackersRef.current.isTouchMove &&\n        !targetWithinDownshift(\n          event.target,\n          getDownshiftElements(),\n          environment,\n          false,\n        )\n      ) {\n        handleBlur()\n      }\n    }\n\n    environment.addEventListener('mousedown', onMouseDown)\n    environment.addEventListener('mouseup', onMouseUp)\n    environment.addEventListener('touchstart', onTouchStart)\n    environment.addEventListener('touchmove', onTouchMove)\n    environment.addEventListener('touchend', onTouchEnd)\n\n    return function cleanup() {\n      environment.removeEventListener('mousedown', onMouseDown)\n      environment.removeEventListener('mouseup', onMouseUp)\n      environment.removeEventListener('touchstart', onTouchStart)\n      environment.removeEventListener('touchmove', onTouchMove)\n      environment.removeEventListener('touchend', onTouchEnd)\n    }\n  }, [environment, getDownshiftElements, handleBlur])\n\n  return mouseAndTouchTrackersRef.current\n}\n\n/* istanbul ignore next */\n// eslint-disable-next-line import/no-mutable-exports\nlet useGetterPropsCalledChecker = () => noop\n/**\n * Custom hook that checks if getter props are called correctly.\n *\n * @param  {...any} propKeys Getter prop names to be handled.\n * @returns {Function} Setter function called inside getter props to set call information.\n */\n/* istanbul ignore next */\nif (process.env.NODE_ENV !== 'production') {\n  useGetterPropsCalledChecker = (...propKeys) => {\n    const getterPropsCalledRef = React.useRef(\n      propKeys.reduce((acc, propKey) => {\n        acc[propKey] = {}\n\n        return acc\n      }, {}),\n    )\n\n    React.useEffect(() => {\n      Object.keys(getterPropsCalledRef.current).forEach(propKey => {\n        const propCallInfo = getterPropsCalledRef.current[propKey]\n\n        if (!Object.keys(propCallInfo).length) {\n          // eslint-disable-next-line no-console\n          console.error(\n            `downshift: You forgot to call the ${propKey} getter function on your component / element.`,\n          )\n          return\n        }\n\n        const {suppressRefError, refKey, elementRef} = propCallInfo\n\n        if (suppressRefError) {\n          return\n        }\n\n        if (!elementRef?.current) {\n          // eslint-disable-next-line no-console\n          console.error(\n            `downshift: The ref prop \"${refKey}\" from ${propKey} was not applied correctly on your element.`,\n          )\n        }\n      })\n    }, [])\n\n    const setGetterPropCallInfo = React.useCallback(\n      (propKey, suppressRefError, refKey, elementRef) => {\n        getterPropsCalledRef.current[propKey] = {\n          suppressRefError,\n          refKey,\n          elementRef,\n        }\n      },\n      [],\n    )\n\n    return setGetterPropCallInfo\n  }\n}\n\nfunction useScrollIntoView({\n  highlightedIndex,\n  isOpen,\n  itemRefs,\n  getItemNodeFromIndex,\n  menuElement,\n  scrollIntoView: scrollIntoViewProp,\n}) {\n  // used not to scroll on highlight by mouse.\n  const shouldScrollRef = React.useRef(true)\n  // Scroll on highlighted item if change comes from keyboard.\n  useIsomorphicLayoutEffect(() => {\n    if (\n      highlightedIndex < 0 ||\n      !isOpen ||\n      !Object.keys(itemRefs.current).length\n    ) {\n      return\n    }\n\n    if (shouldScrollRef.current === false) {\n      shouldScrollRef.current = true\n    } else {\n      scrollIntoViewProp(getItemNodeFromIndex(highlightedIndex), menuElement)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [highlightedIndex])\n\n  return shouldScrollRef\n}\n\n// eslint-disable-next-line import/no-mutable-exports\nlet useControlPropsValidator = noop\n/* istanbul ignore next */\nif (process.env.NODE_ENV !== 'production') {\n  useControlPropsValidator = ({props, state}) => {\n    // used for checking when props are moving from controlled to uncontrolled.\n    const prevPropsRef = React.useRef(props)\n    const isInitialMount = useIsInitialMount()\n\n    React.useEffect(() => {\n      if (isInitialMount) {\n        return\n      }\n\n      validateControlledUnchanged(state, prevPropsRef.current, props)\n      prevPropsRef.current = props\n    }, [state, props, isInitialMount])\n  }\n}\n\n/**\n * Handles selection on Enter / Alt + ArrowUp. Closes the menu and resets the highlighted index, unless there is a highlighted.\n * In that case, selects the item and resets to defaults for open state and highlighted idex.\n * @param {Object} props The useCombobox props.\n * @param {number} highlightedIndex The index from the state.\n * @param {boolean} inputValue Also return the input value for state.\n * @returns The changes for the state.\n */\nfunction getChangesOnSelection(props, highlightedIndex, inputValue = true) {\n  const shouldSelect = props.items?.length && highlightedIndex >= 0\n\n  return {\n    isOpen: false,\n    highlightedIndex: -1,\n    ...(shouldSelect && {\n      selectedItem: props.items[highlightedIndex],\n      isOpen: getDefaultValue(props, 'isOpen', dropdownDefaultStateValues),\n      highlightedIndex: getDefaultValue(\n        props,\n        'highlightedIndex',\n        dropdownDefaultStateValues,\n      ),\n      ...(inputValue && {\n        inputValue: props.itemToString(props.items[highlightedIndex]),\n      }),\n    }),\n  }\n}\n\n/**\n * Check if a state is equal for dropdowns, by comparing isOpen, inputValue, highlightedIndex and selected item.\n * Used by useSelect and useCombobox.\n *\n * @param {Object} prevState\n * @param {Object} newState\n * @returns {boolean} Wheather the states are deeply equal.\n */\nfunction isDropdownsStateEqual(prevState, newState) {\n  return (\n    prevState.isOpen === newState.isOpen &&\n    prevState.inputValue === newState.inputValue &&\n    prevState.highlightedIndex === newState.highlightedIndex &&\n    prevState.selectedItem === newState.selectedItem\n  )\n}\n\n/**\n * Returns the new highlightedIndex based on the defaultHighlightedIndex prop, if it's not disabled.\n *\n * @param {Object} props Props from useCombobox or useSelect.\n * @returns {number} The highlighted index.\n */\nfunction getDefaultHighlightedIndex(props) {\n  const highlightedIndex = getDefaultValue(\n    props,\n    'highlightedIndex',\n    dropdownDefaultStateValues,\n  )\n  if (\n    highlightedIndex > -1 &&\n    props.isItemDisabled(props.items[highlightedIndex], highlightedIndex)\n  ) {\n    return -1\n  }\n\n  return highlightedIndex\n}\n\n/**\n * Returns the new highlightedIndex based on the initialHighlightedIndex prop, if not disabled.\n *\n * @param {Object} props Props from useCombobox or useSelect.\n * @returns {number} The highlighted index.\n */\nfunction getInitialHighlightedIndex(props) {\n  const highlightedIndex = getInitialValue(\n    props,\n    'highlightedIndex',\n    dropdownDefaultStateValues,\n  )\n\n  if (\n    highlightedIndex > -1 &&\n    props.isItemDisabled(props.items[highlightedIndex], highlightedIndex)\n  ) {\n    return -1\n  }\n\n  return highlightedIndex\n}\n\nexport {\n  useControlPropsValidator,\n  useScrollIntoView,\n  useGetterPropsCalledChecker,\n  useMouseAndTouchTracker,\n  getHighlightedIndexOnOpen,\n  isAcceptedCharacterKey,\n  useElementIds,\n  getChangesOnSelection,\n  isDropdownsStateEqual,\n  getDefaultHighlightedIndex,\n  getInitialState,\n}\n","import {getHighlightedIndexOnOpen, getDefaultHighlightedIndex} from './utils'\nimport {getDefaultValue} from './utils-ts'\nimport {dropdownDefaultStateValues} from './utils.dropdown'\n\nexport default function downshiftCommonReducer(\n  state,\n  props,\n  action,\n  stateChangeTypes,\n) {\n  const {type} = action\n  let changes\n\n  switch (type) {\n    case stateChangeTypes.ItemMouseMove:\n      changes = {\n        highlightedIndex: action.disabled ? -1 : action.index,\n      }\n\n      break\n    case stateChangeTypes.MenuMouseLeave:\n      changes = {\n        highlightedIndex: -1,\n      }\n\n      break\n    case stateChangeTypes.ToggleButtonClick:\n    case stateChangeTypes.FunctionToggleMenu:\n      changes = {\n        isOpen: !state.isOpen,\n        highlightedIndex: state.isOpen\n          ? -1\n          : getHighlightedIndexOnOpen(props, state, 0),\n      }\n\n      break\n    case stateChangeTypes.FunctionOpenMenu:\n      changes = {\n        isOpen: true,\n        highlightedIndex: getHighlightedIndexOnOpen(props, state, 0),\n      }\n\n      break\n    case stateChangeTypes.FunctionCloseMenu:\n      changes = {\n        isOpen: false,\n      }\n\n      break\n    case stateChangeTypes.FunctionSetHighlightedIndex:\n      changes = {\n        highlightedIndex: props.isItemDisabled(\n          props.items[action.highlightedIndex],\n          action.highlightedIndex,\n        )\n          ? -1\n          : action.highlightedIndex,\n      }\n\n      break\n    case stateChangeTypes.FunctionSetInputValue:\n      changes = {\n        inputValue: action.inputValue,\n      }\n\n      break\n    case stateChangeTypes.FunctionReset:\n      changes = {\n        highlightedIndex: getDefaultHighlightedIndex(props),\n        isOpen: getDefaultValue(props, 'isOpen', dropdownDefaultStateValues),\n        selectedItem: getDefaultValue(\n          props,\n          'selectedItem',\n          dropdownDefaultStateValues,\n        ),\n        inputValue: getDefaultValue(\n          props,\n          'inputValue',\n          dropdownDefaultStateValues,\n        ),\n      }\n\n      break\n    default:\n      throw new Error('Reducer called without proper action type.')\n  }\n\n  return {\n    ...state,\n    ...changes,\n  }\n}\n/* eslint-enable complexity */\n","import PropTypes from 'prop-types'\nimport {dropdownPropTypes} from '../../utils.dropdown'\n\nexport const propTypes = {\n  ...dropdownPropTypes,\n  items: PropTypes.array.isRequired,\n  isItemDisabled: PropTypes.func,\n}\n","import {dropdownDefaultProps} from '../../utils.dropdown'\n\nexport const defaultProps = {\n  ...dropdownDefaultProps,\n  isItemDisabled() {\n    return false\n  },\n}\n","type GetItemIndexByCharacterKeyOptions<Item> = {\n  keysSoFar: string\n  highlightedIndex: number\n  items: Item[]\n  itemToString(item: Item | null): string\n  isItemDisabled(item: Item, index: number): boolean\n}\n\nexport function getItemIndexByCharacterKey<Item>({\n  keysSoFar,\n  highlightedIndex,\n  items,\n  itemToString,\n  isItemDisabled,\n}: GetItemIndexByCharacterKeyOptions<Item>) {\n  const lowerCasedKeysSoFar = keysSoFar.toLowerCase()\n\n  for (let index = 0; index < items.length; index++) {\n    // if we already have a search query in progress, we also consider the current highlighted item.\n    const offsetIndex =\n      (index + highlightedIndex + (keysSoFar.length < 2 ? 1 : 0)) % items.length\n\n    const item = items[offsetIndex]\n\n    if (\n      item !== undefined &&\n      itemToString(item).toLowerCase().startsWith(lowerCasedKeysSoFar) &&\n      !isItemDisabled(item, offsetIndex)\n    ) {\n      return offsetIndex\n    }\n  }\n\n  return highlightedIndex\n}\n","import productionEnum from '../../productionEnum.macro'\n\nexport const ToggleButtonClick = productionEnum('__togglebutton_click__')\nexport const ToggleButtonKeyDownArrowDown = productionEnum(\n  '__togglebutton_keydown_arrow_down__',\n)\nexport const ToggleButtonKeyDownArrowUp = productionEnum(\n  '__togglebutton_keydown_arrow_up__',\n)\nexport const ToggleButtonKeyDownCharacter = productionEnum(\n  '__togglebutton_keydown_character__',\n)\nexport const ToggleButtonKeyDownEscape = productionEnum(\n  '__togglebutton_keydown_escape__',\n)\nexport const ToggleButtonKeyDownHome = productionEnum(\n  '__togglebutton_keydown_home__',\n)\nexport const ToggleButtonKeyDownEnd = productionEnum(\n  '__togglebutton_keydown_end__',\n)\nexport const ToggleButtonKeyDownEnter = productionEnum(\n  '__togglebutton_keydown_enter__',\n)\nexport const ToggleButtonKeyDownSpaceButton = productionEnum(\n  '__togglebutton_keydown_space_button__',\n)\nexport const ToggleButtonKeyDownPageUp = productionEnum(\n  '__togglebutton_keydown_page_up__',\n)\nexport const ToggleButtonKeyDownPageDown = productionEnum(\n  '__togglebutton_keydown_page_down__',\n)\nexport const ToggleButtonBlur = productionEnum('__togglebutton_blur__')\n\nexport const MenuMouseLeave = productionEnum('__menu_mouse_leave__')\n\nexport const ItemMouseMove = productionEnum('__item_mouse_move__')\nexport const ItemClick = productionEnum('__item_click__')\n\nexport const FunctionToggleMenu = productionEnum('__function_toggle_menu__')\nexport const FunctionOpenMenu = productionEnum('__function_open_menu__')\nexport const FunctionCloseMenu = productionEnum('__function_close_menu__')\nexport const FunctionSetHighlightedIndex = productionEnum(\n  '__function_set_highlighted_index__',\n)\nexport const FunctionSelectItem = productionEnum('__function_select_item__')\nexport const FunctionSetInputValue = productionEnum(\n  '__function_set_input_value__',\n)\nexport const FunctionReset = productionEnum('__function_reset__')\n","import {getNonDisabledIndex, getHighlightedIndex} from '../../utils'\nimport {\n  getHighlightedIndexOnOpen,\n  getChangesOnSelection,\n  getDefaultHighlightedIndex,\n} from '../utils'\nimport {getDefaultValue} from '../utils-ts'\nimport commonReducer from '../reducer'\nimport {defaultStateValues} from '../utils.dropdown/defaultStateValues'\nimport {getItemIndexByCharacterKey} from './utils'\nimport * as stateChangeTypes from './stateChangeTypes'\n\n/* eslint-disable complexity */\nexport default function downshiftSelectReducer(state, props, action) {\n  const {type, altKey} = action\n  let changes\n\n  switch (type) {\n    case stateChangeTypes.ItemClick:\n      changes = {\n        isOpen: getDefaultValue(props, 'isOpen', defaultStateValues),\n        highlightedIndex: getDefaultHighlightedIndex(props),\n        selectedItem: props.items[action.index],\n      }\n\n      break\n    case stateChangeTypes.ToggleButtonKeyDownCharacter:\n      {\n        const lowercasedKey = action.key\n        const inputValue = `${state.inputValue}${lowercasedKey}`\n        const prevHighlightedIndex =\n          !state.isOpen && state.selectedItem\n            ? props.items.findIndex(\n                item =>\n                  props.itemToKey(item) === props.itemToKey(state.selectedItem),\n              )\n            : state.highlightedIndex\n        const highlightedIndex = getItemIndexByCharacterKey({\n          keysSoFar: inputValue,\n          highlightedIndex: prevHighlightedIndex,\n          items: props.items,\n          itemToString: props.itemToString,\n          isItemDisabled: props.isItemDisabled,\n        })\n\n        changes = {\n          inputValue,\n          highlightedIndex,\n          isOpen: true,\n        }\n      }\n\n      break\n    case stateChangeTypes.ToggleButtonKeyDownArrowDown:\n      {\n        const highlightedIndex = state.isOpen\n          ? getHighlightedIndex(\n              state.highlightedIndex,\n              1,\n              props.items,\n              props.isItemDisabled,\n            )\n          : altKey && state.selectedItem == null\n          ? -1\n          : getHighlightedIndexOnOpen(props, state, 1)\n        changes = {\n          highlightedIndex,\n          isOpen: true,\n        }\n      }\n\n      break\n    case stateChangeTypes.ToggleButtonKeyDownArrowUp:\n      if (state.isOpen && altKey) {\n        changes = getChangesOnSelection(props, state.highlightedIndex, false)\n      } else {\n        const highlightedIndex = state.isOpen\n          ? getHighlightedIndex(\n              state.highlightedIndex,\n              -1,\n              props.items,\n              props.isItemDisabled,\n            )\n          : getHighlightedIndexOnOpen(props, state, -1)\n        changes = {\n          highlightedIndex,\n          isOpen: true,\n        }\n      }\n\n      break\n    // only triggered when menu is open.\n    case stateChangeTypes.ToggleButtonKeyDownEnter:\n    case stateChangeTypes.ToggleButtonKeyDownSpaceButton:\n      changes = getChangesOnSelection(props, state.highlightedIndex, false)\n\n      break\n    case stateChangeTypes.ToggleButtonKeyDownHome:\n      changes = {\n        highlightedIndex: getNonDisabledIndex(\n          0,\n          false,\n          props.items,\n          props.isItemDisabled,\n        ),\n        isOpen: true,\n      }\n\n      break\n    case stateChangeTypes.ToggleButtonKeyDownEnd:\n      changes = {\n        highlightedIndex: getNonDisabledIndex(\n          props.items.length - 1,\n          true,\n          props.items,\n          props.isItemDisabled,\n        ),\n        isOpen: true,\n      }\n\n      break\n    case stateChangeTypes.ToggleButtonKeyDownPageUp:\n      changes = {\n        highlightedIndex: getHighlightedIndex(\n          state.highlightedIndex,\n          -10,\n          props.items,\n          props.isItemDisabled,\n        ),\n      }\n      break\n    case stateChangeTypes.ToggleButtonKeyDownPageDown:\n      changes = {\n        highlightedIndex: getHighlightedIndex(\n          state.highlightedIndex,\n          10,\n          props.items,\n          props.isItemDisabled,\n        ),\n      }\n      break\n    case stateChangeTypes.ToggleButtonKeyDownEscape:\n      changes = {\n        isOpen: false,\n        highlightedIndex: -1,\n      }\n\n      break\n    case stateChangeTypes.ToggleButtonBlur:\n      changes = {\n        isOpen: false,\n        highlightedIndex: -1,\n        ...(state.highlightedIndex >= 0 &&\n          props.items?.length && {\n            selectedItem: props.items[state.highlightedIndex],\n          }),\n      }\n\n      break\n    case stateChangeTypes.FunctionSelectItem:\n      changes = {\n        selectedItem: action.selectedItem,\n      }\n\n      break\n    default:\n      return commonReducer(state, props, action, stateChangeTypes)\n  }\n\n  return {\n    ...state,\n    ...changes,\n  }\n}\n/* eslint-enable complexity */\n","import {useRef, useEffect, useCallback, useMemo} from 'react'\nimport {useLatestRef, validatePropTypes} from '../../utils-ts'\nimport {\n  callAllEventHandlers,\n  handleRefs,\n  debounce,\n  normalizeArrowKey,\n} from '../../utils'\nimport {\n  isAcceptedCharacterKey,\n  getInitialState,\n  useGetterPropsCalledChecker,\n  useScrollIntoView,\n  useControlPropsValidator,\n  useElementIds,\n  useMouseAndTouchTracker,\n  isDropdownsStateEqual,\n} from '../utils'\nimport {\n  useControlledReducer,\n  getInitialValue,\n  getItemAndIndex,\n  useA11yMessageStatus,\n} from '../utils-ts'\nimport {defaultStateValues} from '../utils.dropdown/defaultStateValues'\nimport {isReactNative, isReactNativeWeb} from '../../is.macro'\nimport downshiftSelectReducer from './reducer'\nimport {defaultProps, propTypes} from './utils'\nimport * as stateChangeTypes from './stateChangeTypes'\n\nuseSelect.stateChangeTypes = stateChangeTypes\n\nfunction useSelect(userProps = {}) {\n  validatePropTypes(userProps, useSelect, propTypes)\n  // Props defaults and destructuring.\n  const props = {\n    ...defaultProps,\n    ...userProps,\n  }\n  const {scrollIntoView, environment, getA11yStatusMessage} = props\n  // Initial state depending on controlled props.\n  const [state, dispatch] = useControlledReducer(\n    downshiftSelectReducer,\n    props,\n    getInitialState,\n    isDropdownsStateEqual,\n  )\n  const {isOpen, highlightedIndex, selectedItem, inputValue} = state\n  // Element efs.\n  const toggleButtonRef = useRef(null)\n  const menuRef = useRef(null)\n  const itemRefs = useRef({})\n\n  // used to keep the inputValue clearTimeout object between renders.\n  const clearTimeoutRef = useRef(null)\n  // prevent id re-generation between renders.\n  const elementIds = useElementIds(props)\n  // utility callback to get item element.\n  const latest = useLatestRef({\n    state,\n    props,\n  })\n\n  // Some utils.\n  const getItemNodeFromIndex = useCallback(\n    index => itemRefs.current[elementIds.getItemId(index)],\n    [elementIds],\n  )\n\n  // Effects.\n  // Adds an a11y aria live status message if getA11yStatusMessage is passed.\n  useA11yMessageStatus(\n    getA11yStatusMessage,\n    state,\n    [isOpen, highlightedIndex, selectedItem, inputValue],\n    environment,\n  )\n  // Scroll on highlighted item if change comes from keyboard.\n  const shouldScrollRef = useScrollIntoView({\n    menuElement: menuRef.current,\n    highlightedIndex,\n    isOpen,\n    itemRefs,\n    scrollIntoView,\n    getItemNodeFromIndex,\n  })\n  // Sets cleanup for the keysSoFar callback, debounded after 500ms.\n  useEffect(() => {\n    // init the clean function here as we need access to dispatch.\n    clearTimeoutRef.current = debounce(outerDispatch => {\n      outerDispatch({\n        type: stateChangeTypes.FunctionSetInputValue,\n        inputValue: '',\n      })\n    }, 500)\n\n    // Cancel any pending debounced calls on mount\n    return () => {\n      clearTimeoutRef.current.cancel()\n    }\n  }, [])\n  // Invokes the keysSoFar callback set up above.\n  useEffect(() => {\n    if (!inputValue) {\n      return\n    }\n\n    clearTimeoutRef.current(dispatch)\n  }, [dispatch, inputValue])\n\n  useControlPropsValidator({\n    props,\n    state,\n  })\n  // Focus the toggle button on first render if required.\n  useEffect(() => {\n    const focusOnOpen = getInitialValue(props, 'isOpen', defaultStateValues)\n\n    if (focusOnOpen && toggleButtonRef.current) {\n      toggleButtonRef.current.focus()\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const handleBlurInTracker = useCallback(\n    function handleBlur() {\n      if (latest.current.state.isOpen) {\n        dispatch({\n          type: stateChangeTypes.ToggleButtonBlur,\n        })\n      }\n    },\n    [dispatch, latest],\n  )\n  const downshiftRefs = useMemo(() => [menuRef, toggleButtonRef], [])\n  const mouseAndTouchTrackers = useMouseAndTouchTracker(\n    environment,\n    handleBlurInTracker,\n    downshiftRefs,\n  )\n  const setGetterPropCallInfo = useGetterPropsCalledChecker(\n    'getMenuProps',\n    'getToggleButtonProps',\n  )\n  // Reset itemRefs on close.\n  useEffect(() => {\n    if (!isOpen) {\n      itemRefs.current = {}\n    }\n  }, [isOpen])\n\n  // Event handler functions.\n  const toggleButtonKeyDownHandlers = useMemo(\n    () => ({\n      ArrowDown(event) {\n        event.preventDefault()\n\n        dispatch({\n          type: stateChangeTypes.ToggleButtonKeyDownArrowDown,\n          altKey: event.altKey,\n        })\n      },\n      ArrowUp(event) {\n        event.preventDefault()\n\n        dispatch({\n          type: stateChangeTypes.ToggleButtonKeyDownArrowUp,\n          altKey: event.altKey,\n        })\n      },\n      Home(event) {\n        event.preventDefault()\n\n        dispatch({\n          type: stateChangeTypes.ToggleButtonKeyDownHome,\n        })\n      },\n      End(event) {\n        event.preventDefault()\n\n        dispatch({\n          type: stateChangeTypes.ToggleButtonKeyDownEnd,\n        })\n      },\n      Escape() {\n        if (latest.current.state.isOpen) {\n          dispatch({\n            type: stateChangeTypes.ToggleButtonKeyDownEscape,\n          })\n        }\n      },\n      Enter(event) {\n        event.preventDefault()\n\n        dispatch({\n          type: latest.current.state.isOpen\n            ? stateChangeTypes.ToggleButtonKeyDownEnter\n            : stateChangeTypes.ToggleButtonClick,\n        })\n      },\n      PageUp(event) {\n        if (latest.current.state.isOpen) {\n          event.preventDefault()\n\n          dispatch({\n            type: stateChangeTypes.ToggleButtonKeyDownPageUp,\n          })\n        }\n      },\n      PageDown(event) {\n        if (latest.current.state.isOpen) {\n          event.preventDefault()\n\n          dispatch({\n            type: stateChangeTypes.ToggleButtonKeyDownPageDown,\n          })\n        }\n      },\n      ' '(event) {\n        event.preventDefault()\n\n        const currentState = latest.current.state\n\n        if (!currentState.isOpen) {\n          dispatch({type: stateChangeTypes.ToggleButtonClick})\n          return\n        }\n\n        if (currentState.inputValue) {\n          dispatch({\n            type: stateChangeTypes.ToggleButtonKeyDownCharacter,\n            key: ' ',\n          })\n        } else {\n          dispatch({type: stateChangeTypes.ToggleButtonKeyDownSpaceButton})\n        }\n      },\n    }),\n    [dispatch, latest],\n  )\n\n  // Action functions.\n  const toggleMenu = useCallback(() => {\n    dispatch({\n      type: stateChangeTypes.FunctionToggleMenu,\n    })\n  }, [dispatch])\n  const closeMenu = useCallback(() => {\n    dispatch({\n      type: stateChangeTypes.FunctionCloseMenu,\n    })\n  }, [dispatch])\n  const openMenu = useCallback(() => {\n    dispatch({\n      type: stateChangeTypes.FunctionOpenMenu,\n    })\n  }, [dispatch])\n  const setHighlightedIndex = useCallback(\n    newHighlightedIndex => {\n      dispatch({\n        type: stateChangeTypes.FunctionSetHighlightedIndex,\n        highlightedIndex: newHighlightedIndex,\n      })\n    },\n    [dispatch],\n  )\n  const selectItem = useCallback(\n    newSelectedItem => {\n      dispatch({\n        type: stateChangeTypes.FunctionSelectItem,\n        selectedItem: newSelectedItem,\n      })\n    },\n    [dispatch],\n  )\n  const reset = useCallback(() => {\n    dispatch({\n      type: stateChangeTypes.FunctionReset,\n    })\n  }, [dispatch])\n  const setInputValue = useCallback(\n    newInputValue => {\n      dispatch({\n        type: stateChangeTypes.FunctionSetInputValue,\n        inputValue: newInputValue,\n      })\n    },\n    [dispatch],\n  )\n  // Getter functions.\n  const getLabelProps = useCallback(\n    ({onClick, ...labelProps} = {}) => {\n      const labelHandleClick = () => {\n        toggleButtonRef.current?.focus()\n      }\n\n      return {\n        id: elementIds.labelId,\n        htmlFor: elementIds.toggleButtonId,\n        onClick: callAllEventHandlers(onClick, labelHandleClick),\n        ...labelProps,\n      }\n    },\n    [elementIds],\n  )\n  const getMenuProps = useCallback(\n    (\n      {onMouseLeave, refKey = 'ref', ref, ...rest} = {},\n      {suppressRefError = false} = {},\n    ) => {\n      const menuHandleMouseLeave = () => {\n        dispatch({\n          type: stateChangeTypes.MenuMouseLeave,\n        })\n      }\n\n      setGetterPropCallInfo('getMenuProps', suppressRefError, refKey, menuRef)\n\n      return {\n        [refKey]: handleRefs(ref, menuNode => {\n          menuRef.current = menuNode\n        }),\n        id: elementIds.menuId,\n        role: 'listbox',\n        'aria-labelledby':\n          rest && rest['aria-label'] ? undefined : `${elementIds.labelId}`,\n        onMouseLeave: callAllEventHandlers(onMouseLeave, menuHandleMouseLeave),\n        ...rest,\n      }\n    },\n    [dispatch, setGetterPropCallInfo, elementIds],\n  )\n  const getToggleButtonProps = useCallback(\n    (\n      {onBlur, onClick, onPress, onKeyDown, refKey = 'ref', ref, ...rest} = {},\n      {suppressRefError = false} = {},\n    ) => {\n      const latestState = latest.current.state\n      const toggleButtonHandleClick = () => {\n        dispatch({\n          type: stateChangeTypes.ToggleButtonClick,\n        })\n      }\n      const toggleButtonHandleBlur = () => {\n        if (latestState.isOpen && !mouseAndTouchTrackers.isMouseDown) {\n          dispatch({\n            type: stateChangeTypes.ToggleButtonBlur,\n          })\n        }\n      }\n      const toggleButtonHandleKeyDown = event => {\n        const key = normalizeArrowKey(event)\n        if (key && toggleButtonKeyDownHandlers[key]) {\n          toggleButtonKeyDownHandlers[key](event)\n        } else if (isAcceptedCharacterKey(key)) {\n          dispatch({\n            type: stateChangeTypes.ToggleButtonKeyDownCharacter,\n            key,\n          })\n        }\n      }\n      const toggleProps = {\n        [refKey]: handleRefs(ref, toggleButtonNode => {\n          toggleButtonRef.current = toggleButtonNode\n        }),\n        'aria-activedescendant':\n          latestState.isOpen && latestState.highlightedIndex > -1\n            ? elementIds.getItemId(latestState.highlightedIndex)\n            : '',\n        'aria-controls': elementIds.menuId,\n        'aria-expanded': latest.current.state.isOpen,\n        'aria-haspopup': 'listbox',\n        'aria-labelledby':\n          rest && rest['aria-label'] ? undefined : `${elementIds.labelId}`,\n        id: elementIds.toggleButtonId,\n        role: 'combobox',\n        tabIndex: 0,\n        onBlur: callAllEventHandlers(onBlur, toggleButtonHandleBlur),\n        ...rest,\n      }\n\n      if (!rest.disabled) {\n        /* istanbul ignore if (react-native) */\n        if (isReactNative || isReactNativeWeb) {\n          toggleProps.onPress = callAllEventHandlers(\n            onPress,\n            toggleButtonHandleClick,\n          )\n        } else {\n          toggleProps.onClick = callAllEventHandlers(\n            onClick,\n            toggleButtonHandleClick,\n          )\n          toggleProps.onKeyDown = callAllEventHandlers(\n            onKeyDown,\n            toggleButtonHandleKeyDown,\n          )\n        }\n      }\n\n      setGetterPropCallInfo(\n        'getToggleButtonProps',\n        suppressRefError,\n        refKey,\n        toggleButtonRef,\n      )\n\n      return toggleProps\n    },\n    [\n      dispatch,\n      elementIds,\n      latest,\n      mouseAndTouchTrackers,\n      setGetterPropCallInfo,\n      toggleButtonKeyDownHandlers,\n    ],\n  )\n  const getItemProps = useCallback(\n    ({\n      item: itemProp,\n      index: indexProp,\n      onMouseMove,\n      onClick,\n      onMouseDown,\n      onPress,\n      refKey = 'ref',\n      disabled: disabledProp,\n      ref,\n      ...rest\n    } = {}) => {\n      if (disabledProp !== undefined) {\n        console.warn(\n          'Passing \"disabled\" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useSelect.',\n        )\n      }\n\n      const {state: latestState, props: latestProps} = latest.current\n      const [item, index] = getItemAndIndex(\n        itemProp,\n        indexProp,\n        latestProps.items,\n        'Pass either item or index to getItemProps!',\n      )\n      const disabled = latestProps.isItemDisabled(item, index)\n\n      const itemHandleMouseMove = () => {\n        if (\n          mouseAndTouchTrackers.isTouchEnd ||\n          index === latestState.highlightedIndex\n        ) {\n          return\n        }\n        shouldScrollRef.current = false\n        dispatch({\n          type: stateChangeTypes.ItemMouseMove,\n          index,\n          disabled,\n        })\n      }\n      const itemHandleClick = () => {\n        dispatch({\n          type: stateChangeTypes.ItemClick,\n          index,\n        })\n      }\n      const itemHandleMouseDown = e => e.preventDefault() // keep focus on the toggle after item click select.\n\n      const itemProps = {\n        [refKey]: handleRefs(ref, itemNode => {\n          if (itemNode) {\n            itemRefs.current[elementIds.getItemId(index)] = itemNode\n          }\n        }),\n        'aria-disabled': disabled,\n        'aria-selected': item === latestState.selectedItem,\n        id: elementIds.getItemId(index),\n        role: 'option',\n        ...rest,\n      }\n\n      if (!disabled) {\n        /* istanbul ignore next (react-native) */\n        if (isReactNative || isReactNativeWeb) {\n          itemProps.onPress = callAllEventHandlers(onPress, itemHandleClick)\n        } else {\n          itemProps.onClick = callAllEventHandlers(onClick, itemHandleClick)\n        }\n      }\n\n      itemProps.onMouseMove = callAllEventHandlers(\n        onMouseMove,\n        itemHandleMouseMove,\n      )\n      itemProps.onMouseDown = callAllEventHandlers(\n        onMouseDown,\n        itemHandleMouseDown,\n      )\n\n      return itemProps\n    },\n    [latest, elementIds, mouseAndTouchTrackers, shouldScrollRef, dispatch],\n  )\n\n  return {\n    // prop getters.\n    getToggleButtonProps,\n    getLabelProps,\n    getMenuProps,\n    getItemProps,\n    // actions.\n    toggleMenu,\n    openMenu,\n    closeMenu,\n    setHighlightedIndex,\n    selectItem,\n    reset,\n    setInputValue,\n    // state.\n    highlightedIndex,\n    isOpen,\n    selectedItem,\n    inputValue,\n  }\n}\n\nexport default useSelect\n","import productionEnum from '../../productionEnum.macro'\n\nexport const InputKeyDownArrowDown = productionEnum(\n  '__input_keydown_arrow_down__',\n)\nexport const InputKeyDownArrowUp = productionEnum('__input_keydown_arrow_up__')\nexport const InputKeyDownEscape = productionEnum('__input_keydown_escape__')\nexport const InputKeyDownHome = productionEnum('__input_keydown_home__')\nexport const InputKeyDownEnd = productionEnum('__input_keydown_end__')\nexport const InputKeyDownPageUp = productionEnum('__input_keydown_page_up__')\nexport const InputKeyDownPageDown = productionEnum(\n  '__input_keydown_page_down__',\n)\nexport const InputKeyDownEnter = productionEnum('__input_keydown_enter__')\nexport const InputChange = productionEnum('__input_change__')\nexport const InputBlur = productionEnum('__input_blur__')\nexport const InputClick = productionEnum('__input_click__')\n\nexport const MenuMouseLeave = productionEnum('__menu_mouse_leave__')\n\nexport const ItemMouseMove = productionEnum('__item_mouse_move__')\nexport const ItemClick = productionEnum('__item_click__')\n\nexport const ToggleButtonClick = productionEnum('__togglebutton_click__')\n\nexport const FunctionToggleMenu = productionEnum('__function_toggle_menu__')\nexport const FunctionOpenMenu = productionEnum('__function_open_menu__')\nexport const FunctionCloseMenu = productionEnum('__function_close_menu__')\nexport const FunctionSetHighlightedIndex = productionEnum(\n  '__function_set_highlighted_index__',\n)\nexport const FunctionSelectItem = productionEnum('__function_select_item__')\nexport const FunctionSetInputValue = productionEnum(\n  '__function_set_input_value__',\n)\nexport const FunctionReset = productionEnum('__function_reset__')\nexport const ControlledPropUpdatedSelectedItem = productionEnum(\n  '__controlled_prop_updated_selected_item__',\n)\n","import {useRef, useEffect} from 'react'\nimport PropTypes from 'prop-types'\nimport {isControlledProp} from '../../utils'\nimport {getState} from '../../utils-ts'\nimport {getInitialState as getInitialStateCommon} from '../utils'\nimport {dropdownDefaultProps, dropdownPropTypes} from '../utils.dropdown'\nimport {useIsInitialMount, useEnhancedReducer} from '../utils-ts'\nimport {ControlledPropUpdatedSelectedItem} from './stateChangeTypes'\n\nexport function getInitialState(props) {\n  const initialState = getInitialStateCommon(props)\n  const {selectedItem} = initialState\n  let {inputValue} = initialState\n\n  if (\n    inputValue === '' &&\n    selectedItem &&\n    props.defaultInputValue === undefined &&\n    props.initialInputValue === undefined &&\n    props.inputValue === undefined\n  ) {\n    inputValue = props.itemToString(selectedItem)\n  }\n\n  return {\n    ...initialState,\n    inputValue,\n  }\n}\n\nexport const propTypes = {\n  ...dropdownPropTypes,\n  items: PropTypes.array.isRequired,\n  isItemDisabled: PropTypes.func,\n  inputValue: PropTypes.string,\n  defaultInputValue: PropTypes.string,\n  initialInputValue: PropTypes.string,\n  inputId: PropTypes.string,\n  onInputValueChange: PropTypes.func,\n}\n\n/**\n * The useCombobox version of useControlledReducer, which also\n * checks if the controlled prop selectedItem changed between\n * renders. If so, it will also update inputValue with its\n * string equivalent. It uses the common useEnhancedReducer to\n * compute the rest of the state.\n *\n * @param {Function} reducer Reducer function from downshift.\n * @param {Object} props The hook props, also passed to createInitialState.\n * @param {Function} createInitialState Function that returns the initial state.\n * @param {Function} isStateEqual Function that checks if a previous state is equal to the next.\n * @returns {Array} An array with the state and an action dispatcher.\n */\nexport function useControlledReducer(\n  reducer,\n  props,\n  createInitialState,\n  isStateEqual,\n) {\n  const previousSelectedItemRef = useRef()\n  const [state, dispatch] = useEnhancedReducer(\n    reducer,\n    props,\n    createInitialState,\n    isStateEqual,\n  )\n  const isInitialMount = useIsInitialMount()\n\n  useEffect(() => {\n    if (!isControlledProp(props, 'selectedItem')) {\n      return\n    }\n\n    if (\n      !isInitialMount // on first mount we already have the proper inputValue for a initial selected item.\n    ) {\n      const shouldCallDispatch =\n        props.itemToKey(props.selectedItem) !==\n        props.itemToKey(previousSelectedItemRef.current)\n\n      if (shouldCallDispatch) {\n        dispatch({\n          type: ControlledPropUpdatedSelectedItem,\n          inputValue: props.itemToString(props.selectedItem),\n        })\n      }\n    }\n\n    previousSelectedItemRef.current =\n      state.selectedItem === previousSelectedItemRef.current\n        ? props.selectedItem\n        : state.selectedItem\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [state.selectedItem, props.selectedItem])\n\n  return [getState(state, props), dispatch]\n}\n\nexport const defaultProps = {\n  ...dropdownDefaultProps,\n  isItemDisabled() {\n    return false\n  },\n}\n","import {\n  getHighlightedIndexOnOpen,\n  getChangesOnSelection,\n  getDefaultHighlightedIndex,\n} from '../utils'\nimport {getDefaultValue} from '../utils-ts'\nimport {getHighlightedIndex, getNonDisabledIndex} from '../../utils'\nimport commonReducer from '../reducer'\nimport {dropdownDefaultStateValues} from '../utils.dropdown'\nimport * as stateChangeTypes from './stateChangeTypes'\n\n/* eslint-disable complexity */\nexport default function downshiftUseComboboxReducer(state, props, action) {\n  const {type, altKey} = action\n  let changes\n\n  switch (type) {\n    case stateChangeTypes.ItemClick:\n      changes = {\n        isOpen: getDefaultValue(props, 'isOpen', dropdownDefaultStateValues),\n        highlightedIndex: getDefaultHighlightedIndex(props),\n        selectedItem: props.items[action.index],\n        inputValue: props.itemToString(props.items[action.index]),\n      }\n\n      break\n    case stateChangeTypes.InputKeyDownArrowDown:\n      if (state.isOpen) {\n        changes = {\n          highlightedIndex: getHighlightedIndex(\n            state.highlightedIndex,\n            1,\n            props.items,\n            props.isItemDisabled,\n            true,\n          ),\n        }\n      } else {\n        changes = {\n          highlightedIndex:\n            altKey && state.selectedItem == null\n              ? -1\n              : getHighlightedIndexOnOpen(props, state, 1),\n          isOpen: props.items.length >= 0,\n        }\n      }\n      break\n    case stateChangeTypes.InputKeyDownArrowUp:\n      if (state.isOpen) {\n        if (altKey) {\n          changes = getChangesOnSelection(props, state.highlightedIndex)\n        } else {\n          changes = {\n            highlightedIndex: getHighlightedIndex(\n              state.highlightedIndex,\n              -1,\n              props.items,\n              props.isItemDisabled,\n              true,\n            ),\n          }\n        }\n      } else {\n        changes = {\n          highlightedIndex: getHighlightedIndexOnOpen(props, state, -1),\n          isOpen: props.items.length >= 0,\n        }\n      }\n      break\n    case stateChangeTypes.InputKeyDownEnter:\n      changes = getChangesOnSelection(props, state.highlightedIndex)\n\n      break\n    case stateChangeTypes.InputKeyDownEscape:\n      changes = {\n        isOpen: false,\n        highlightedIndex: -1,\n        ...(!state.isOpen && {\n          selectedItem: null,\n          inputValue: '',\n        }),\n      }\n      break\n    case stateChangeTypes.InputKeyDownPageUp:\n      changes = {\n        highlightedIndex: getHighlightedIndex(\n          state.highlightedIndex,\n          -10,\n          props.items,\n          props.isItemDisabled,\n          true,\n        ),\n      }\n      break\n    case stateChangeTypes.InputKeyDownPageDown:\n      changes = {\n        highlightedIndex: getHighlightedIndex(\n          state.highlightedIndex,\n          10,\n          props.items,\n          props.isItemDisabled,\n          true,\n        ),\n      }\n      break\n    case stateChangeTypes.InputKeyDownHome:\n      changes = {\n        highlightedIndex: getNonDisabledIndex(\n          0,\n          false,\n          props.items,\n          props.isItemDisabled,\n        ),\n      }\n      break\n    case stateChangeTypes.InputKeyDownEnd:\n      changes = {\n        highlightedIndex: getNonDisabledIndex(\n          props.items.length - 1,\n          true,\n          props.items,\n          props.isItemDisabled,\n        ),\n      }\n      break\n    case stateChangeTypes.InputBlur:\n      changes = {\n        isOpen: false,\n        highlightedIndex: -1,\n        ...(state.highlightedIndex >= 0 &&\n          props.items?.length &&\n          action.selectItem && {\n            selectedItem: props.items[state.highlightedIndex],\n            inputValue: props.itemToString(props.items[state.highlightedIndex]),\n          }),\n      }\n      break\n    case stateChangeTypes.InputChange:\n      changes = {\n        isOpen: true,\n        highlightedIndex: getDefaultHighlightedIndex(props),\n        inputValue: action.inputValue,\n      }\n      break\n    case stateChangeTypes.InputClick:\n      changes = {\n        isOpen: !state.isOpen,\n        highlightedIndex: state.isOpen\n          ? -1\n          : getHighlightedIndexOnOpen(props, state, 0),\n      }\n      break\n    case stateChangeTypes.FunctionSelectItem:\n      changes = {\n        selectedItem: action.selectedItem,\n        inputValue: props.itemToString(action.selectedItem),\n      }\n      break\n    case stateChangeTypes.ControlledPropUpdatedSelectedItem:\n      changes = {\n        inputValue: action.inputValue,\n      }\n      break\n    default:\n      return commonReducer(state, props, action, stateChangeTypes)\n  }\n\n  return {\n    ...state,\n    ...changes,\n  }\n}\n/* eslint-enable complexity */\n","import {useRef, useEffect, useCallback, useMemo} from 'react'\nimport {isPreact, isReactNative, isReactNativeWeb} from '../../is.macro'\nimport {handleRefs, normalizeArrowKey, callAllEventHandlers} from '../../utils'\nimport {useLatestRef, validatePropTypes} from '../../utils-ts'\nimport {\n  useMouseAndTouchTracker,\n  useGetterPropsCalledChecker,\n  useScrollIntoView,\n  useControlPropsValidator,\n  useElementIds,\n  isDropdownsStateEqual,\n} from '../utils'\nimport {\n  getItemAndIndex,\n  getInitialValue,\n  useIsInitialMount,\n  useA11yMessageStatus,\n} from '../utils-ts'\nimport {defaultStateValues} from '../utils.dropdown/defaultStateValues'\nimport {\n  getInitialState,\n  defaultProps,\n  useControlledReducer,\n  propTypes,\n} from './utils'\nimport downshiftUseComboboxReducer from './reducer'\nimport * as stateChangeTypes from './stateChangeTypes'\n\nuseCombobox.stateChangeTypes = stateChangeTypes\n\nfunction useCombobox(userProps = {}) {\n  validatePropTypes(userProps, useCombobox, propTypes)\n  // Props defaults and destructuring.\n  const props = {\n    ...defaultProps,\n    ...userProps,\n  }\n  const {items, scrollIntoView, environment, getA11yStatusMessage} = props\n  // Initial state depending on controlled props.\n  const [state, dispatch] = useControlledReducer(\n    downshiftUseComboboxReducer,\n    props,\n    getInitialState,\n    isDropdownsStateEqual,\n  )\n  const {isOpen, highlightedIndex, selectedItem, inputValue} = state\n\n  // Element refs.\n  const menuRef = useRef(null)\n  const itemRefs = useRef({})\n  const inputRef = useRef(null)\n  const toggleButtonRef = useRef(null)\n  const isInitialMount = useIsInitialMount()\n\n  // prevent id re-generation between renders.\n  const elementIds = useElementIds(props)\n  // used to keep track of how many items we had on previous cycle.\n  const previousResultCountRef = useRef()\n  // utility callback to get item element.\n  const latest = useLatestRef({state, props})\n\n  const getItemNodeFromIndex = useCallback(\n    index => itemRefs.current[elementIds.getItemId(index)],\n    [elementIds],\n  )\n\n  // Effects.\n  // Adds an a11y aria live status message if getA11yStatusMessage is passed.\n  useA11yMessageStatus(\n    getA11yStatusMessage,\n    state,\n    [isOpen, highlightedIndex, selectedItem, inputValue],\n    environment,\n  )\n  // Scroll on highlighted item if change comes from keyboard.\n  const shouldScrollRef = useScrollIntoView({\n    menuElement: menuRef.current,\n    highlightedIndex,\n    isOpen,\n    itemRefs,\n    scrollIntoView,\n    getItemNodeFromIndex,\n  })\n  useControlPropsValidator({\n    props,\n    state,\n  })\n  // Focus the input on first render if required.\n  useEffect(() => {\n    const focusOnOpen = getInitialValue(props, 'isOpen', defaultStateValues)\n\n    if (focusOnOpen && inputRef.current) {\n      inputRef.current.focus()\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n  useEffect(() => {\n    if (!isInitialMount) {\n      previousResultCountRef.current = items.length\n    }\n  })\n\n  const handleBlurInTracker = useCallback(\n    function handleBlur() {\n      if (latest.current.state.isOpen) {\n        dispatch({\n          type: stateChangeTypes.InputBlur,\n        })\n      }\n    },\n    [dispatch, latest],\n  )\n  const downshiftRefs = useMemo(() => [menuRef, toggleButtonRef, inputRef], [])\n  const mouseAndTouchTrackers = useMouseAndTouchTracker(\n    environment,\n    handleBlurInTracker,\n    downshiftRefs\n  )\n  const setGetterPropCallInfo = useGetterPropsCalledChecker(\n    'getInputProps',\n    'getMenuProps',\n  )\n  // Reset itemRefs on close.\n  useEffect(() => {\n    if (!isOpen) {\n      itemRefs.current = {}\n    }\n  }, [isOpen])\n  // Reset itemRefs on close.\n  useEffect(() => {\n    if (!isOpen || !environment?.document || !inputRef?.current?.focus) {\n      return\n    }\n\n    if (environment.document.activeElement !== inputRef.current) {\n      inputRef.current.focus()\n    }\n  }, [isOpen, environment])\n\n  /* Event handler functions */\n  const inputKeyDownHandlers = useMemo(\n    () => ({\n      ArrowDown(event) {\n        event.preventDefault()\n        dispatch({\n          type: stateChangeTypes.InputKeyDownArrowDown,\n          altKey: event.altKey,\n        })\n      },\n      ArrowUp(event) {\n        event.preventDefault()\n        dispatch({\n          type: stateChangeTypes.InputKeyDownArrowUp,\n          altKey: event.altKey,\n        })\n      },\n      Home(event) {\n        if (!latest.current.state.isOpen) {\n          return\n        }\n\n        event.preventDefault()\n        dispatch({\n          type: stateChangeTypes.InputKeyDownHome,\n        })\n      },\n      End(event) {\n        if (!latest.current.state.isOpen) {\n          return\n        }\n\n        event.preventDefault()\n        dispatch({\n          type: stateChangeTypes.InputKeyDownEnd,\n        })\n      },\n      Escape(event) {\n        const latestState = latest.current.state\n        if (\n          latestState.isOpen ||\n          latestState.inputValue ||\n          latestState.selectedItem ||\n          latestState.highlightedIndex > -1\n        ) {\n          event.preventDefault()\n\n          dispatch({\n            type: stateChangeTypes.InputKeyDownEscape,\n          })\n        }\n      },\n      Enter(event) {\n        const latestState = latest.current.state\n        // if closed or no highlighted index, do nothing.\n        if (\n          !latestState.isOpen ||\n          event.which === 229 // if IME composing, wait for next Enter keydown event.\n        ) {\n          return\n        }\n\n        event.preventDefault()\n        dispatch({\n          type: stateChangeTypes.InputKeyDownEnter,\n        })\n      },\n      PageUp(event) {\n        if (latest.current.state.isOpen) {\n          event.preventDefault()\n\n          dispatch({\n            type: stateChangeTypes.InputKeyDownPageUp,\n          })\n        }\n      },\n      PageDown(event) {\n        if (latest.current.state.isOpen) {\n          event.preventDefault()\n\n          dispatch({\n            type: stateChangeTypes.InputKeyDownPageDown,\n          })\n        }\n      },\n    }),\n    [dispatch, latest],\n  )\n\n  // Getter props.\n  const getLabelProps = useCallback(\n    labelProps => ({\n      id: elementIds.labelId,\n      htmlFor: elementIds.inputId,\n      ...labelProps,\n    }),\n    [elementIds],\n  )\n  const getMenuProps = useCallback(\n    (\n      {onMouseLeave, refKey = 'ref', ref, ...rest} = {},\n      {suppressRefError = false} = {},\n    ) => {\n      setGetterPropCallInfo('getMenuProps', suppressRefError, refKey, menuRef)\n      return {\n        [refKey]: handleRefs(ref, menuNode => {\n          menuRef.current = menuNode\n        }),\n        id: elementIds.menuId,\n        role: 'listbox',\n        'aria-labelledby':\n          rest && rest['aria-label'] ? undefined : `${elementIds.labelId}`,\n        onMouseLeave: callAllEventHandlers(onMouseLeave, () => {\n          dispatch({\n            type: stateChangeTypes.MenuMouseLeave,\n          })\n        }),\n        ...rest,\n      }\n    },\n    [dispatch, setGetterPropCallInfo, elementIds],\n  )\n\n  const getItemProps = useCallback(\n    ({\n      item: itemProp,\n      index: indexProp,\n      refKey = 'ref',\n      ref,\n      onMouseMove,\n      onMouseDown,\n      onClick,\n      onPress,\n      disabled: disabledProp,\n      ...rest\n    } = {}) => {\n      if (disabledProp !== undefined) {\n        console.warn(\n          'Passing \"disabled\" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useCombobox.',\n        )\n      }\n\n      const {props: latestProps, state: latestState} = latest.current\n      const [item, index] = getItemAndIndex(\n        itemProp,\n        indexProp,\n        latestProps.items,\n        'Pass either item or index to getItemProps!',\n      )\n      const disabled = latestProps.isItemDisabled(item, index)\n      const onSelectKey =\n        isReactNative || isReactNativeWeb\n          ? /* istanbul ignore next (react-native) */ 'onPress'\n          : 'onClick'\n      const customClickHandler = isReactNative\n        ? /* istanbul ignore next (react-native) */ onPress\n        : onClick\n\n      const itemHandleMouseMove = () => {\n        if (\n          mouseAndTouchTrackers.isTouchEnd ||\n          index === latestState.highlightedIndex\n        ) {\n          return\n        }\n\n        shouldScrollRef.current = false\n\n        dispatch({\n          type: stateChangeTypes.ItemMouseMove,\n          index,\n          disabled,\n        })\n      }\n      const itemHandleClick = () => {\n        dispatch({\n          type: stateChangeTypes.ItemClick,\n          index,\n        })\n      }\n      const itemHandleMouseDown = e => e.preventDefault() // keep focus on the input after item click select.\n\n      return {\n        [refKey]: handleRefs(ref, itemNode => {\n          if (itemNode) {\n            itemRefs.current[elementIds.getItemId(index)] = itemNode\n          }\n        }),\n        'aria-disabled': disabled,\n        'aria-selected': index === latestState.highlightedIndex,\n        id: elementIds.getItemId(index),\n        role: 'option',\n        ...(!disabled && {\n          [onSelectKey]: callAllEventHandlers(\n            customClickHandler,\n            itemHandleClick,\n          ),\n        }),\n        onMouseMove: callAllEventHandlers(onMouseMove, itemHandleMouseMove),\n        onMouseDown: callAllEventHandlers(onMouseDown, itemHandleMouseDown),\n        ...rest,\n      }\n    },\n\n    [dispatch, elementIds, latest, mouseAndTouchTrackers, shouldScrollRef],\n  )\n\n  const getToggleButtonProps = useCallback(\n    ({onClick, onPress, refKey = 'ref', ref, ...rest} = {}) => {\n      const latestState = latest.current.state\n      const toggleButtonHandleClick = () => {\n        dispatch({\n          type: stateChangeTypes.ToggleButtonClick,\n        })\n      }\n\n      return {\n        [refKey]: handleRefs(ref, toggleButtonNode => {\n          toggleButtonRef.current = toggleButtonNode\n        }),\n        'aria-controls': elementIds.menuId,\n        'aria-expanded': latestState.isOpen,\n        id: elementIds.toggleButtonId,\n        tabIndex: -1,\n        ...(!rest.disabled && {\n          ...(isReactNative || isReactNativeWeb\n            ? /* istanbul ignore next (react-native) */ {\n                onPress: callAllEventHandlers(onPress, toggleButtonHandleClick),\n              }\n            : {\n                onClick: callAllEventHandlers(onClick, toggleButtonHandleClick),\n              }),\n        }),\n        ...rest,\n      }\n    },\n    [dispatch, latest, elementIds],\n  )\n  const getInputProps = useCallback(\n    (\n      {\n        onKeyDown,\n        onChange,\n        onInput,\n        onBlur,\n        onChangeText,\n        onClick,\n        refKey = 'ref',\n        ref,\n        ...rest\n      } = {},\n      {suppressRefError = false} = {},\n    ) => {\n      setGetterPropCallInfo('getInputProps', suppressRefError, refKey, inputRef)\n\n      const latestState = latest.current.state\n      const inputHandleKeyDown = event => {\n        const key = normalizeArrowKey(event)\n        if (key && inputKeyDownHandlers[key]) {\n          inputKeyDownHandlers[key](event)\n        }\n      }\n      const inputHandleChange = event => {\n        dispatch({\n          type: stateChangeTypes.InputChange,\n          inputValue:\n            isReactNative || isReactNativeWeb\n              ? /* istanbul ignore next (react-native) */ event.nativeEvent.text\n              : event.target.value,\n        })\n      }\n      const inputHandleBlur = event => {\n        /* istanbul ignore else */\n        if (\n          environment?.document &&\n          latestState.isOpen &&\n          !mouseAndTouchTrackers.isMouseDown\n        ) {\n          const isBlurByTabChange =\n            event.relatedTarget === null &&\n            environment.document.activeElement !== environment.document.body\n\n          dispatch({\n            type: stateChangeTypes.InputBlur,\n            selectItem: !isBlurByTabChange,\n          })\n        }\n      }\n\n      const inputHandleClick = () => {\n        dispatch({\n          type: stateChangeTypes.InputClick,\n        })\n      }\n\n      /* istanbul ignore next (preact) */\n      const onChangeKey = isPreact ? 'onInput' : 'onChange'\n      let eventHandlers = {}\n\n      if (!rest.disabled) {\n        eventHandlers = {\n          [onChangeKey]: callAllEventHandlers(\n            onChange,\n            onInput,\n            inputHandleChange,\n          ),\n          onKeyDown: callAllEventHandlers(onKeyDown, inputHandleKeyDown),\n          onBlur: callAllEventHandlers(onBlur, inputHandleBlur),\n          onClick: callAllEventHandlers(onClick, inputHandleClick),\n        }\n      }\n\n      /* istanbul ignore if (react-native) */\n      if (isReactNative) {\n        eventHandlers.onChange = callAllEventHandlers(\n          onChange,\n          onInput,\n          inputHandleChange,\n        )\n        eventHandlers.onChangeText = callAllEventHandlers(\n          onChangeText,\n          onInput,\n          text => {\n            inputHandleChange({nativeEvent: {text}})\n          },\n        )\n      }\n\n      return {\n        [refKey]: handleRefs(ref, inputNode => {\n          inputRef.current = inputNode\n        }),\n        'aria-activedescendant':\n          latestState.isOpen && latestState.highlightedIndex > -1\n            ? elementIds.getItemId(latestState.highlightedIndex)\n            : '',\n        'aria-autocomplete': 'list',\n        'aria-controls': elementIds.menuId,\n        'aria-expanded': latestState.isOpen,\n        'aria-labelledby':\n          rest && rest['aria-label'] ? undefined : elementIds.labelId,\n        // https://developer.mozilla.org/en-US/docs/Web/Security/Securing_your_site/Turning_off_form_autocompletion\n        // revert back since autocomplete=\"nope\" is ignored on latest Chrome and Opera\n        autoComplete: 'off',\n        id: elementIds.inputId,\n        role: 'combobox',\n        value: latestState.inputValue,\n        ...eventHandlers,\n        ...rest,\n      }\n    },\n    [\n      dispatch,\n      elementIds,\n      environment,\n      inputKeyDownHandlers,\n      latest,\n      mouseAndTouchTrackers,\n      setGetterPropCallInfo,\n    ],\n  )\n\n  // returns\n  const toggleMenu = useCallback(() => {\n    dispatch({\n      type: stateChangeTypes.FunctionToggleMenu,\n    })\n  }, [dispatch])\n  const closeMenu = useCallback(() => {\n    dispatch({\n      type: stateChangeTypes.FunctionCloseMenu,\n    })\n  }, [dispatch])\n  const openMenu = useCallback(() => {\n    dispatch({\n      type: stateChangeTypes.FunctionOpenMenu,\n    })\n  }, [dispatch])\n  const setHighlightedIndex = useCallback(\n    newHighlightedIndex => {\n      dispatch({\n        type: stateChangeTypes.FunctionSetHighlightedIndex,\n        highlightedIndex: newHighlightedIndex,\n      })\n    },\n    [dispatch],\n  )\n  const selectItem = useCallback(\n    newSelectedItem => {\n      dispatch({\n        type: stateChangeTypes.FunctionSelectItem,\n        selectedItem: newSelectedItem,\n      })\n    },\n    [dispatch],\n  )\n  const setInputValue = useCallback(\n    newInputValue => {\n      dispatch({\n        type: stateChangeTypes.FunctionSetInputValue,\n        inputValue: newInputValue,\n      })\n    },\n    [dispatch],\n  )\n  const reset = useCallback(() => {\n    dispatch({\n      type: stateChangeTypes.FunctionReset,\n    })\n  }, [dispatch])\n\n  return {\n    // prop getters.\n    getItemProps,\n    getLabelProps,\n    getMenuProps,\n    getInputProps,\n    getToggleButtonProps,\n    // actions.\n    toggleMenu,\n    openMenu,\n    closeMenu,\n    setHighlightedIndex,\n    setInputValue,\n    selectItem,\n    reset,\n    // state.\n    highlightedIndex,\n    isOpen,\n    selectedItem,\n    inputValue,\n  }\n}\n\nexport default useCombobox\n","import PropTypes from 'prop-types'\n\nimport {noop} from '../../utils-ts'\nimport {\n  getInitialValue as getInitialValueCommon,\n  getDefaultValue as getDefaultValueCommon,\n} from '../utils-ts'\nimport {dropdownDefaultProps, dropdownPropTypes} from '../utils.dropdown'\n\nconst defaultStateValues = {\n  activeIndex: -1,\n  selectedItems: [],\n}\n\n/**\n * Returns the initial value for a state key in the following order:\n * 1. controlled prop, 2. initial prop, 3. default prop, 4. default\n * value from Downshift.\n *\n * @param {Object} props Props passed to the hook.\n * @param {string} propKey Props key to generate the value for.\n * @returns {any} The initial value for that prop.\n */\nfunction getInitialValue(props, propKey) {\n  return getInitialValueCommon(props, propKey, defaultStateValues)\n}\n\n/**\n * Returns the default value for a state key in the following order:\n * 1. controlled prop, 2. default prop, 3. default value from Downshift.\n *\n * @param {Object} props Props passed to the hook.\n * @param {string} propKey Props key to generate the value for.\n * @returns {any} The initial value for that prop.\n */\nfunction getDefaultValue(props, propKey) {\n  return getDefaultValueCommon(props, propKey, defaultStateValues)\n}\n\n/**\n * Gets the initial state based on the provided props. It uses initial, default\n * and controlled props related to state in order to compute the initial value.\n *\n * @param {Object} props Props passed to the hook.\n * @returns {Object} The initial state.\n */\nfunction getInitialState(props) {\n  const activeIndex = getInitialValue(props, 'activeIndex')\n  const selectedItems = getInitialValue(props, 'selectedItems')\n\n  return {\n    activeIndex,\n    selectedItems,\n  }\n}\n\n/**\n * Returns true if dropdown keydown operation is permitted. Should not be\n * allowed on keydown with modifier keys (ctrl, alt, shift, meta), on\n * input element with text content that is either highlighted or selection\n * cursor is not at the starting position.\n *\n * @param {KeyboardEvent} event The event from keydown.\n * @returns {boolean} Whether the operation is allowed.\n */\nfunction isKeyDownOperationPermitted(event) {\n  if (event.shiftKey || event.metaKey || event.ctrlKey || event.altKey) {\n    return false\n  }\n\n  const element = event.target\n\n  if (\n    element instanceof HTMLInputElement && // if element is a text input\n    element.value !== '' && // and we have text in it\n    // and cursor is either not at the start or is currently highlighting text.\n    (element.selectionStart !== 0 || element.selectionEnd !== 0)\n  ) {\n    return false\n  }\n\n  return true\n}\n\n/**\n * Check if a state is equal for taglist, by comparing active index and selected items.\n * Used by useSelect and useCombobox.\n *\n * @param {Object} prevState\n * @param {Object} newState\n * @returns {boolean} Wheather the states are deeply equal.\n */\nfunction isStateEqual(prevState, newState) {\n  return (\n    prevState.selectedItems === newState.selectedItems &&\n    prevState.activeIndex === newState.activeIndex\n  )\n}\n\nconst propTypes = {\n  stateReducer: dropdownPropTypes.stateReducer,\n  itemToKey: dropdownPropTypes.itemToKey,\n  environment: dropdownPropTypes.environment,\n  selectedItems: PropTypes.array,\n  initialSelectedItems: PropTypes.array,\n  defaultSelectedItems: PropTypes.array,\n  getA11yStatusMessage: PropTypes.func,\n  activeIndex: PropTypes.number,\n  initialActiveIndex: PropTypes.number,\n  defaultActiveIndex: PropTypes.number,\n  onActiveIndexChange: PropTypes.func,\n  onSelectedItemsChange: PropTypes.func,\n  keyNavigationNext: PropTypes.string,\n  keyNavigationPrevious: PropTypes.string,\n}\n\nexport const defaultProps = {\n  itemToKey: dropdownDefaultProps.itemToKey,\n  stateReducer: dropdownDefaultProps.stateReducer,\n  environment: dropdownDefaultProps.environment,\n  keyNavigationNext: 'ArrowRight',\n  keyNavigationPrevious: 'ArrowLeft',\n}\n\n// eslint-disable-next-line import/no-mutable-exports\nlet validatePropTypes = noop\n/* istanbul ignore next */\nif (process.env.NODE_ENV !== 'production') {\n  validatePropTypes = (options, caller) => {\n    PropTypes.checkPropTypes(propTypes, options, 'prop', caller.name)\n  }\n}\n\nexport {\n  validatePropTypes,\n  getDefaultValue,\n  getInitialState,\n  isKeyDownOperationPermitted,\n  isStateEqual,\n}\n","import productionEnum from '../../productionEnum.macro'\n\nexport const SelectedItemClick = productionEnum('__selected_item_click__')\nexport const SelectedItemKeyDownDelete = productionEnum(\n  '__selected_item_keydown_delete__',\n)\nexport const SelectedItemKeyDownBackspace = productionEnum(\n  '__selected_item_keydown_backspace__',\n)\nexport const SelectedItemKeyDownNavigationNext = productionEnum(\n  '__selected_item_keydown_navigation_next__',\n)\nexport const SelectedItemKeyDownNavigationPrevious = productionEnum(\n  '__selected_item_keydown_navigation_previous__',\n)\n\nexport const DropdownKeyDownNavigationPrevious = productionEnum(\n  '__dropdown_keydown_navigation_previous__',\n)\nexport const DropdownKeyDownBackspace = productionEnum(\n  '__dropdown_keydown_backspace__',\n)\nexport const DropdownClick = productionEnum('__dropdown_click__')\n\nexport const FunctionAddSelectedItem = productionEnum(\n  '__function_add_selected_item__',\n)\nexport const FunctionRemoveSelectedItem = productionEnum(\n  '__function_remove_selected_item__',\n)\nexport const FunctionSetSelectedItems = productionEnum(\n  '__function_set_selected_items__',\n)\nexport const FunctionSetActiveIndex = productionEnum(\n  '__function_set_active_index__',\n)\nexport const FunctionReset = productionEnum('__function_reset__')\n","import {getDefaultValue} from './utils'\nimport * as stateChangeTypes from './stateChangeTypes'\n\n/* eslint-disable complexity */\nexport default function downshiftMultipleSelectionReducer(\n  state,\n  props,\n  action,\n) {\n  const {type, index, selectedItem} = action\n  const {activeIndex, selectedItems} = state\n  let changes\n\n  switch (type) {\n    case stateChangeTypes.SelectedItemClick:\n      changes = {\n        activeIndex: index,\n      }\n\n      break\n    case stateChangeTypes.SelectedItemKeyDownNavigationPrevious:\n      changes = {\n        activeIndex: activeIndex - 1 < 0 ? 0 : activeIndex - 1,\n      }\n\n      break\n    case stateChangeTypes.SelectedItemKeyDownNavigationNext:\n      changes = {\n        activeIndex:\n          activeIndex + 1 >= selectedItems.length ? -1 : activeIndex + 1,\n      }\n\n      break\n    case stateChangeTypes.SelectedItemKeyDownBackspace:\n    case stateChangeTypes.SelectedItemKeyDownDelete: {\n      if (activeIndex < 0) {\n        break\n      }\n\n      let newActiveIndex = activeIndex\n\n      if (selectedItems.length === 1) {\n        newActiveIndex = -1\n      } else if (activeIndex === selectedItems.length - 1) {\n        newActiveIndex = selectedItems.length - 2\n      }\n\n      changes = {\n        selectedItems: [\n          ...selectedItems.slice(0, activeIndex),\n          ...selectedItems.slice(activeIndex + 1),\n        ],\n        ...{activeIndex: newActiveIndex},\n      }\n\n      break\n    }\n\n    case stateChangeTypes.DropdownKeyDownNavigationPrevious:\n      changes = {\n        activeIndex: selectedItems.length - 1,\n      }\n      break\n    case stateChangeTypes.DropdownKeyDownBackspace:\n      changes = {\n        selectedItems: selectedItems.slice(0, selectedItems.length - 1),\n      }\n      break\n    case stateChangeTypes.FunctionAddSelectedItem:\n      changes = {\n        selectedItems: [...selectedItems, selectedItem],\n      }\n      break\n    case stateChangeTypes.DropdownClick:\n      changes = {\n        activeIndex: -1,\n      }\n      break\n    case stateChangeTypes.FunctionRemoveSelectedItem: {\n      let newActiveIndex = activeIndex\n      const selectedItemIndex = selectedItems.findIndex(\n        item => props.itemToKey(item) === props.itemToKey(selectedItem),\n      )\n\n      if (selectedItemIndex < 0) {\n        break\n      }\n\n      if (selectedItems.length === 1) {\n        newActiveIndex = -1\n      } else if (selectedItemIndex === selectedItems.length - 1) {\n        newActiveIndex = selectedItems.length - 2\n      }\n\n      changes = {\n        selectedItems: [\n          ...selectedItems.slice(0, selectedItemIndex),\n          ...selectedItems.slice(selectedItemIndex + 1),\n        ],\n        activeIndex: newActiveIndex,\n      }\n\n      break\n    }\n    case stateChangeTypes.FunctionSetSelectedItems: {\n      const {selectedItems: newSelectedItems} = action\n      changes = {\n        selectedItems: newSelectedItems,\n      }\n      break\n    }\n    case stateChangeTypes.FunctionSetActiveIndex: {\n      const {activeIndex: newActiveIndex} = action\n      changes = {\n        activeIndex: newActiveIndex,\n      }\n      break\n    }\n    case stateChangeTypes.FunctionReset:\n      changes = {\n        activeIndex: getDefaultValue(props, 'activeIndex'),\n        selectedItems: getDefaultValue(props, 'selectedItems'),\n      }\n      break\n    default:\n      throw new Error('Reducer called without proper action type.')\n  }\n\n  return {\n    ...state,\n    ...changes,\n  }\n}\n","import {useRef, useEffect, useCallback, useMemo} from 'react'\nimport {handleRefs, callAllEventHandlers, normalizeArrowKey} from '../../utils'\nimport {useLatestRef} from '../../utils-ts'\nimport {useGetterPropsCalledChecker, useControlPropsValidator} from '../utils'\nimport {\n  useControlledReducer,\n  useIsInitialMount,\n  useA11yMessageStatus,\n  getItemAndIndex,\n} from '../utils-ts'\nimport {\n  getInitialState,\n  defaultProps,\n  isKeyDownOperationPermitted,\n  validatePropTypes,\n  isStateEqual,\n} from './utils'\nimport downshiftMultipleSelectionReducer from './reducer'\nimport * as stateChangeTypes from './stateChangeTypes'\n\nuseMultipleSelection.stateChangeTypes = stateChangeTypes\n\nfunction useMultipleSelection(userProps = {}) {\n  validatePropTypes(userProps, useMultipleSelection)\n  // Props defaults and destructuring.\n  const props = {\n    ...defaultProps,\n    ...userProps,\n  }\n  const {\n    getA11yStatusMessage,\n    environment,\n    keyNavigationNext,\n    keyNavigationPrevious,\n  } = props\n\n  // Reducer init.\n  const [state, dispatch] = useControlledReducer(\n    downshiftMultipleSelectionReducer,\n    props,\n    getInitialState,\n    isStateEqual,\n  )\n  const {activeIndex, selectedItems} = state\n\n  // Refs.\n  const isInitialMount = useIsInitialMount()\n  const dropdownRef = useRef(null)\n  const selectedItemRefs = useRef()\n  selectedItemRefs.current = []\n  const latest = useLatestRef({state, props})\n\n  // Effects.\n  // Adds an a11y aria live status message if getA11yStatusMessage is passed.\n  useA11yMessageStatus(\n    getA11yStatusMessage,\n    state,\n    [activeIndex, selectedItems],\n    environment,\n  )\n  // Sets focus on active item.\n  useEffect(() => {\n    if (isInitialMount) {\n      return\n    }\n\n    if (activeIndex === -1 && dropdownRef.current) {\n      dropdownRef.current.focus()\n    } else if (selectedItemRefs.current[activeIndex]) {\n      selectedItemRefs.current[activeIndex].focus()\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [activeIndex])\n  useControlPropsValidator({\n    props,\n    state,\n  })\n  const setGetterPropCallInfo = useGetterPropsCalledChecker('getDropdownProps')\n\n  // Event handler functions.\n  const selectedItemKeyDownHandlers = useMemo(\n    () => ({\n      [keyNavigationPrevious]() {\n        dispatch({\n          type: stateChangeTypes.SelectedItemKeyDownNavigationPrevious,\n        })\n      },\n      [keyNavigationNext]() {\n        dispatch({\n          type: stateChangeTypes.SelectedItemKeyDownNavigationNext,\n        })\n      },\n      Delete() {\n        dispatch({\n          type: stateChangeTypes.SelectedItemKeyDownDelete,\n        })\n      },\n      Backspace() {\n        dispatch({\n          type: stateChangeTypes.SelectedItemKeyDownBackspace,\n        })\n      },\n    }),\n    [dispatch, keyNavigationNext, keyNavigationPrevious],\n  )\n  const dropdownKeyDownHandlers = useMemo(\n    () => ({\n      [keyNavigationPrevious](event) {\n        if (isKeyDownOperationPermitted(event)) {\n          dispatch({\n            type: stateChangeTypes.DropdownKeyDownNavigationPrevious,\n          })\n        }\n      },\n      Backspace(event) {\n        if (isKeyDownOperationPermitted(event)) {\n          dispatch({\n            type: stateChangeTypes.DropdownKeyDownBackspace,\n          })\n        }\n      },\n    }),\n    [dispatch, keyNavigationPrevious],\n  )\n\n  // Getter props.\n  const getSelectedItemProps = useCallback(\n    ({\n      refKey = 'ref',\n      ref,\n      onClick,\n      onKeyDown,\n      selectedItem: selectedItemProp,\n      index: indexProp,\n      ...rest\n    } = {}) => {\n      const {state: latestState} = latest.current\n      const [, index] = getItemAndIndex(\n        selectedItemProp,\n        indexProp,\n        latestState.selectedItems,\n        'Pass either item or index to getSelectedItemProps!',\n      )\n      const isFocusable = index > -1 && index === latestState.activeIndex\n\n      const selectedItemHandleClick = () => {\n        dispatch({\n          type: stateChangeTypes.SelectedItemClick,\n          index,\n        })\n      }\n      const selectedItemHandleKeyDown = event => {\n        const key = normalizeArrowKey(event)\n        if (key && selectedItemKeyDownHandlers[key]) {\n          selectedItemKeyDownHandlers[key](event)\n        }\n      }\n\n      return {\n        [refKey]: handleRefs(ref, selectedItemNode => {\n          if (selectedItemNode) {\n            selectedItemRefs.current.push(selectedItemNode)\n          }\n        }),\n        tabIndex: isFocusable ? 0 : -1,\n        onClick: callAllEventHandlers(onClick, selectedItemHandleClick),\n        onKeyDown: callAllEventHandlers(onKeyDown, selectedItemHandleKeyDown),\n        ...rest,\n      }\n    },\n    [dispatch, latest, selectedItemKeyDownHandlers],\n  )\n  const getDropdownProps = useCallback(\n    (\n      {\n        refKey = 'ref',\n        ref,\n        onKeyDown,\n        onClick,\n        preventKeyAction = false,\n        ...rest\n      } = {},\n      {suppressRefError = false} = {},\n    ) => {\n      setGetterPropCallInfo(\n        'getDropdownProps',\n        suppressRefError,\n        refKey,\n        dropdownRef,\n      )\n\n      const dropdownHandleKeyDown = event => {\n        const key = normalizeArrowKey(event)\n        if (key && dropdownKeyDownHandlers[key]) {\n          dropdownKeyDownHandlers[key](event)\n        }\n      }\n      const dropdownHandleClick = () => {\n        dispatch({\n          type: stateChangeTypes.DropdownClick,\n        })\n      }\n\n      return {\n        [refKey]: handleRefs(ref, dropdownNode => {\n          if (dropdownNode) {\n            dropdownRef.current = dropdownNode\n          }\n        }),\n        ...(!preventKeyAction && {\n          onKeyDown: callAllEventHandlers(onKeyDown, dropdownHandleKeyDown),\n          onClick: callAllEventHandlers(onClick, dropdownHandleClick),\n        }),\n        ...rest,\n      }\n    },\n    [dispatch, dropdownKeyDownHandlers, setGetterPropCallInfo],\n  )\n\n  // returns\n  const addSelectedItem = useCallback(\n    selectedItem => {\n      dispatch({\n        type: stateChangeTypes.FunctionAddSelectedItem,\n        selectedItem,\n      })\n    },\n    [dispatch],\n  )\n  const removeSelectedItem = useCallback(\n    selectedItem => {\n      dispatch({\n        type: stateChangeTypes.FunctionRemoveSelectedItem,\n        selectedItem,\n      })\n    },\n    [dispatch],\n  )\n  const setSelectedItems = useCallback(\n    newSelectedItems => {\n      dispatch({\n        type: stateChangeTypes.FunctionSetSelectedItems,\n        selectedItems: newSelectedItems,\n      })\n    },\n    [dispatch],\n  )\n  const setActiveIndex = useCallback(\n    newActiveIndex => {\n      dispatch({\n        type: stateChangeTypes.FunctionSetActiveIndex,\n        activeIndex: newActiveIndex,\n      })\n    },\n    [dispatch],\n  )\n  const reset = useCallback(() => {\n    dispatch({\n      type: stateChangeTypes.FunctionReset,\n    })\n  }, [dispatch])\n\n  return {\n    getSelectedItemProps,\n    getDropdownProps,\n    addSelectedItem,\n    removeSelectedItem,\n    setSelectedItems,\n    setActiveIndex,\n    reset,\n    selectedItems,\n    activeIndex,\n  }\n}\n\nexport default useMultipleSelection\n","import productionEnum from '../../productionEnum.macro'\nimport {UseTagGroupStateChangeTypes} from './index.types'\n\nexport const TagClick = productionEnum(\n  '__tag_click__',\n) as UseTagGroupStateChangeTypes.TagClick\n\nexport const TagGroupKeyDownArrowLeft = productionEnum(\n  '__taggroup_keydown_arrowleft__',\n) as UseTagGroupStateChangeTypes.TagGroupKeyDownArrowLeft\nexport const TagGroupKeyDownArrowRight = productionEnum(\n  '__taggroup_keydown_arrowright__',\n) as UseTagGroupStateChangeTypes.TagGroupKeyDownArrowRight\nexport const TagGroupKeyDownDelete = productionEnum(\n  '__taggroup_keydown_delete__',\n) as UseTagGroupStateChangeTypes.TagGroupKeyDownDelete\nexport const TagGroupKeyDownBackspace = productionEnum(\n  '__taggroup_keydown_backspace__',\n) as UseTagGroupStateChangeTypes.TagGroupKeyDownBackspace\n\nexport const TagRemoveClick = productionEnum(\n  '__tagremove_click__',\n) as UseTagGroupStateChangeTypes.TagRemoveClick\n\nexport const FunctionAddItem = productionEnum(\n  '__function_add_item__',\n) as UseTagGroupStateChangeTypes.FunctionAddItem\n","import {\n  UseTagGroupProps,\n  UseTagGroupReducerAction,\n  UseTagGroupState,\n} from './index.types'\nimport * as stateChangeTypes from './stateChangeTypes'\n\nexport function useTagGroupReducer<Item>(\n  state: UseTagGroupState<Item>,\n  _props: UseTagGroupProps<Item>,\n  action: UseTagGroupReducerAction<Item>,\n): UseTagGroupState<Item> {\n  const {type} = action\n\n  let changes\n\n  switch (type) {\n    case stateChangeTypes.TagClick:\n      changes = {\n        activeIndex: action.index,\n      }\n      break\n    case stateChangeTypes.TagGroupKeyDownArrowLeft:\n      changes = {\n        activeIndex:\n          state.activeIndex === 0\n            ? state.items.length - 1\n            : state.activeIndex - 1,\n      }\n      break\n    case stateChangeTypes.TagGroupKeyDownArrowRight:\n      changes = {\n        activeIndex:\n          state.activeIndex === state.items.length - 1\n            ? 0\n            : state.activeIndex + 1,\n      }\n      break\n    case stateChangeTypes.TagGroupKeyDownBackspace:\n    case stateChangeTypes.TagGroupKeyDownDelete: {\n      const newItems = [\n        ...state.items.slice(0, state.activeIndex),\n        ...state.items.slice(state.activeIndex + 1),\n      ]\n      const newActiveIndex =\n        newItems.length === 0\n          ? -1\n          : newItems.length === state.activeIndex\n          ? state.activeIndex - 1\n          : state.activeIndex\n      changes = {\n        items: [\n          ...state.items.slice(0, state.activeIndex),\n          ...state.items.slice(state.activeIndex + 1),\n        ],\n        activeIndex: newActiveIndex,\n      }\n      break\n    }\n    case stateChangeTypes.TagRemoveClick:\n      {\n        const newItems = [\n          ...state.items.slice(0, action.index),\n          ...state.items.slice(action.index + 1),\n        ]\n        const newActiveIndex =\n          newItems.length === 0\n            ? -1\n            : newItems.length === action.index\n            ? action.index - 1\n            : action.index\n        changes = {\n          items: newItems,\n          activeIndex: newActiveIndex,\n        }\n      }\n      break\n    case stateChangeTypes.FunctionAddItem: {\n      let newItems: Item[] = []\n\n      if (action.index === undefined) {\n        newItems = [...state.items, action.item]\n      } else {\n        newItems = [\n          ...state.items.slice(0, action.index),\n          action.item,\n          ...state.items.slice(action.index),\n        ]\n      }\n\n      const newActiveIndex =\n        state.activeIndex === -1 ? newItems.length - 1 : state.activeIndex\n\n      changes = {\n        items: newItems,\n        activeIndex: newActiveIndex,\n      }\n      break\n    }\n    default:\n      throw new Error('Invalid useTagGroup reducer action.')\n  }\n\n  return {...state, ...changes}\n}\n","import * as React from 'react'\n\nimport {generateId} from '../../../utils-ts'\nimport {UseTagGroupProps} from '../index.types'\n\nexport type UseElementIdsProps = Pick<\n  UseTagGroupProps<unknown>,\n  'id' | 'getTagId' | 'tagGroupId'\n>\n\nexport type UseElementIdsReturnValue = Required<\n  Pick<UseTagGroupProps<unknown>, 'getTagId' | 'tagGroupId'>\n>\n\n// istanbul ignore next\nexport const useElementIds: (\n  props: UseElementIdsProps,\n) => UseElementIdsReturnValue =\n  'useId' in React // Avoid conditional useId call\n    ? useElementIdsR18\n    : useElementIdsLegacy\n\nfunction useElementIdsR18({\n  id,\n  tagGroupId,\n  getTagId,\n}: UseElementIdsProps): UseElementIdsReturnValue {\n  // Avoid conditional useId call\n  const reactId = `downshift-${React.useId()}`\n  if (!id) {\n    id = reactId\n  }\n\n  const elementIdsRef = React.useRef({\n    tagGroupId: tagGroupId ?? `${id}-tag-group`,\n    getTagId: getTagId ?? (index => `${id}-tag-${index}`),\n  })\n\n  return elementIdsRef.current\n}\n\nfunction useElementIdsLegacy({\n  id = `downshift-${generateId()}`,\n  getTagId,\n  tagGroupId,\n}: UseElementIdsProps): UseElementIdsReturnValue {\n  const elementIdsRef = React.useRef({\n    tagGroupId: tagGroupId ?? `${id}-tag-group`,\n    getTagId: getTagId ?? (index => `${id}-tag-${index}`),\n  })\n\n  return elementIdsRef.current\n}\n","import {UseTagGroupProps, UseTagGroupState} from '../index.types'\n\nexport function getInitialState<I>(\n  props: UseTagGroupProps<I>,\n): UseTagGroupState<I> {\n  const items = props.items ?? props.initialItems ?? []\n  const activeIndex =\n    props.activeIndex ??\n    props.initialActiveIndex ??\n    (items.length === 0 ? -1 : 0)\n\n  return {\n    activeIndex,\n    items,\n  }\n}\n","import {UseTagGroupState} from '../index.types'\n\nexport function isStateEqual<I>(\n  oldState: UseTagGroupState<I>,\n  newState: UseTagGroupState<I>,\n): boolean {\n  return (\n    oldState.activeIndex === newState.activeIndex &&\n    oldState.items === newState.items\n  )\n}\n","import * as React from 'react'\n\nexport const A11Y_DESCRIPTION_ELEMENT_ID = 'tag-group-a11y-description'\n\nexport function useAccessibleDescription(\n  document: Document | undefined,\n  description: string,\n) {\n  React.useEffect(() => {\n    if (!document) {\n      return\n    }\n\n    const accessibleDescriptionElement = document.createElement('div')\n\n    accessibleDescriptionElement.setAttribute('id', A11Y_DESCRIPTION_ELEMENT_ID)\n    accessibleDescriptionElement.style.display = 'none'\n    accessibleDescriptionElement.textContent = description\n\n    document.body.appendChild(accessibleDescriptionElement)\n\n    return () => {\n      accessibleDescriptionElement.remove()\n    }\n  }, [description, document])\n}\n","import {UseTagGroupProps, UseTagGroupMergedProps} from '../index.types'\n\nimport {isReactNative} from '../../../is.macro.js'\n\nexport function getMergedProps<Item>(\n  userProps: UseTagGroupProps<Item>,\n): UseTagGroupMergedProps<Item> {\n  return {\n    stateReducer(_s, {changes}) {\n      return changes\n    },\n    environment:\n      /* istanbul ignore next (ssr) */\n      typeof window === 'undefined' || isReactNative ? undefined : window,\n    removeElementDescription: 'Press Delete or Backspace to remove tag.',\n    ...userProps,\n  }\n}\n","import * as React from 'react'\nimport {UseTagGroupProps} from '../index.types'\n\n/**\n * Focuses the tag at activeIndex when it changes or when an item is removed.\n */\nexport function useRovingTagFocus(\n  activeIndex: number,\n  itemsLength: number,\n  getTagId: NonNullable<UseTagGroupProps<unknown>['getTagId']>,\n): React.MutableRefObject<Record<string, HTMLElement>> {\n  const itemRefs = React.useRef<Record<string, HTMLElement>>({})\n  const previousActiveIndexRef = React.useRef(activeIndex)\n  const previousItemsLengthRef = React.useRef(itemsLength)\n\n  React.useEffect(() => {\n    if (\n      (activeIndex !== -1 &&\n        previousActiveIndexRef.current !== -1 &&\n        activeIndex !== previousActiveIndexRef.current) ||\n      previousItemsLengthRef.current === itemsLength + 1\n    ) {\n      itemRefs.current[getTagId(activeIndex)]?.focus()\n    }\n\n    previousActiveIndexRef.current = activeIndex\n    previousItemsLengthRef.current = itemsLength\n  }, [activeIndex, getTagId, itemsLength])\n\n  return itemRefs\n}\n","import PropTypes from 'prop-types'\n\nexport {\n  type UseElementIdsProps,\n  type UseElementIdsReturnValue,\n  useElementIds,\n} from './useElementIds'\nexport {getInitialState} from './getInitialState'\nexport {isStateEqual} from './isStateEqual'\nexport {\n  useAccessibleDescription,\n  A11Y_DESCRIPTION_ELEMENT_ID,\n} from './useAccessibleDescription'\nexport {getMergedProps} from './getMergedProps'\nexport {useRovingTagFocus} from './useRovingTagFocus'\n\nexport const propTypes: Record<\n  string,\n  PropTypes.Requireable<(...args: unknown[]) => unknown>\n> = {\n  isItemDisabled: PropTypes.func,\n}\n","import {useCallback} from 'react'\n\nimport {\n  callAllEventHandlers,\n  handleRefs,\n  useLatestRef,\n  validatePropTypes,\n} from '../../utils-ts'\nimport {useControlledReducer} from '../utils-ts'\nimport * as stateChangeTypes from './stateChangeTypes'\nimport {\n  GetTagGroupPropsOptions,\n  GetTagPropsOptions,\n  GetTagRemovePropsOptions,\n  UseTagGroupInterface,\n  UseTagGroupProps,\n  UseTagGroupMergedProps,\n  UseTagGroupReducerAction,\n  UseTagGroupReturnValue,\n  UseTagGroupState,\n  UseTagGroupStateChangeTypes,\n  GetTagRemovePropsReturnValue,\n  GetTagPropsReturnValue,\n  GetTagGroupPropsReturnValue,\n} from './index.types'\nimport {useTagGroupReducer} from './reducer'\nimport {\n  getInitialState,\n  isStateEqual,\n  propTypes,\n  useElementIds,\n  useAccessibleDescription,\n  A11Y_DESCRIPTION_ELEMENT_ID,\n  getMergedProps,\n  useRovingTagFocus,\n} from './utils'\n\nconst useTagGroup: UseTagGroupInterface = <Item>(\n  userProps: UseTagGroupProps<Item> = {},\n) => {\n  /* State and Props */\n\n  validatePropTypes(userProps, useTagGroup, propTypes)\n\n  const props = getMergedProps(userProps)\n\n  const [state, dispatch] = useControlledReducer<\n    UseTagGroupState<Item>,\n    UseTagGroupMergedProps<Item>,\n    UseTagGroupStateChangeTypes,\n    UseTagGroupReducerAction<Item>\n  >(useTagGroupReducer, props, getInitialState, isStateEqual)\n\n  const {activeIndex, items} = state\n\n  /* Refs */\n\n  const latest = useLatestRef({state, props})\n  const elementIds = useElementIds({\n    getTagId: props.getTagId,\n    id: props.id,\n    tagGroupId: props.tagGroupId,\n  })\n\n  /* Effects */\n\n  useAccessibleDescription(\n    props.environment?.document,\n    props.removeElementDescription,\n  )\n\n  const itemRefs = useRovingTagFocus(\n    activeIndex,\n    items.length,\n    elementIds.getTagId,\n  )\n\n  /* Getter functions */\n\n  const getTagGroupProps = useCallback(\n    <Extra extends Record<string, unknown>>(\n      options?: GetTagGroupPropsOptions & Extra,\n    ) => {\n      const {onKeyDown, ...rest} =\n        options ?? ({} as GetTagGroupPropsOptions & Extra)\n      const handleKeyDown = (e: React.KeyboardEvent<HTMLElement>): void => {\n        switch (e.key) {\n          case 'ArrowLeft':\n            dispatch({\n              type: stateChangeTypes.TagGroupKeyDownArrowLeft,\n            })\n            break\n          case 'ArrowRight':\n            dispatch({\n              type: stateChangeTypes.TagGroupKeyDownArrowRight,\n            })\n            break\n          case 'Delete':\n            dispatch({\n              type: stateChangeTypes.TagGroupKeyDownDelete,\n            })\n            break\n          case 'Backspace':\n            dispatch({\n              type: stateChangeTypes.TagGroupKeyDownBackspace,\n            })\n            break\n          default:\n        }\n      }\n\n      const tagGroupProps = {\n        id: elementIds.tagGroupId,\n        'aria-live': 'polite',\n        'aria-atomic': 'false',\n        'aria-relevant': 'additions',\n        role: 'listbox',\n        onKeyDown: callAllEventHandlers(onKeyDown, handleKeyDown),\n        ...rest,\n      } as GetTagGroupPropsReturnValue & Extra\n\n      return tagGroupProps\n    },\n    [dispatch, elementIds.tagGroupId],\n  )\n\n  const getTagProps = useCallback(\n    <Extra extends Record<string, unknown>>(\n      options: GetTagPropsOptions & Extra,\n    ) => {\n      const {index, refKey = 'ref', ref, onClick, ...rest} = options\n\n      if (!Number.isInteger(index) || index < 0) {\n        throw new Error('Pass correct item index to getTagProps!')\n      }\n\n      const latestState = latest.current.state\n\n      const handleClick = () => {\n        dispatch({type: stateChangeTypes.TagClick, index})\n      }\n      const tagId = elementIds.getTagId(index)\n\n      return {\n        'aria-describedby': A11Y_DESCRIPTION_ELEMENT_ID,\n        [refKey]: handleRefs(ref, itemNode => {\n          if (itemNode) {\n            itemRefs.current[tagId] = itemNode\n          }\n        }),\n        'aria-labelledby': tagId,\n        role: 'option',\n        id: tagId,\n        onClick: callAllEventHandlers(onClick, handleClick),\n        tabIndex: latestState.activeIndex === index ? 0 : -1,\n        ...rest,\n      } as GetTagPropsReturnValue & Extra\n    },\n    [dispatch, elementIds, latest, itemRefs],\n  )\n\n  const getTagRemoveProps = useCallback(\n    <Extra extends Record<string, unknown>>(\n      options: GetTagRemovePropsOptions & Extra,\n    ) => {\n      const {index, onClick, ...rest} = options\n\n      if (!Number.isInteger(index) || index < 0) {\n        throw new Error('Pass correct item index to getTagRemoveProps!')\n      }\n\n      const handleClick = (event: React.MouseEvent) => {\n        event.stopPropagation()\n        dispatch({type: stateChangeTypes.TagRemoveClick, index})\n      }\n\n      const tagId = elementIds.getTagId(index)\n      const tagRemoveId = `${tagId}-remove`\n\n      return {\n        id: tagRemoveId,\n        tabIndex: -1,\n        'aria-labelledby': `${tagRemoveId} ${tagId}`,\n        onClick: callAllEventHandlers(onClick, handleClick),\n        ...rest,\n      } as GetTagRemovePropsReturnValue & Extra\n    },\n    [elementIds, dispatch],\n  )\n\n  /* Imperative Functions */\n\n  const addItem = useCallback<UseTagGroupReturnValue<Item>['addItem']>(\n    (item, index): void => {\n      dispatch({type: stateChangeTypes.FunctionAddItem, item, index})\n    },\n    [dispatch],\n  )\n\n  return {\n    activeIndex,\n    addItem,\n    getTagGroupProps,\n    getTagProps,\n    getTagRemoveProps,\n    items,\n  }\n}\n\nuseTagGroup.stateChangeTypes = stateChangeTypes\n\nexport default useTagGroup\n"],"names":["setPrototypeOf","reactIs_development","reactIsModule","require$$1","require$$0","require$$2","require$$3","require$$4","propTypesModule","unknown","mouseUp","itemMouseEnter","keyDownArrowUp","keyDownArrowDown","keyDownEscape","keyDownEnter","keyDownHome","keyDownEnd","clickItem","blurInput","changeInput","keyDownSpaceButton","clickButton","blurButton","controlledPropUpdatedSelectedItem","touchEnd","idCounter","generateId","String","resetIdCounter","React","console","warn","useLatestRef","val","ref","useRef","current","handleRefs","_len","arguments","length","refs","Array","_key","node","forEach","callAllEventHandlers","fns","event","_len2","args","_key2","some","fn","apply","concat","preventDownshiftDefault","hasOwnProperty","nativeEvent","debounce","time","timeoutId","cancel","clearTimeout","wrapper","setTimeout","cleanupStatus","document","getStatusDiv","textContent","statusDiv","getElementById","createElement","setAttribute","Object","assign","style","border","clip","height","margin","overflow","padding","position","width","body","appendChild","setStatus","status","div","cleanupStatusDiv","remove","noop","validatePropTypes","options","caller","propTypes","PropTypes","checkPropTypes","name","getState","state","props","keys","reduce","newState","key","undefined","_extends","scrollIntoView","menuNode","actions","compute","boundary","_ref","el","top","left","scrollTop","scrollLeft","cbToCb","cb","isOrContainsNode","parent","child","environment","result","Node","contains","_len3","_key3","_len4","_key4","getA11yStatusMessage","isOpen","resultCount","previousResultCount","unwrapArray","arg","defaultValue","isArray","isDOMElement","element","type","getElementProps","requiredProp","fnName","propName","error","stateKeys","pickState","k","isControlledProp","normalizeArrowKey","keyCode","indexOf","isPlainObject","obj","prototype","toString","call","getHighlightedIndex","start","offset","items","isItemDisabled","circular","count","itemsLastIndex","highlightedIndex","getNonDisabledIndex","backwards","index","targetWithinDownshift","target","downshiftElements","checkActiveElement","contextNode","activeElement","validateControlledUnchanged","prevProps","nextProps","warningDescription","propKey","Downshift","_Component","_this","id","menuId","labelId","inputId","getItemId","itemCount","timeoutIds","internalSetTimeout","filter","i","push","setItemCount","unsetItemCount","_item","currentElementNode","getItemNodeFromIndex","hasAttribute","setHighlightedIndex","otherStateToSet","defaultHighlightedIndex","internalSetState","clearSelection","selectedItem","inputValue","defaultIsOpen","selectItem","item","itemToString","selectItemAtIndex","itemIndex","selectHighlightedItem","stateToSet","isItemSelected","onChangeArg","onStateChangeArg","isStateToSetFunction","onInputValueChange","getStateAndHelpers","setState","_newStateToSet","newStateToSet","stateReducer","nextState","stateChangeTypes","nextFullState","hasMoreStateThanType","onStateChange","onSelect","onChange","onUserAction","rootRef","_rootNode","getRootProps","_temp","_temp2","_extends2","_ref$refKey","refKey","rest","_objectWithoutPropertiesLoose","_excluded","_ref2","_ref2$suppressRefErro","suppressRefError","called","_this$getState","role","keyDownHandlers","ArrowDown","_this2","preventDefault","amount","shiftKey","moveHighlightedIndex","getItemCount","_this2$getState","nextHighlightedIndex","ArrowUp","_this3","_this3$getState","Enter","which","_this$getState2","itemNode","Escape","reset","buttonKeyDownHandlers","_","toggleMenu","inputKeyDownHandlers","Home","_this$getState3","newHighlightedIndex","End","_this$getState4","getToggleButtonProps","_temp3","_ref3","onClick","onPress","onKeyDown","onKeyUp","onBlur","_excluded2","_this$getState5","enabledEventHandlers","buttonHandleClick","buttonHandleKeyDown","buttonHandleKeyUp","buttonHandleBlur","eventHandlers","disabled","_this$props$environme","focus","blurTarget","isMouseDown","getLabelProps","htmlFor","getInputProps","_temp4","_ref4","onInput","onChangeText","_excluded3","onChangeKey","_this$getState6","_eventHandlers","inputHandleChange","inputHandleKeyDown","inputHandleBlur","autoComplete","value","_activeElement$datase","downshiftButtonIsActive","dataset","toggle","menuRef","_menuNode","getMenuProps","_temp5","_temp6","_extends3","_ref5","_ref5$refKey","_excluded4","_ref6","_ref6$suppressRefErro","getItemProps","_temp7","_enabledEventHandlers","_ref7","onMouseMove","onMouseDown","_ref7$item","_excluded5","onSelectKey","customClickHandler","avoidScrolling","clearItems","_ref8","_ref9","_this$getState7","openMenu","closeMenu","updateStatus","_this$props","highlightedItem","_this$props2","_this$props2$initialH","initialHighlightedIndex","_this$props2$initialI","initialIsOpen","_this$props2$initialI2","initialInputValue","_this$props2$initialS","initialSelectedItem","_inheritsLoose","_proto","internalClearTimeouts","stateToMerge","scrollHighlightedItemIntoView","_this$getState8","_this$getState9","componentDidMount","_this4","validateGetMenuPropsCalledCorrectly","cleanup","onMouseUp","contextWithinDownshift","onOuterClick","onTouchStart","isTouchMove","onTouchMove","onTouchEnd","addEventListener","removeEventListener","shouldScroll","prevState","_ref0","currentHighlightedIndex","_ref1","prevHighlightedIndex","scrollWhenOpen","scrollWhenNavigating","componentDidUpdate","selectedItemChanged","componentWillUnmount","render","children","validateGetRootPropsCalledCorrectly","cloneElement","Error","Component","defaultProps","prevItem","window","func","number","bool","any","string","shape","isRequired","_ref10","_ref11","refKeySpecified","isComposite","isForwardRef","capitalizeString","slice","toUpperCase","callOnChangeProps","action","changes","_i","_keys","invokeOnChangeHandler","handlerKey","handler","useEnhancedReducer","reducer","createInitialState","isStateEqual","prevStateRef","actionRef","propsRef","enhancedReducer","useCallback","_React$useReducer","useReducer","dispatch","useEffect","_prevStateRef$current","shouldCallOnChangeProps","useControlledReducer","_useEnhancedReducer","getItemAndIndex","itemProp","indexProp","errorMessage","useIsInitialMount","isInitialMountRef","_s","a","itemToKey","getDefaultValue","defaultStateValues","getInitialValue","initialValue","updateA11yStatus","useA11yMessageStatus","dependencyArray","isInitialMount","commonPropTypes","defaultSelectedItem","toggleButtonId","onSelectedItemChange","onHighlightedIndexChange","onIsOpenChange","useIsomorphicLayoutEffect","useLayoutEffect","useElementIds","reactId","useId","elementIds","useMemo","_ref2$id","isAcceptedCharacterKey","test","getInitialState","dropdownDefaultStateValues","getInitialHighlightedIndex","findIndex","getHighlightedIndexOnOpen","useMouseAndTouchTracker","handleBlur","downshiftRefs","mouseAndTouchTrackersRef","isTouchEnd","getDownshiftElements","map","useGetterPropsCalledChecker","propKeys","getterPropsCalledRef","acc","propCallInfo","elementRef","setGetterPropCallInfo","useScrollIntoView","itemRefs","menuElement","scrollIntoViewProp","shouldScrollRef","useControlPropsValidator","prevPropsRef","getChangesOnSelection","_props$items","shouldSelect","isDropdownsStateEqual","getDefaultHighlightedIndex","downshiftCommonReducer","ItemMouseMove","MenuMouseLeave","ToggleButtonClick","FunctionToggleMenu","FunctionOpenMenu","FunctionCloseMenu","FunctionSetHighlightedIndex","FunctionSetInputValue","FunctionReset","dropdownPropTypes","array","dropdownDefaultProps","getItemIndexByCharacterKey","keysSoFar","lowerCasedKeysSoFar","toLowerCase","offsetIndex","startsWith","ToggleButtonKeyDownArrowDown","ToggleButtonKeyDownArrowUp","ToggleButtonKeyDownCharacter","ToggleButtonKeyDownEscape","ToggleButtonKeyDownHome","ToggleButtonKeyDownEnd","ToggleButtonKeyDownEnter","ToggleButtonKeyDownSpaceButton","ToggleButtonKeyDownPageUp","ToggleButtonKeyDownPageDown","ToggleButtonBlur","ItemClick","FunctionSelectItem","downshiftSelectReducer","altKey","lowercasedKey","commonReducer","useSelect","userProps","_useControlledReducer","toggleButtonRef","clearTimeoutRef","latest","outerDispatch","focusOnOpen","handleBlurInTracker","mouseAndTouchTrackers","toggleButtonKeyDownHandlers","PageUp","PageDown","currentState","newSelectedItem","setInputValue","newInputValue","labelProps","labelHandleClick","_toggleButtonRef$curr","onMouseLeave","_ref2$refKey","_ref3$suppressRefErro","menuHandleMouseLeave","_ref4$refKey","_ref5$suppressRefErro","latestState","toggleButtonHandleClick","toggleButtonHandleBlur","toggleButtonHandleKeyDown","toggleProps","toggleButtonNode","tabIndex","_extends4","_ref6$refKey","disabledProp","_latest$current","latestProps","_getItemAndIndex","itemHandleMouseMove","itemHandleClick","itemHandleMouseDown","e","itemProps","InputKeyDownArrowDown","InputKeyDownArrowUp","InputKeyDownEscape","InputKeyDownHome","InputKeyDownEnd","InputKeyDownPageUp","InputKeyDownPageDown","InputKeyDownEnter","InputChange","InputBlur","InputClick","ControlledPropUpdatedSelectedItem","initialState","getInitialStateCommon","defaultInputValue","previousSelectedItemRef","shouldCallDispatch","downshiftUseComboboxReducer","useCombobox","inputRef","previousResultCountRef","_inputRef$current","_ref3$refKey","_extends5","_ref7$suppressRefErro","isBlurByTabChange","relatedTarget","inputHandleClick","inputNode","activeIndex","selectedItems","getInitialValueCommon","getDefaultValueCommon","isKeyDownOperationPermitted","metaKey","ctrlKey","HTMLInputElement","selectionStart","selectionEnd","initialSelectedItems","defaultSelectedItems","initialActiveIndex","defaultActiveIndex","onActiveIndexChange","onSelectedItemsChange","keyNavigationNext","keyNavigationPrevious","SelectedItemClick","SelectedItemKeyDownDelete","SelectedItemKeyDownBackspace","SelectedItemKeyDownNavigationNext","SelectedItemKeyDownNavigationPrevious","DropdownKeyDownNavigationPrevious","DropdownKeyDownBackspace","DropdownClick","FunctionAddSelectedItem","FunctionRemoveSelectedItem","FunctionSetSelectedItems","FunctionSetActiveIndex","downshiftMultipleSelectionReducer","newActiveIndex","selectedItemIndex","newSelectedItems","useMultipleSelection","dropdownRef","selectedItemRefs","selectedItemKeyDownHandlers","Delete","Backspace","dropdownKeyDownHandlers","getSelectedItemProps","selectedItemProp","isFocusable","selectedItemHandleClick","selectedItemHandleKeyDown","selectedItemNode","getDropdownProps","_ref4$preventKeyActio","preventKeyAction","dropdownHandleKeyDown","dropdownHandleClick","dropdownNode","addSelectedItem","removeSelectedItem","setSelectedItems","setActiveIndex","TagClick","TagGroupKeyDownArrowLeft","TagGroupKeyDownArrowRight","TagGroupKeyDownDelete","TagGroupKeyDownBackspace","TagRemoveClick","FunctionAddItem","useTagGroupReducer","_props","newItems","useElementIdsR18","useElementIdsLegacy","tagGroupId","getTagId","elementIdsRef","_props$activeIndex","initialItems","oldState","A11Y_DESCRIPTION_ELEMENT_ID","useAccessibleDescription","description","accessibleDescriptionElement","display","getMergedProps","removeElementDescription","useRovingTagFocus","itemsLength","previousActiveIndexRef","previousItemsLengthRef","_itemRefs$current$get","useTagGroup","_props$environment","getTagGroupProps","handleKeyDown","tagGroupProps","getTagProps","_options$refKey","Number","isInteger","handleClick","tagId","getTagRemoveProps","stopPropagation","tagRemoveId","addItem"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,24]}