{"version":3,"file":"downshift.umd.js","sources":["../../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../node_modules/@babel/runtime/helpers/esm/extends.js","../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","../../node_modules/react-is/cjs/react-is.development.js","../../node_modules/react-is/index.js","../../src/stateChangeTypes.js","../../src/utils-ts/generateId.ts","../../src/utils-ts/useLatestRef.ts","../../src/utils-ts/handleRefs.ts","../../src/utils-ts/callAllEventHandlers.ts","../../src/utils-ts/debounce.ts","../../src/utils-ts/setA11yStatus.ts","../../src/utils-ts/noop.ts","../../src/utils-ts/validatePropTypes.ts","../../src/utils-ts/getState.ts","../../node_modules/compute-scroll-into-view/dist/index.js","../../src/utils-ts/scrollIntoView.ts","../../src/utils.js","../../src/downshift.js","../../src/hooks/utils-ts/capitalizeString.ts","../../src/hooks/utils-ts/callOnChangeProps.ts","../../src/hooks/utils-ts/useEnhancedReducer.ts","../../src/hooks/utils-ts/useControlledReducer.ts","../../src/hooks/utils-ts/getItemAndIndex.ts","../../src/hooks/utils-ts/useIsInitialMount.ts","../../src/hooks/utils-ts/stateReducer.ts","../../src/hooks/utils-ts/propTypes.ts","../../src/hooks/utils-ts/getDefaultValue.ts","../../src/hooks/utils-ts/getInitialValue.ts","../../src/hooks/utils-ts/useA11yMessageStatus.ts","../../src/hooks/utils.dropdown/propTypes.ts","../../src/hooks/utils.dropdown/defaultProps.ts","../../src/hooks/utils.dropdown/defaultStateValues.ts","../../src/hooks/utils.js","../../src/hooks/reducer.js","../../src/hooks/useSelect/utils/propTypes.ts","../../src/hooks/useSelect/utils/defaultProps.ts","../../src/hooks/useSelect/utils/getItemIndexByCharacterKey.ts","../../src/hooks/useSelect/stateChangeTypes.js","../../src/hooks/useSelect/reducer.js","../../src/hooks/useSelect/index.js","../../src/hooks/useCombobox/stateChangeTypes.js","../../src/hooks/useCombobox/utils.js","../../src/hooks/useCombobox/reducer.js","../../src/hooks/useCombobox/index.js","../../src/hooks/useMultipleSelection/utils.js","../../src/hooks/useMultipleSelection/stateChangeTypes.js","../../src/hooks/useMultipleSelection/reducer.js","../../src/hooks/useMultipleSelection/index.js","../../src/hooks/useTagGroup/stateChangeTypes.ts","../../src/hooks/useTagGroup/reducer.ts","../../src/hooks/useTagGroup/utils/useElementIds.ts","../../src/hooks/useTagGroup/utils/getInitialState.ts","../../src/hooks/useTagGroup/utils/isStateEqual.ts","../../src/hooks/useTagGroup/utils/useAccessibleDescription.ts","../../src/hooks/useTagGroup/utils/getMergedProps.ts","../../src/hooks/useTagGroup/utils/useRovingTagFocus.ts","../../src/hooks/useTagGroup/utils/index.ts","../../src/hooks/useTagGroup/index.ts"],"sourcesContent":["function _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nexport { _objectWithoutPropertiesLoose as default };","function _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nexport { _extends as default };","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","/**\n * @license React\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n// The Symbol used to tag the ReactElement-like types.\nvar REACT_ELEMENT_TYPE = Symbol.for('react.element');\nvar REACT_PORTAL_TYPE = Symbol.for('react.portal');\nvar REACT_FRAGMENT_TYPE = Symbol.for('react.fragment');\nvar REACT_STRICT_MODE_TYPE = Symbol.for('react.strict_mode');\nvar REACT_PROFILER_TYPE = Symbol.for('react.profiler');\nvar REACT_PROVIDER_TYPE = Symbol.for('react.provider');\nvar REACT_CONTEXT_TYPE = Symbol.for('react.context');\nvar REACT_SERVER_CONTEXT_TYPE = Symbol.for('react.server_context');\nvar REACT_FORWARD_REF_TYPE = Symbol.for('react.forward_ref');\nvar REACT_SUSPENSE_TYPE = Symbol.for('react.suspense');\nvar REACT_SUSPENSE_LIST_TYPE = Symbol.for('react.suspense_list');\nvar REACT_MEMO_TYPE = Symbol.for('react.memo');\nvar REACT_LAZY_TYPE = Symbol.for('react.lazy');\nvar REACT_OFFSCREEN_TYPE = Symbol.for('react.offscreen');\n\n// -----------------------------------------------------------------------------\n\nvar enableScopeAPI = false; // Experimental Create Event Handle API.\nvar enableCacheElement = false;\nvar enableTransitionTracing = false; // No known bugs, but needs performance testing\n\nvar enableLegacyHidden = false; // Enables unstable_avoidThisFallback feature in Fiber\n// stuff. Intended to enable React core members to more easily debug scheduling\n// issues in DEV builds.\n\nvar enableDebugTracing = false; // Track which Fiber(s) schedule render work.\n\nvar REACT_MODULE_REFERENCE;\n\n{\n  REACT_MODULE_REFERENCE = Symbol.for('react.module.reference');\n}\n\nfunction isValidElementType(type) {\n  if (typeof type === 'string' || typeof type === 'function') {\n    return true;\n  } // Note: typeof might be other than 'symbol' or 'number' (e.g. if it's a polyfill).\n\n\n  if (type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || enableDebugTracing  || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || enableLegacyHidden  || type === REACT_OFFSCREEN_TYPE || enableScopeAPI  || enableCacheElement  || enableTransitionTracing ) {\n    return true;\n  }\n\n  if (typeof type === 'object' && type !== null) {\n    if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || // This needs to include all possible module reference object\n    // types supported by any Flight configuration anywhere since\n    // we don't know which Flight build this will end up being used\n    // with.\n    type.$$typeof === REACT_MODULE_REFERENCE || type.getModuleId !== undefined) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n          case REACT_SUSPENSE_LIST_TYPE:\n            return type;\n\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_SERVER_CONTEXT_TYPE:\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n\n              default:\n                return $$typeof;\n            }\n\n        }\n\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n}\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\nvar SuspenseList = REACT_SUSPENSE_LIST_TYPE;\nvar hasWarnedAboutDeprecatedIsAsyncMode = false;\nvar hasWarnedAboutDeprecatedIsConcurrentMode = false; // AsyncMode should be deprecated\n\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n      console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 18+.');\n    }\n  }\n\n  return false;\n}\nfunction isConcurrentMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsConcurrentMode) {\n      hasWarnedAboutDeprecatedIsConcurrentMode = true; // Using console['warn'] to evade Babel and ESLint\n\n      console['warn']('The ReactIs.isConcurrentMode() alias has been deprecated, ' + 'and will be removed in React 18+.');\n    }\n  }\n\n  return false;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\nfunction isSuspenseList(object) {\n  return typeOf(object) === REACT_SUSPENSE_LIST_TYPE;\n}\n\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.SuspenseList = SuspenseList;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\nexports.isSuspenseList = isSuspenseList;\nexports.isValidElementType = isValidElementType;\nexports.typeOf = typeOf;\n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","import productionEnum from './productionEnum.macro'\n\nexport const unknown = productionEnum('__autocomplete_unknown__')\nexport const mouseUp = productionEnum('__autocomplete_mouseup__')\nexport const itemMouseEnter = productionEnum('__autocomplete_item_mouseenter__')\nexport const keyDownArrowUp = productionEnum(\n  '__autocomplete_keydown_arrow_up__',\n)\nexport const keyDownArrowDown = productionEnum(\n  '__autocomplete_keydown_arrow_down__',\n)\nexport const keyDownEscape = productionEnum('__autocomplete_keydown_escape__')\nexport const keyDownEnter = productionEnum('__autocomplete_keydown_enter__')\nexport const keyDownHome = productionEnum('__autocomplete_keydown_home__')\nexport const keyDownEnd = productionEnum('__autocomplete_keydown_end__')\nexport const clickItem = productionEnum('__autocomplete_click_item__')\nexport const blurInput = productionEnum('__autocomplete_blur_input__')\nexport const changeInput = productionEnum('__autocomplete_change_input__')\nexport const keyDownSpaceButton = productionEnum(\n  '__autocomplete_keydown_space_button__',\n)\nexport const clickButton = productionEnum('__autocomplete_click_button__')\nexport const blurButton = productionEnum('__autocomplete_blur_button__')\nexport const controlledPropUpdatedSelectedItem = productionEnum(\n  '__autocomplete_controlled_prop_updated_selected_item__',\n)\nexport const touchEnd = productionEnum('__autocomplete_touchend__')\n","import * as React from 'react'\n\nlet idCounter = 0\n\n/**\n * This generates a unique ID for an instance of Downshift\n * @return {string} the unique ID\n */\nexport function generateId(): string {\n  return String(idCounter++)\n}\n\n/**\n * This is only used in tests\n * @param {number} num the number to set the idCounter to\n */\nexport function setIdCounter(num: number): void {\n  idCounter = num\n}\n\n/**\n * Resets idCounter to 0. Used for SSR.\n */\nexport function resetIdCounter() {\n  // istanbul ignore next\n  if ('useId' in React) {\n    console.warn(\n      `It is not necessary to call resetIdCounter when using React 18+`,\n    )\n\n    return\n  }\n\n  idCounter = 0\n}\n","import * as React from 'react'\n\nexport function useLatestRef<T>(val: T): React.MutableRefObject<T> {\n  const ref = React.useRef(val)\n  // technically this is not \"concurrent mode safe\" because we're manipulating\n  // the value during render (so it's not idempotent). However, the places this\n  // hook is used is to support memoizing callbacks which will be called\n  // *during* render, so we need the latest values *during* render.\n  // If not for this, then we'd probably want to use useLayoutEffect instead.\n  ref.current = val\n  return ref\n}\n","import * as React from 'react'\n\nexport function handleRefs(\n  ...refs: (\n    | React.MutableRefObject<HTMLElement>\n    | React.RefCallback<HTMLElement>\n    | undefined\n  )[]\n) {\n  return (node: HTMLElement) => {\n    refs.forEach(ref => {\n      if (typeof ref === 'function') {\n        ref(node)\n      } else if (ref) {\n        ref.current = node\n      }\n    })\n  }\n}\n","/**\n * This is intended to be used to compose event handlers.\n * They are executed in order until one of them sets\n * `event.preventDownshiftDefault = true`.\n * @param fns the event handler functions\n * @return the event handler to add to an element\n */\nexport function callAllEventHandlers(...fns: (Function | undefined)[]) {\n  return (\n    event: React.SyntheticEvent & {\n      preventDownshiftDefault?: boolean\n      nativeEvent: {preventDownshiftDefault?: boolean}\n    },\n    ...args: unknown[]\n  ) =>\n    fns.some(fn => {\n      if (fn) {\n        fn(event, ...args)\n      }\n      return (\n        event.preventDownshiftDefault ||\n        (event.hasOwnProperty('nativeEvent') &&\n          event.nativeEvent.preventDownshiftDefault)\n      )\n    })\n}\n","/**\n * Simple debounce implementation. Will call the given\n * function once after the time given has passed since\n * it was last called.\n */\nexport function debounce(\n  fn: Function,\n  time: number,\n): Function & {cancel: Function} {\n  let timeoutId: NodeJS.Timeout | undefined | null\n\n  function cancel() {\n    if (timeoutId) {\n      clearTimeout(timeoutId)\n    }\n  }\n\n  function wrapper(...args: unknown[]) {\n    cancel()\n    timeoutId = setTimeout(() => {\n      timeoutId = null\n      fn(...args)\n    }, time)\n  }\n\n  wrapper.cancel = cancel\n\n  return wrapper\n}\n","import {debounce} from './debounce'\n\nconst cleanupStatus = debounce((document: Document) => {\n  getStatusDiv(document).textContent = ''\n}, 500)\n\n/**\n * Get the status node or create it if it does not already exist.\n */\nfunction getStatusDiv(document: Document) {\n  let statusDiv = document.getElementById('a11y-status-message')\n  if (statusDiv) {\n    return statusDiv\n  }\n\n  statusDiv = document.createElement('div')\n  statusDiv.setAttribute('id', 'a11y-status-message')\n  statusDiv.setAttribute('role', 'status')\n  statusDiv.setAttribute('aria-live', 'polite')\n  statusDiv.setAttribute('aria-relevant', 'additions text')\n  Object.assign(statusDiv.style, {\n    border: '0',\n    clip: 'rect(0 0 0 0)',\n    height: '1px',\n    margin: '-1px',\n    overflow: 'hidden',\n    padding: '0',\n    position: 'absolute',\n    width: '1px',\n  })\n\n  document.body.appendChild(statusDiv)\n  return statusDiv\n}\n\n/**\n * Sets aria live status to a div element that's visually hidden.\n */\nexport function setStatus(status: string, document: Document | undefined) {\n  if (!status || !document) {\n    return\n  }\n\n  const div = getStatusDiv(document)\n\n  div.textContent = status\n  cleanupStatus(document)\n}\n\n/**\n * Removes the status element from the DOM\n */\nexport function cleanupStatusDiv(document: Document | undefined) {\n  const statusDiv = document?.getElementById('a11y-status-message')\n\n  if (statusDiv) {\n    statusDiv.remove()\n  }\n}\n","export function noop() {}\n","import PropTypes from 'prop-types'\nimport {noop} from './noop'\n\n// eslint-disable-next-line import/no-mutable-exports\nexport let validatePropTypes = noop as (\n  options: unknown,\n  caller: Function,\n  propTypes: Record<\n    string,\n    PropTypes.Requireable<(...args: unknown[]) => unknown>\n  >,\n) => void\n/* istanbul ignore next */\nif (process.env.NODE_ENV !== 'production') {\n  validatePropTypes = (\n    options: unknown,\n    caller: Function,\n    propTypes: Record<\n      string,\n      PropTypes.Requireable<(...args: unknown[]) => unknown>\n    >,\n  ): void => {\n    PropTypes.checkPropTypes(propTypes, options, 'prop', caller.name)\n  }\n}\n","export interface Action<T> extends Record<string, unknown> {\n  type: T\n}\n\nexport type State = Record<string, unknown>\n\nexport interface Props<S, T> {\n  onStateChange?(typeAndChanges: unknown): void\n  stateReducer(\n    state: S,\n    actionAndChanges: Action<T> & {changes: Partial<S>},\n  ): Partial<S>\n}\n\n/**\n * This will perform a shallow merge of the given state object\n * with the state coming from props\n * (for the controlled component scenario)\n * This is used in state updater functions so they're referencing\n * the right state regardless of where it comes from.\n *\n * @param state The state of the component/hook.\n * @param props The props that may contain controlled values.\n * @returns The merged controlled state.\n */\nexport function getState<\n  S extends State,\n  P extends Partial<S> & Props<S, T>,\n  T,\n>(state: S, props?: P): S {\n  if (!props) {\n    return state\n  }\n\n  const keys = Object.keys(state) as (keyof S)[]\n\n  return keys.reduce(\n    (newState, key) => {\n      if (props[key] !== undefined) {\n        newState[key] = (props as Partial<S>)[key] as S[typeof key]\n      }\n      return newState\n    },\n    {...state},\n  )\n}\n","const t=t=>\"object\"==typeof t&&null!=t&&1===t.nodeType,e=(t,e)=>(!e||\"hidden\"!==t)&&(\"visible\"!==t&&\"clip\"!==t),n=(t,n)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const o=getComputedStyle(t,null);return e(o.overflowY,n)||e(o.overflowX,n)||(t=>{const e=(t=>{if(!t.ownerDocument||!t.ownerDocument.defaultView)return null;try{return t.ownerDocument.defaultView.frameElement}catch(t){return null}})(t);return!!e&&(e.clientHeight<t.scrollHeight||e.clientWidth<t.scrollWidth)})(t)}return!1},o=(t,e,n,o,l,r,i,s)=>r<t&&i>e||r>t&&i<e?0:r<=t&&s<=n||i>=e&&s>=n?r-t-o:i>e&&s<n||r<t&&s>n?i-e+l:0,l=t=>{const e=t.parentElement;return null==e?t.getRootNode().host||null:e},r=(e,r)=>{var i,s,d,h;if(\"undefined\"==typeof document)return[];const{scrollMode:c,block:f,inline:u,boundary:a,skipOverflowHiddenElements:g}=r,p=\"function\"==typeof a?a:t=>t!==a;if(!t(e))throw new TypeError(\"Invalid target\");const m=document.scrollingElement||document.documentElement,w=[];let W=e;for(;t(W)&&p(W);){if(W=l(W),W===m){w.push(W);break}null!=W&&W===document.body&&n(W)&&!n(document.documentElement)||null!=W&&n(W,g)&&w.push(W)}const b=null!=(s=null==(i=window.visualViewport)?void 0:i.width)?s:innerWidth,H=null!=(h=null==(d=window.visualViewport)?void 0:d.height)?h:innerHeight,{scrollX:y,scrollY:M}=window,{height:v,width:E,top:x,right:C,bottom:I,left:R}=e.getBoundingClientRect(),{top:T,right:B,bottom:F,left:V}=(t=>{const e=window.getComputedStyle(t);return{top:parseFloat(e.scrollMarginTop)||0,right:parseFloat(e.scrollMarginRight)||0,bottom:parseFloat(e.scrollMarginBottom)||0,left:parseFloat(e.scrollMarginLeft)||0}})(e);let k=\"start\"===f||\"nearest\"===f?x-T:\"end\"===f?I+F:x+v/2-T+F,D=\"center\"===u?R+E/2-V+B:\"end\"===u?C+B:R-V;const L=[];for(let t=0;t<w.length;t++){const e=w[t],{height:l,width:r,top:i,right:s,bottom:d,left:h}=e.getBoundingClientRect();if(\"if-needed\"===c&&x>=0&&R>=0&&I<=H&&C<=b&&(e===m&&!n(e)||x>=i&&I<=d&&R>=h&&C<=s))return L;const a=getComputedStyle(e),g=parseInt(a.borderLeftWidth,10),p=parseInt(a.borderTopWidth,10),W=parseInt(a.borderRightWidth,10),T=parseInt(a.borderBottomWidth,10);let B=0,F=0;const V=\"offsetWidth\"in e?e.offsetWidth-e.clientWidth-g-W:0,S=\"offsetHeight\"in e?e.offsetHeight-e.clientHeight-p-T:0,X=\"offsetWidth\"in e?0===e.offsetWidth?0:r/e.offsetWidth:0,Y=\"offsetHeight\"in e?0===e.offsetHeight?0:l/e.offsetHeight:0;if(m===e)B=\"start\"===f?k:\"end\"===f?k-H:\"nearest\"===f?o(M,M+H,H,p,T,M+k,M+k+v,v):k-H/2,F=\"start\"===u?D:\"center\"===u?D-b/2:\"end\"===u?D-b:o(y,y+b,b,g,W,y+D,y+D+E,E),B=Math.max(0,B+M),F=Math.max(0,F+y);else{B=\"start\"===f?k-i-p:\"end\"===f?k-d+T+S:\"nearest\"===f?o(i,d,l,p,T+S,k,k+v,v):k-(i+l/2)+S/2,F=\"start\"===u?D-h-g:\"center\"===u?D-(h+r/2)+V/2:\"end\"===u?D-s+W+V:o(h,s,r,g,W+V,D,D+E,E);const{scrollLeft:t,scrollTop:n}=e;B=0===Y?0:Math.max(0,Math.min(n+B/Y,e.scrollHeight-l/Y+S)),F=0===X?0:Math.max(0,Math.min(t+F/X,e.scrollWidth-r/X+V)),k+=n-B,D+=t-F}L.push({el:e,top:B,left:F})}return L};export{r as compute};//# sourceMappingURL=index.js.map\n","import {compute} from 'compute-scroll-into-view'\n\n/**\n * Scroll node into view if necessary\n * @param {HTMLElement} node the element that should scroll into view\n * @param {HTMLElement} menuNode the menu element of the component\n */\nexport function scrollIntoView(\n  node: HTMLElement | undefined,\n  menuNode: HTMLElement | undefined,\n) {\n  if (!node) {\n    return\n  }\n\n  const actions = compute(node, {\n    boundary: menuNode,\n    block: 'nearest',\n    scrollMode: 'if-needed',\n  })\n  actions.forEach(({el, top, left}) => {\n    el.scrollTop = top\n    el.scrollLeft = left\n  })\n}\n","import {isPreact} from './is.macro'\nimport { noop } from './utils-ts'\n\n/**\n * Accepts a parameter and returns it if it's a function\n * or a noop function if it's not. This allows us to\n * accept a callback, but not worry about it if it's not\n * passed.\n * @param {Function} cb the callback\n * @return {Function} a function\n */\nfunction cbToCb(cb) {\n  return typeof cb === 'function' ? cb : noop\n}\n\n/**\n * @param {HTMLElement} parent the parent node\n * @param {HTMLElement} child the child node\n * @param {Window} environment The window context where downshift renders.\n * @return {Boolean} whether the parent is the child or the child is in the parent\n */\nfunction isOrContainsNode(parent, child, environment) {\n  const result =\n    parent === child ||\n    (child instanceof environment.Node &&\n      parent.contains &&\n      parent.contains(child))\n  return result\n}\n\n/**\n * Simple debounce implementation. Will call the given\n * function once after the time given has passed since\n * it was last called.\n * @param {Function} fn the function to call after the time\n * @param {Number} time the time to wait\n * @return {Function} the debounced function\n */\nfunction debounce(fn, time) {\n  let timeoutId\n\n  function cancel() {\n    if (timeoutId) {\n      clearTimeout(timeoutId)\n    }\n  }\n\n  function wrapper(...args) {\n    cancel()\n    timeoutId = setTimeout(() => {\n      timeoutId = null\n      fn(...args)\n    }, time)\n  }\n\n  wrapper.cancel = cancel\n\n  return wrapper\n}\n\n/**\n * This is intended to be used to compose event handlers.\n * They are executed in order until one of them sets\n * `event.preventDownshiftDefault = true`.\n * @param {...Function} fns the event handler functions\n * @return {Function} the event handler to add to an element\n */\nfunction callAllEventHandlers(...fns) {\n  return (event, ...args) =>\n    fns.some(fn => {\n      if (fn) {\n        fn(event, ...args)\n      }\n      return (\n        event.preventDownshiftDefault ||\n        (event.hasOwnProperty('nativeEvent') &&\n          event.nativeEvent.preventDownshiftDefault)\n      )\n    })\n}\n\nfunction handleRefs(...refs) {\n  return node => {\n    refs.forEach(ref => {\n      if (typeof ref === 'function') {\n        ref(node)\n      } else if (ref) {\n        ref.current = node\n      }\n    })\n  }\n}\n\n/**\n * Default implementation for status message. Only added when menu is open.\n * Will specify if there are results in the list, and if so, how many,\n * and what keys are relevant.\n *\n * @param {Object} param the downshift state and other relevant properties\n * @return {String} the a11y status message\n */\nfunction getA11yStatusMessage({isOpen, resultCount, previousResultCount}) {\n  if (!isOpen) {\n    return ''\n  }\n\n  if (!resultCount) {\n    return 'No results are available.'\n  }\n\n  if (resultCount !== previousResultCount) {\n    return `${resultCount} result${\n      resultCount === 1 ? ' is' : 's are'\n    } available, use up and down arrow keys to navigate. Press Enter key to select.`\n  }\n\n  return ''\n}\n\n/**\n * Takes an argument and if it's an array, returns the first item in the array\n * otherwise returns the argument\n * @param {*} arg the maybe-array\n * @param {*} defaultValue the value if arg is falsey not defined\n * @return {*} the arg or it's first item\n */\nfunction unwrapArray(arg, defaultValue) {\n  arg = Array.isArray(arg) ? /* istanbul ignore next (preact) */ arg[0] : arg\n  if (!arg && defaultValue) {\n    return defaultValue\n  } else {\n    return arg\n  }\n}\n\n/**\n * @param {Object} element (P)react element\n * @return {Boolean} whether it's a DOM element\n */\nfunction isDOMElement(element) {\n  /* istanbul ignore if */\n  if (isPreact) {\n    // then this is preact or preact X\n    return (\n      typeof element.type === 'string' || typeof element.nodeName === 'string'\n    )\n  }\n\n  // then we assume this is react\n  return typeof element.type === 'string'\n}\n\n/**\n * @param {Object} element (P)react element\n * @return {Object} the props\n */\nfunction getElementProps(element) {\n  // props for react, attributes for preact\n\n  /* istanbul ignore if */\n  if (isPreact) {\n    return element.props || element.attributes\n  }\n\n  return element.props\n}\n\n/**\n * Throws a helpful error message for required properties. Useful\n * to be used as a default in destructuring or object params.\n * @param {String} fnName the function name\n * @param {String} propName the prop name\n */\nfunction requiredProp(fnName, propName) {\n  // eslint-disable-next-line no-console\n  console.error(`The property \"${propName}\" is required in \"${fnName}\"`)\n}\n\nconst stateKeys = [\n  'highlightedIndex',\n  'inputValue',\n  'isOpen',\n  'selectedItem',\n  'type',\n]\n/**\n * @param {Object} state the state object\n * @return {Object} state that is relevant to downshift\n */\nfunction pickState(state = {}) {\n  const result = {}\n  stateKeys.forEach(k => {\n    if (state.hasOwnProperty(k)) {\n      result[k] = state[k]\n    }\n  })\n  return result\n}\n\n/**\n * This determines whether a prop is a \"controlled prop\" meaning it is\n * state which is controlled by the outside of this component rather\n * than within this component.\n *\n * @param {Object} props The props that may contain controlled values.\n * @param {String} key the key to check\n * @return {Boolean} whether it is a controlled controlled prop\n */\nfunction isControlledProp(props, key) {\n  return props[key] !== undefined\n}\n\n/**\n * Normalizes the 'key' property of a KeyboardEvent in IE/Edge\n * @param {Object} event a keyboardEvent object\n * @return {String} keyboard key\n */\nfunction normalizeArrowKey(event) {\n  const {key, keyCode} = event\n  /* istanbul ignore next (ie) */\n  if (keyCode >= 37 && keyCode <= 40 && key.indexOf('Arrow') !== 0) {\n    return `Arrow${key}`\n  }\n  return key\n}\n\n/**\n * Simple check if the value passed is object literal\n * @param {*} obj any things\n * @return {Boolean} whether it's object literal\n */\nfunction isPlainObject(obj) {\n  return Object.prototype.toString.call(obj) === '[object Object]'\n}\n\n/**\n * Returns the next non-disabled highlightedIndex value.\n *\n * @param {number} start The current highlightedIndex.\n * @param {number} offset The offset from the current highlightedIndex to start searching.\n * @param {unknown[]} items The items array.\n * @param {(item: unknown, index: number) => boolean} isItemDisabled Function that tells if an item is disabled or not.\n * @param {boolean?} circular If the search reaches the end, if it can search again starting from the other end.\n * @returns {number} The next highlightedIndex.\n */\nfunction getHighlightedIndex(\n  start,\n  offset,\n  items,\n  isItemDisabled,\n  circular = false,\n) {\n  const count = items.length\n  if (count === 0) {\n    return -1\n  }\n\n  const itemsLastIndex = count - 1\n\n  if (typeof start !== 'number' || start < 0 || start > itemsLastIndex) {\n    start = offset > 0 ? -1 : itemsLastIndex + 1\n  }\n\n  let current = start + offset\n\n  if (current < 0) {\n    current = circular ? itemsLastIndex : 0\n  } else if (current > itemsLastIndex) {\n    current = circular ? 0 : itemsLastIndex\n  }\n\n  const highlightedIndex = getNonDisabledIndex(\n    current,\n    offset < 0,\n    items,\n    isItemDisabled,\n    circular,\n  )\n\n  if (highlightedIndex === -1) {\n    return start >= count ? -1 : start\n  }\n\n  return highlightedIndex\n}\n\n/**\n * Returns the next non-disabled highlightedIndex value.\n *\n * @param {number} start The current highlightedIndex.\n * @param {boolean} backwards If true, it will search backwards from the start.\n * @param {unknown[]} items The items array.\n * @param {(item: unknown, index: number) => boolean} isItemDisabled Function that tells if an item is disabled or not.\n * @param {boolean} circular If the search reaches the end, if it can search again starting from the other end.\n * @returns {number} The next non-disabled index.\n */\nfunction getNonDisabledIndex(\n  start,\n  backwards,\n  items,\n  isItemDisabled,\n  circular = false,\n) {\n  const count = items.length\n\n  if (backwards) {\n    for (let index = start; index >= 0; index--) {\n      if (!isItemDisabled(items[index], index)) {\n        return index\n      }\n    }\n  } else {\n    for (let index = start; index < count; index++) {\n      if (!isItemDisabled(items[index], index)) {\n        return index\n      }\n    }\n  }\n\n  if (circular) {\n    return getNonDisabledIndex(\n      backwards ? count - 1 : 0,\n      backwards,\n      items,\n      isItemDisabled,\n    )\n  }\n\n  return -1\n}\n\n/**\n * Checks if event target is within the downshift elements.\n *\n * @param {EventTarget} target Target to check.\n * @param {HTMLElement[]} downshiftElements The elements that form downshift (list, toggle button etc).\n * @param {Window} environment The window context where downshift renders.\n * @param {boolean} checkActiveElement Whether to also check activeElement.\n *\n * @returns {boolean} Whether or not the target is within downshift elements.\n */\nfunction targetWithinDownshift(\n  target,\n  downshiftElements,\n  environment,\n  checkActiveElement = true,\n) {\n  return (\n    environment &&\n    downshiftElements.some(\n      contextNode =>\n        contextNode &&\n        (isOrContainsNode(contextNode, target, environment) ||\n          (checkActiveElement &&\n            isOrContainsNode(\n              contextNode,\n              environment.document.activeElement,\n              environment,\n            ))),\n    )\n  )\n}\n\n// eslint-disable-next-line import/no-mutable-exports\nlet validateControlledUnchanged = noop\n/* istanbul ignore next */\nif (process.env.NODE_ENV !== 'production') {\n  validateControlledUnchanged = (state, prevProps, nextProps) => {\n    const warningDescription = `This prop should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled Downshift element for the lifetime of the component. More info: https://github.com/downshift-js/downshift#control-props`\n\n    Object.keys(state).forEach(propKey => {\n      if (\n        prevProps[propKey] !== undefined &&\n        nextProps[propKey] === undefined\n      ) {\n        // eslint-disable-next-line no-console\n        console.error(\n          `downshift: A component has changed the controlled prop \"${propKey}\" to be uncontrolled. ${warningDescription}`,\n        )\n      } else if (\n        prevProps[propKey] === undefined &&\n        nextProps[propKey] !== undefined\n      ) {\n        // eslint-disable-next-line no-console\n        console.error(\n          `downshift: A component has changed the uncontrolled prop \"${propKey}\" to be controlled. ${warningDescription}`,\n        )\n      }\n    })\n  }\n}\n\nexport {\n  cbToCb,\n  callAllEventHandlers,\n  handleRefs,\n  debounce,\n  getA11yStatusMessage,\n  unwrapArray,\n  isDOMElement,\n  getElementProps,\n  requiredProp,\n  pickState,\n  isPlainObject,\n  normalizeArrowKey,\n  targetWithinDownshift,\n  isControlledProp,\n  validateControlledUnchanged,\n  getHighlightedIndex,\n  getNonDisabledIndex,\n}\n","/* eslint camelcase:0 */\n\nimport PropTypes from 'prop-types'\nimport {Component, cloneElement} from 'react'\nimport {isForwardRef} from 'react-is'\nimport {isPreact, isReactNative, isReactNativeWeb} from './is.macro'\nimport * as stateChangeTypes from './stateChangeTypes'\nimport {\n  handleRefs,\n  callAllEventHandlers,\n  cbToCb,\n  debounce,\n  getA11yStatusMessage,\n  getElementProps,\n  isDOMElement,\n  targetWithinDownshift,\n  isPlainObject,\n  normalizeArrowKey,\n  pickState,\n  requiredProp,\n  unwrapArray,\n  isControlledProp,\n  validateControlledUnchanged,\n  getHighlightedIndex,\n  getNonDisabledIndex,\n} from './utils'\nimport {generateId, scrollIntoView, setStatus, getState, noop} from './utils-ts'\n\nclass Downshift extends Component {\n  static propTypes = {\n    children: PropTypes.func,\n    defaultHighlightedIndex: PropTypes.number,\n    defaultIsOpen: PropTypes.bool,\n    initialHighlightedIndex: PropTypes.number,\n    initialSelectedItem: PropTypes.any,\n    initialInputValue: PropTypes.string,\n    initialIsOpen: PropTypes.bool,\n    getA11yStatusMessage: PropTypes.func,\n    itemToString: PropTypes.func,\n    onChange: PropTypes.func,\n    onSelect: PropTypes.func,\n    onStateChange: PropTypes.func,\n    onInputValueChange: PropTypes.func,\n    onUserAction: PropTypes.func,\n    onOuterClick: PropTypes.func,\n    selectedItemChanged: PropTypes.func,\n    stateReducer: PropTypes.func,\n    itemCount: PropTypes.number,\n    id: PropTypes.string,\n    environment: PropTypes.shape({\n      addEventListener: PropTypes.func.isRequired,\n      removeEventListener: PropTypes.func.isRequired,\n      document: PropTypes.shape({\n        createElement: PropTypes.func.isRequired,\n        getElementById: PropTypes.func.isRequired,\n        activeElement: PropTypes.any.isRequired,\n        body: PropTypes.any.isRequired,\n      }).isRequired,\n      Node: PropTypes.func.isRequired,\n    }),\n    suppressRefError: PropTypes.bool,\n    scrollIntoView: PropTypes.func,\n    // things we keep in state for uncontrolled components\n    // but can accept as props for controlled components\n    /* eslint-disable react/no-unused-prop-types */\n    selectedItem: PropTypes.any,\n    isOpen: PropTypes.bool,\n    inputValue: PropTypes.string,\n    highlightedIndex: PropTypes.number,\n    labelId: PropTypes.string,\n    inputId: PropTypes.string,\n    menuId: PropTypes.string,\n    getItemId: PropTypes.func,\n    /* eslint-enable react/no-unused-prop-types */\n  }\n\n  static defaultProps = {\n    defaultHighlightedIndex: null,\n    defaultIsOpen: false,\n    getA11yStatusMessage,\n    itemToString: i => {\n      if (i == null) {\n        return ''\n      }\n      if (\n        process.env.NODE_ENV !== 'production' &&\n        isPlainObject(i) &&\n        !i.hasOwnProperty('toString')\n      ) {\n        // eslint-disable-next-line no-console\n        console.warn(\n          'downshift: An object was passed to the default implementation of `itemToString`. You should probably provide your own `itemToString` implementation. Please refer to the `itemToString` API documentation.',\n          'The object that was passed:',\n          i,\n        )\n      }\n      return String(i)\n    },\n    onStateChange: noop,\n    onInputValueChange: noop,\n    onUserAction: noop,\n    onChange: noop,\n    onSelect: noop,\n    onOuterClick: noop,\n    selectedItemChanged: (prevItem, item) => prevItem !== item,\n    environment:\n      /* istanbul ignore next (ssr) */\n      typeof window === 'undefined' || isReactNative ? undefined : window,\n    stateReducer: (state, stateToSet) => stateToSet,\n    suppressRefError: false,\n    scrollIntoView,\n  }\n\n  static stateChangeTypes = stateChangeTypes\n\n  constructor(props) {\n    super(props)\n    // fancy destructuring + defaults + aliases\n    // this basically says each value of state should either be set to\n    // the initial value or the default value if the initial value is not provided\n    const {\n      defaultHighlightedIndex,\n      initialHighlightedIndex: highlightedIndex = defaultHighlightedIndex,\n      defaultIsOpen,\n      initialIsOpen: isOpen = defaultIsOpen,\n      initialInputValue: inputValue = '',\n      initialSelectedItem: selectedItem = null,\n    } = this.props\n    const state = this.getState({\n      highlightedIndex,\n      isOpen,\n      inputValue,\n      selectedItem,\n    })\n    if (\n      state.selectedItem != null &&\n      this.props.initialInputValue === undefined\n    ) {\n      state.inputValue = this.props.itemToString(state.selectedItem)\n    }\n    this.state = state\n  }\n\n  id = this.props.id || `downshift-${generateId()}`\n  menuId = this.props.menuId || `${this.id}-menu`\n  labelId = this.props.labelId || `${this.id}-label`\n  inputId = this.props.inputId || `${this.id}-input`\n  getItemId = this.props.getItemId || (index => `${this.id}-item-${index}`)\n\n  items = []\n  // itemCount can be changed asynchronously\n  // from within downshift (so it can't come from a prop)\n  // this is why we store it as an instance and use\n  // getItemCount rather than just use items.length\n  // (to support windowing + async)\n  itemCount = null\n  previousResultCount = 0\n\n  timeoutIds = []\n\n  /**\n   * @param {Function} fn the function to call after the time\n   * @param {Number} time the time to wait\n   */\n  internalSetTimeout = (fn, time) => {\n    const id = setTimeout(() => {\n      this.timeoutIds = this.timeoutIds.filter(i => i !== id)\n      fn()\n    }, time)\n\n    this.timeoutIds.push(id)\n  }\n\n  /**\n   * Clear all running timeouts\n   */\n  internalClearTimeouts() {\n    this.timeoutIds.forEach(id => {\n      clearTimeout(id)\n    })\n\n    this.timeoutIds = []\n  }\n\n  /**\n   * Gets the state based on internal state or props\n   * If a state value is passed via props, then that\n   * is the value given, otherwise it's retrieved from\n   * stateToMerge\n   *\n   * @param {Object} stateToMerge defaults to this.state\n   * @return {Object} the state\n   */\n  getState(stateToMerge = this.state) {\n    return getState(stateToMerge, this.props)\n  }\n\n  getItemCount() {\n    // things read better this way. They're in priority order:\n    // 1. `this.itemCount`\n    // 2. `this.props.itemCount`\n    // 3. `this.items.length`\n    let itemCount = this.items.length\n    if (this.itemCount != null) {\n      itemCount = this.itemCount\n    } else if (this.props.itemCount !== undefined) {\n      itemCount = this.props.itemCount\n    }\n    return itemCount\n  }\n\n  setItemCount = count => {\n    this.itemCount = count\n  }\n\n  unsetItemCount = () => {\n    this.itemCount = null\n  }\n\n  getItemNodeFromIndex(index) {\n    return this.props.environment\n      ? this.props.environment.document.getElementById(this.getItemId(index))\n      : null\n  }\n\n  isItemDisabled = (_item, index) => {\n    const currentElementNode = this.getItemNodeFromIndex(index)\n\n    return currentElementNode && currentElementNode.hasAttribute('disabled')\n  }\n\n  setHighlightedIndex = (\n    highlightedIndex = this.props.defaultHighlightedIndex,\n    otherStateToSet = {},\n  ) => {\n    otherStateToSet = pickState(otherStateToSet)\n    this.internalSetState({highlightedIndex, ...otherStateToSet})\n  }\n\n  scrollHighlightedItemIntoView() {\n    /* istanbul ignore else (react-native) */\n    if (!isReactNative) {\n      const node = this.getItemNodeFromIndex(this.getState().highlightedIndex)\n      this.props.scrollIntoView(node, this._menuNode)\n    }\n  }\n\n  moveHighlightedIndex(amount, otherStateToSet) {\n    const itemCount = this.getItemCount()\n    const {highlightedIndex} = this.getState()\n    if (itemCount > 0) {\n      const nextHighlightedIndex = getHighlightedIndex(\n        highlightedIndex,\n        amount,\n        {length: itemCount},\n        this.isItemDisabled,\n        true,\n      )\n      this.setHighlightedIndex(nextHighlightedIndex, otherStateToSet)\n    }\n  }\n\n  clearSelection = cb => {\n    this.internalSetState(\n      {\n        selectedItem: null,\n        inputValue: '',\n        highlightedIndex: this.props.defaultHighlightedIndex,\n        isOpen: this.props.defaultIsOpen,\n      },\n      cb,\n    )\n  }\n\n  selectItem = (item, otherStateToSet, cb) => {\n    otherStateToSet = pickState(otherStateToSet)\n    this.internalSetState(\n      {\n        isOpen: this.props.defaultIsOpen,\n        highlightedIndex: this.props.defaultHighlightedIndex,\n        selectedItem: item,\n        inputValue: this.props.itemToString(item),\n        ...otherStateToSet,\n      },\n      cb,\n    )\n  }\n\n  selectItemAtIndex = (itemIndex, otherStateToSet, cb) => {\n    const item = this.items[itemIndex]\n    if (item == null) {\n      return\n    }\n    this.selectItem(item, otherStateToSet, cb)\n  }\n\n  selectHighlightedItem = (otherStateToSet, cb) => {\n    return this.selectItemAtIndex(\n      this.getState().highlightedIndex,\n      otherStateToSet,\n      cb,\n    )\n  }\n\n  // any piece of our state can live in two places:\n  // 1. Uncontrolled: it's internal (this.state)\n  //    We will call this.setState to update that state\n  // 2. Controlled: it's external (this.props)\n  //    We will call this.props.onStateChange to update that state\n  //\n  // In addition, we'll call this.props.onChange if the\n  // selectedItem is changed.\n  internalSetState = (stateToSet, cb) => {\n    let isItemSelected, onChangeArg\n\n    const onStateChangeArg = {}\n    const isStateToSetFunction = typeof stateToSet === 'function'\n\n    // we want to call `onInputValueChange` before the `setState` call\n    // so someone controlling the `inputValue` state gets notified of\n    // the input change as soon as possible. This avoids issues with\n    // preserving the cursor position.\n    // See https://github.com/downshift-js/downshift/issues/217 for more info.\n    if (!isStateToSetFunction && stateToSet.hasOwnProperty('inputValue')) {\n      this.props.onInputValueChange(stateToSet.inputValue, {\n        ...this.getStateAndHelpers(),\n        ...stateToSet,\n      })\n    }\n    return this.setState(\n      state => {\n        state = this.getState(state)\n        let newStateToSet = isStateToSetFunction\n          ? stateToSet(state)\n          : stateToSet\n\n        // Your own function that could modify the state that will be set.\n        newStateToSet = this.props.stateReducer(state, newStateToSet)\n\n        // checks if an item is selected, regardless of if it's different from\n        // what was selected before\n        // used to determine if onSelect and onChange callbacks should be called\n        isItemSelected = newStateToSet.hasOwnProperty('selectedItem')\n        // this keeps track of the object we want to call with setState\n        const nextState = {}\n        // this is just used to tell whether the state changed\n        const nextFullState = {}\n        // we need to call on change if the outside world is controlling any of our state\n        // and we're trying to update that state. OR if the selection has changed and we're\n        // trying to update the selection\n        if (\n          isItemSelected &&\n          newStateToSet.selectedItem !== state.selectedItem\n        ) {\n          onChangeArg = newStateToSet.selectedItem\n        }\n        newStateToSet.type ||= stateChangeTypes.unknown\n\n        Object.keys(newStateToSet).forEach(key => {\n          // onStateChangeArg should only have the state that is\n          // actually changing\n          if (state[key] !== newStateToSet[key]) {\n            onStateChangeArg[key] = newStateToSet[key]\n          }\n          // the type is useful for the onStateChangeArg\n          // but we don't actually want to set it in internal state.\n          // this is an undocumented feature for now... Not all internalSetState\n          // calls support it and I'm not certain we want them to yet.\n          // But it enables users controlling the isOpen state to know when\n          // the isOpen state changes due to mouseup events which is quite handy.\n          if (key === 'type') {\n            return\n          }\n          nextFullState[key] = newStateToSet[key]\n          // if it's coming from props, then we don't care to set it internally\n          if (!isControlledProp(this.props, key)) {\n            nextState[key] = newStateToSet[key]\n          }\n        })\n\n        // if stateToSet is a function, then we weren't able to call onInputValueChange\n        // earlier, so we'll call it now that we know what the inputValue state will be.\n        if (\n          isStateToSetFunction &&\n          newStateToSet.hasOwnProperty('inputValue')\n        ) {\n          this.props.onInputValueChange(newStateToSet.inputValue, {\n            ...this.getStateAndHelpers(),\n            ...newStateToSet,\n          })\n        }\n\n        return nextState\n      },\n      () => {\n        // call the provided callback if it's a function\n        cbToCb(cb)()\n\n        // only call the onStateChange and onChange callbacks if\n        // we have relevant information to pass them.\n        const hasMoreStateThanType = Object.keys(onStateChangeArg).length > 1\n        if (hasMoreStateThanType) {\n          this.props.onStateChange(onStateChangeArg, this.getStateAndHelpers())\n        }\n\n        if (isItemSelected) {\n          this.props.onSelect(\n            stateToSet.selectedItem,\n            this.getStateAndHelpers(),\n          )\n        }\n\n        if (onChangeArg !== undefined) {\n          this.props.onChange(onChangeArg, this.getStateAndHelpers())\n        }\n        // this is currently undocumented and therefore subject to change\n        // We'll try to not break it, but just be warned.\n        this.props.onUserAction(onStateChangeArg, this.getStateAndHelpers())\n      },\n    )\n  }\n\n  getStateAndHelpers() {\n    const {highlightedIndex, inputValue, selectedItem, isOpen} = this.getState()\n    const {itemToString} = this.props\n    const {id} = this\n    const {\n      getRootProps,\n      getToggleButtonProps,\n      getLabelProps,\n      getMenuProps,\n      getInputProps,\n      getItemProps,\n      openMenu,\n      closeMenu,\n      toggleMenu,\n      selectItem,\n      selectItemAtIndex,\n      selectHighlightedItem,\n      setHighlightedIndex,\n      clearSelection,\n      clearItems,\n      reset,\n      setItemCount,\n      unsetItemCount,\n      internalSetState: setState,\n    } = this\n    return {\n      // prop getters\n      getRootProps,\n      getToggleButtonProps,\n      getLabelProps,\n      getMenuProps,\n      getInputProps,\n      getItemProps,\n\n      // actions\n      reset,\n      openMenu,\n      closeMenu,\n      toggleMenu,\n      selectItem,\n      selectItemAtIndex,\n      selectHighlightedItem,\n      setHighlightedIndex,\n      clearSelection,\n      clearItems,\n      setItemCount,\n      unsetItemCount,\n      setState,\n\n      // props\n      itemToString,\n\n      // derived\n      id,\n\n      // state\n      highlightedIndex,\n      inputValue,\n      isOpen,\n      selectedItem,\n    }\n  }\n\n  //////////////////////////// ROOT\n\n  rootRef = node => (this._rootNode = node)\n\n  getRootProps = (\n    {refKey = 'ref', ref, ...rest} = {},\n    {suppressRefError = false} = {},\n  ) => {\n    // this is used in the render to know whether the user has called getRootProps.\n    // It uses that to know whether to apply the props automatically\n    this.getRootProps.called = true\n    this.getRootProps.refKey = refKey\n    this.getRootProps.suppressRefError = suppressRefError\n    const {isOpen} = this.getState()\n    return {\n      [refKey]: handleRefs(ref, this.rootRef),\n      role: 'combobox',\n      'aria-expanded': isOpen,\n      'aria-haspopup': 'listbox',\n      'aria-owns': isOpen ? this.menuId : undefined,\n      'aria-labelledby': this.labelId,\n      ...rest,\n    }\n  }\n\n  //\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ ROOT\n\n  keyDownHandlers = {\n    ArrowDown(event) {\n      event.preventDefault()\n\n      if (this.getState().isOpen) {\n        const amount = event.shiftKey ? 5 : 1\n        this.moveHighlightedIndex(amount, {\n          type: stateChangeTypes.keyDownArrowDown,\n        })\n      } else {\n        this.internalSetState(\n          {\n            isOpen: true,\n            type: stateChangeTypes.keyDownArrowDown,\n          },\n          () => {\n            const itemCount = this.getItemCount()\n            if (itemCount > 0) {\n              const {highlightedIndex} = this.getState()\n              const nextHighlightedIndex = getHighlightedIndex(\n                highlightedIndex,\n                1,\n                {length: itemCount},\n                this.isItemDisabled,\n                true,\n              )\n\n              this.setHighlightedIndex(nextHighlightedIndex, {\n                type: stateChangeTypes.keyDownArrowDown,\n              })\n            }\n          },\n        )\n      }\n    },\n\n    ArrowUp(event) {\n      event.preventDefault()\n\n      if (this.getState().isOpen) {\n        const amount = event.shiftKey ? -5 : -1\n        this.moveHighlightedIndex(amount, {\n          type: stateChangeTypes.keyDownArrowUp,\n        })\n      } else {\n        this.internalSetState(\n          {\n            isOpen: true,\n            type: stateChangeTypes.keyDownArrowUp,\n          },\n          () => {\n            const itemCount = this.getItemCount()\n            if (itemCount > 0) {\n              const {highlightedIndex} = this.getState()\n              const nextHighlightedIndex = getHighlightedIndex(\n                highlightedIndex,\n                -1,\n                {length: itemCount},\n                this.isItemDisabled,\n                true,\n              )\n\n              this.setHighlightedIndex(nextHighlightedIndex, {\n                type: stateChangeTypes.keyDownArrowUp,\n              })\n            }\n          },\n        )\n      }\n    },\n\n    Enter(event) {\n      if (event.which === 229) {\n        return\n      }\n\n      const {isOpen, highlightedIndex} = this.getState()\n      if (isOpen && highlightedIndex != null) {\n        event.preventDefault()\n        const item = this.items[highlightedIndex]\n        const itemNode = this.getItemNodeFromIndex(highlightedIndex)\n        if (item == null || (itemNode && itemNode.hasAttribute('disabled'))) {\n          return\n        }\n        this.selectHighlightedItem({\n          type: stateChangeTypes.keyDownEnter,\n        })\n      }\n    },\n\n    Escape(event) {\n      event.preventDefault()\n      this.reset({\n        type: stateChangeTypes.keyDownEscape,\n        ...(!this.state.isOpen && {selectedItem: null, inputValue: ''}),\n      })\n    },\n  }\n\n  //////////////////////////// BUTTON\n\n  buttonKeyDownHandlers = {\n    ...this.keyDownHandlers,\n\n    ' '(event) {\n      event.preventDefault()\n      this.toggleMenu({type: stateChangeTypes.keyDownSpaceButton})\n    },\n  }\n\n  inputKeyDownHandlers = {\n    ...this.keyDownHandlers,\n    Home(event) {\n      const {isOpen} = this.getState()\n\n      if (!isOpen) {\n        return\n      }\n\n      event.preventDefault()\n\n      const itemCount = this.getItemCount()\n\n      if (itemCount <= 0 || !isOpen) {\n        return\n      }\n\n      // get next non-disabled starting downwards from 0 if that's disabled.\n      const newHighlightedIndex = getNonDisabledIndex(\n        0,\n        false,\n        {length: itemCount},\n        this.isItemDisabled,\n      )\n\n      this.setHighlightedIndex(newHighlightedIndex, {\n        type: stateChangeTypes.keyDownHome,\n      })\n    },\n\n    End(event) {\n      const {isOpen} = this.getState()\n\n      if (!isOpen) {\n        return\n      }\n\n      event.preventDefault()\n\n      const itemCount = this.getItemCount()\n\n      if (itemCount <= 0 || !isOpen) {\n        return\n      }\n\n      // get next non-disabled starting upwards from last index if that's disabled.\n      const newHighlightedIndex = getNonDisabledIndex(\n        itemCount - 1,\n        true,\n        {length: itemCount},\n        this.isItemDisabled,\n      )\n\n      this.setHighlightedIndex(newHighlightedIndex, {\n        type: stateChangeTypes.keyDownEnd,\n      })\n    },\n  }\n\n  getToggleButtonProps = ({\n    onClick,\n    onPress,\n    onKeyDown,\n    onKeyUp,\n    onBlur,\n    ...rest\n  } = {}) => {\n    const {isOpen} = this.getState()\n    const enabledEventHandlers =\n      isReactNative || isReactNativeWeb\n        ? /* istanbul ignore next (react-native) */\n          {\n            onPress: callAllEventHandlers(onPress, this.buttonHandleClick),\n          }\n        : {\n            onClick: callAllEventHandlers(onClick, this.buttonHandleClick),\n            onKeyDown: callAllEventHandlers(\n              onKeyDown,\n              this.buttonHandleKeyDown,\n            ),\n            onKeyUp: callAllEventHandlers(onKeyUp, this.buttonHandleKeyUp),\n            onBlur: callAllEventHandlers(onBlur, this.buttonHandleBlur),\n          }\n    const eventHandlers = rest.disabled ? {} : enabledEventHandlers\n    return {\n      type: 'button',\n      role: 'button',\n      'aria-label': isOpen ? 'close menu' : 'open menu',\n      'aria-haspopup': true,\n      'data-toggle': true,\n      ...eventHandlers,\n      ...rest,\n    }\n  }\n\n  buttonHandleKeyUp = event => {\n    // Prevent click event from emitting in Firefox\n    event.preventDefault()\n  }\n\n  buttonHandleKeyDown = event => {\n    const key = normalizeArrowKey(event)\n    if (this.buttonKeyDownHandlers[key]) {\n      this.buttonKeyDownHandlers[key].call(this, event)\n    }\n  }\n\n  buttonHandleClick = event => {\n    event.preventDefault()\n    // handle odd case for Safari and Firefox which\n    // don't give the button the focus properly.\n    /* istanbul ignore if (can't reasonably test this) */\n    if (!isReactNative && this.props.environment) {\n      const {body, activeElement} = this.props.environment.document\n\n      if (body && body === activeElement) {\n        event.target.focus()\n      }\n    }\n    // to simplify testing components that use downshift, we'll not wrap this in a setTimeout\n    // if the NODE_ENV is test. With the proper build system, this should be dead code eliminated\n    // when building for production and should therefore have no impact on production code.\n    if (process.env.NODE_ENV === 'test') {\n      this.toggleMenu({type: stateChangeTypes.clickButton})\n    } else {\n      // Ensure that toggle of menu occurs after the potential blur event in iOS\n      this.internalSetTimeout(() =>\n        this.toggleMenu({type: stateChangeTypes.clickButton}),\n      )\n    }\n  }\n\n  buttonHandleBlur = event => {\n    const blurTarget = event.target // Save blur target for comparison with activeElement later\n    // Need setTimeout, so that when the user presses Tab, the activeElement is the next focused element, not body element\n    this.internalSetTimeout(() => {\n      if (this.isMouseDown || !this.props.environment) {\n        return\n      }\n\n      const {activeElement} = this.props.environment.document\n\n      if (\n        (activeElement == null || activeElement.id !== this.inputId) &&\n        activeElement !== blurTarget // Do nothing if we refocus the same element again (to solve issue in Safari on iOS)\n      ) {\n        this.reset({type: stateChangeTypes.blurButton})\n      }\n    })\n  }\n\n  //\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ BUTTON\n\n  /////////////////////////////// LABEL\n\n  getLabelProps = props => {\n    return {htmlFor: this.inputId, id: this.labelId, ...props}\n  }\n\n  //\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ LABEL\n\n  /////////////////////////////// INPUT\n\n  getInputProps = ({\n    onKeyDown,\n    onBlur,\n    onChange,\n    onInput,\n    onChangeText,\n    ...rest\n  } = {}) => {\n    let onChangeKey\n    let eventHandlers = {}\n\n    /* istanbul ignore next (preact) */\n    if (isPreact) {\n      onChangeKey = 'onInput'\n    } else {\n      onChangeKey = 'onChange'\n    }\n    const {inputValue, isOpen, highlightedIndex} = this.getState()\n\n    if (!rest.disabled) {\n      eventHandlers = {\n        [onChangeKey]: callAllEventHandlers(\n          onChange,\n          onInput,\n          this.inputHandleChange,\n        ),\n        onKeyDown: callAllEventHandlers(onKeyDown, this.inputHandleKeyDown),\n        onBlur: callAllEventHandlers(onBlur, this.inputHandleBlur),\n      }\n    }\n\n    /* istanbul ignore if (react-native) */\n    if (isReactNative) {\n      eventHandlers = {\n        onChange: callAllEventHandlers(\n          onChange,\n          onInput,\n          this.inputHandleChange,\n        ),\n        onChangeText: callAllEventHandlers(onChangeText, onInput, text =>\n          this.inputHandleChange({nativeEvent: {text}}),\n        ),\n        onBlur: callAllEventHandlers(onBlur, this.inputHandleBlur),\n      }\n    }\n\n    return {\n      'aria-autocomplete': 'list',\n      'aria-activedescendant':\n        isOpen && typeof highlightedIndex === 'number' && highlightedIndex >= 0\n          ? this.getItemId(highlightedIndex)\n          : undefined,\n      'aria-controls': isOpen ? this.menuId : undefined,\n      'aria-labelledby': rest && rest['aria-label'] ? undefined : this.labelId,\n      // https://developer.mozilla.org/en-US/docs/Web/Security/Securing_your_site/Turning_off_form_autocompletion\n      // revert back since autocomplete=\"nope\" is ignored on latest Chrome and Opera\n      autoComplete: 'off',\n      value: inputValue,\n      id: this.inputId,\n      ...eventHandlers,\n      ...rest,\n    }\n  }\n\n  inputHandleKeyDown = event => {\n    const key = normalizeArrowKey(event)\n    if (key && this.inputKeyDownHandlers[key]) {\n      this.inputKeyDownHandlers[key].call(this, event)\n    }\n  }\n\n  inputHandleChange = event => {\n    this.internalSetState({\n      type: stateChangeTypes.changeInput,\n      isOpen: true,\n      inputValue:\n        isReactNative || isReactNativeWeb\n          ? /* istanbul ignore next (react-native) */ event.nativeEvent.text\n          : event.target.value,\n      highlightedIndex: this.props.defaultHighlightedIndex,\n    })\n  }\n\n  inputHandleBlur = () => {\n    // Need setTimeout, so that when the user presses Tab, the activeElement is the next focused element, not the body element\n    this.internalSetTimeout(() => {\n      if (this.isMouseDown || !this.props.environment) {\n        return\n      }\n\n      const {activeElement} = this.props.environment.document\n      const downshiftButtonIsActive =\n        activeElement?.dataset?.toggle &&\n        this._rootNode &&\n        this._rootNode.contains(activeElement)\n\n      if (!downshiftButtonIsActive) {\n        this.reset({type: stateChangeTypes.blurInput})\n      }\n    })\n  }\n\n  //\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ INPUT\n\n  /////////////////////////////// MENU\n\n  menuRef = node => {\n    this._menuNode = node\n  }\n\n  getMenuProps = (\n    {refKey = 'ref', ref, ...props} = {},\n    {suppressRefError = false} = {},\n  ) => {\n    this.getMenuProps.called = true\n    this.getMenuProps.refKey = refKey\n    this.getMenuProps.suppressRefError = suppressRefError\n\n    return {\n      [refKey]: handleRefs(ref, this.menuRef),\n      role: 'listbox',\n      'aria-labelledby':\n        props && props['aria-label'] ? undefined : this.labelId,\n      id: this.menuId,\n      ...props,\n    }\n  }\n  //\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ MENU\n\n  /////////////////////////////// ITEM\n  getItemProps = ({\n    onMouseMove,\n    onMouseDown,\n    onClick,\n    onPress,\n    index,\n    item = process.env.NODE_ENV === 'production'\n      ? /* istanbul ignore next */ undefined\n      : requiredProp('getItemProps', 'item'),\n    ...rest\n  } = {}) => {\n    if (index === undefined) {\n      this.items.push(item)\n      index = this.items.indexOf(item)\n    } else {\n      this.items[index] = item\n    }\n\n    const onSelectKey =\n      isReactNative || isReactNativeWeb\n        ? /* istanbul ignore next (react-native) */ 'onPress'\n        : 'onClick'\n    const customClickHandler = isReactNative\n      ? /* istanbul ignore next (react-native) */ onPress\n      : onClick\n\n    const enabledEventHandlers = {\n      // onMouseMove is used over onMouseEnter here. onMouseMove\n      // is only triggered on actual mouse movement while onMouseEnter\n      // can fire on DOM changes, interrupting keyboard navigation\n      onMouseMove: callAllEventHandlers(onMouseMove, () => {\n        if (index === this.getState().highlightedIndex) {\n          return\n        }\n        this.setHighlightedIndex(index, {\n          type: stateChangeTypes.itemMouseEnter,\n        })\n\n        // We never want to manually scroll when changing state based\n        // on `onMouseMove` because we will be moving the element out\n        // from under the user which is currently scrolling/moving the\n        // cursor\n        this.avoidScrolling = true\n        this.internalSetTimeout(() => (this.avoidScrolling = false), 250)\n      }),\n      onMouseDown: callAllEventHandlers(onMouseDown, event => {\n        // This prevents the activeElement from being changed\n        // to the item so it can remain with the current activeElement\n        // which is a more common use case.\n        event.preventDefault()\n      }),\n      [onSelectKey]: callAllEventHandlers(customClickHandler, () => {\n        this.selectItemAtIndex(index, {\n          type: stateChangeTypes.clickItem,\n        })\n      }),\n    }\n\n    // Passing down the onMouseDown handler to prevent redirect\n    // of the activeElement if clicking on disabled items\n    const eventHandlers = rest.disabled\n      ? {onMouseDown: enabledEventHandlers.onMouseDown}\n      : enabledEventHandlers\n\n    return {\n      id: this.getItemId(index),\n      role: 'option',\n      'aria-selected': this.getState().highlightedIndex === index,\n      ...eventHandlers,\n      ...rest,\n    }\n  }\n  //\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\ ITEM\n\n  clearItems = () => {\n    this.items = []\n  }\n\n  reset = (otherStateToSet = {}, cb) => {\n    otherStateToSet = pickState(otherStateToSet)\n    this.internalSetState(\n      ({selectedItem}) => ({\n        isOpen: this.props.defaultIsOpen,\n        highlightedIndex: this.props.defaultHighlightedIndex,\n        inputValue: this.props.itemToString(selectedItem),\n        ...otherStateToSet,\n      }),\n      cb,\n    )\n  }\n\n  toggleMenu = (otherStateToSet = {}, cb) => {\n    otherStateToSet = pickState(otherStateToSet)\n    this.internalSetState(\n      ({isOpen}) => {\n        return {\n          isOpen: !isOpen,\n          ...(isOpen && {\n            highlightedIndex: this.props.defaultHighlightedIndex,\n          }),\n          ...otherStateToSet,\n        }\n      },\n      () => {\n        const {isOpen, highlightedIndex} = this.getState()\n        if (isOpen) {\n          if (this.getItemCount() > 0 && typeof highlightedIndex === 'number') {\n            this.setHighlightedIndex(highlightedIndex, otherStateToSet)\n          }\n        }\n        cbToCb(cb)()\n      },\n    )\n  }\n\n  openMenu = cb => {\n    this.internalSetState({isOpen: true}, cb)\n  }\n\n  closeMenu = cb => {\n    this.internalSetState({isOpen: false}, cb)\n  }\n\n  updateStatus = debounce(() => {\n    if (!this.props?.environment?.document) {\n      return\n    }\n\n    const state = this.getState()\n    const item = this.items[state.highlightedIndex]\n    const resultCount = this.getItemCount()\n    const status = this.props.getA11yStatusMessage({\n      itemToString: this.props.itemToString,\n      previousResultCount: this.previousResultCount,\n      resultCount,\n      highlightedItem: item,\n      ...state,\n    })\n    this.previousResultCount = resultCount\n\n    setStatus(status, this.props.environment.document)\n  }, 200)\n\n  componentDidMount() {\n    /* istanbul ignore if (react-native) */\n    if (\n      process.env.NODE_ENV !== 'production' &&\n      !isReactNative &&\n      this.getMenuProps.called &&\n      !this.getMenuProps.suppressRefError\n    ) {\n      validateGetMenuPropsCalledCorrectly(this._menuNode, this.getMenuProps)\n    }\n\n    /* istanbul ignore if (react-native or SSR) */\n    if (isReactNative || !this.props.environment) {\n      this.cleanup = () => {\n        this.internalClearTimeouts()\n      }\n    } else {\n      // this.isMouseDown helps us track whether the mouse is currently held down.\n      // This is useful when the user clicks on an item in the list, but holds the mouse\n      // down long enough for the list to disappear (because the blur event fires on the input)\n      // this.isMouseDown is used in the blur handler on the input to determine whether the blur event should\n      // trigger hiding the menu.\n      const onMouseDown = () => {\n        this.isMouseDown = true\n      }\n      const onMouseUp = event => {\n        this.isMouseDown = false\n        // if the target element or the activeElement is within a downshift node\n        // then we don't want to reset downshift\n        const contextWithinDownshift = targetWithinDownshift(\n          event.target,\n          [this._rootNode, this._menuNode],\n          this.props.environment,\n        )\n        if (!contextWithinDownshift && this.getState().isOpen) {\n          this.reset({type: stateChangeTypes.mouseUp}, () =>\n            this.props.onOuterClick(this.getStateAndHelpers()),\n          )\n        }\n      }\n      // Touching an element in iOS gives focus and hover states, but touching out of\n      // the element will remove hover, and persist the focus state, resulting in the\n      // blur event not being triggered.\n      // this.isTouchMove helps us track whether the user is tapping or swiping on a touch screen.\n      // If the user taps outside of Downshift, the component should be reset,\n      // but not if the user is swiping\n      const onTouchStart = () => {\n        this.isTouchMove = false\n      }\n\n      const onTouchMove = () => {\n        this.isTouchMove = true\n      }\n\n      const onTouchEnd = event => {\n        const contextWithinDownshift = targetWithinDownshift(\n          event.target,\n          [this._rootNode, this._menuNode],\n          this.props.environment,\n          false,\n        )\n        if (\n          !this.isTouchMove &&\n          !contextWithinDownshift &&\n          this.getState().isOpen\n        ) {\n          this.reset({type: stateChangeTypes.touchEnd}, () =>\n            this.props.onOuterClick(this.getStateAndHelpers()),\n          )\n        }\n      }\n      const {environment} = this.props\n\n      environment.addEventListener('mousedown', onMouseDown)\n      environment.addEventListener('mouseup', onMouseUp)\n      environment.addEventListener('touchstart', onTouchStart)\n      environment.addEventListener('touchmove', onTouchMove)\n      environment.addEventListener('touchend', onTouchEnd)\n\n      this.cleanup = () => {\n        this.internalClearTimeouts()\n        this.updateStatus.cancel()\n\n        environment.removeEventListener('mousedown', onMouseDown)\n        environment.removeEventListener('mouseup', onMouseUp)\n        environment.removeEventListener('touchstart', onTouchStart)\n        environment.removeEventListener('touchmove', onTouchMove)\n        environment.removeEventListener('touchend', onTouchEnd)\n      }\n    }\n  }\n\n  shouldScroll(prevState, prevProps) {\n    const {highlightedIndex: currentHighlightedIndex} =\n      this.props.highlightedIndex === undefined ? this.getState() : this.props\n    const {highlightedIndex: prevHighlightedIndex} =\n      prevProps.highlightedIndex === undefined ? prevState : prevProps\n    const scrollWhenOpen =\n      currentHighlightedIndex && this.getState().isOpen && !prevState.isOpen\n    const scrollWhenNavigating =\n      currentHighlightedIndex !== prevHighlightedIndex\n\n    return scrollWhenOpen || scrollWhenNavigating\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (process.env.NODE_ENV !== 'production') {\n      validateControlledUnchanged(this.state, prevProps, this.props)\n      /* istanbul ignore if (react-native) */\n      if (\n        !isReactNative &&\n        this.getMenuProps.called &&\n        !this.getMenuProps.suppressRefError\n      ) {\n        validateGetMenuPropsCalledCorrectly(this._menuNode, this.getMenuProps)\n      }\n    }\n\n    if (\n      isControlledProp(this.props, 'selectedItem') &&\n      this.props.selectedItemChanged(\n        prevProps.selectedItem,\n        this.props.selectedItem,\n      )\n    ) {\n      this.internalSetState({\n        type: stateChangeTypes.controlledPropUpdatedSelectedItem,\n        inputValue: this.props.itemToString(this.props.selectedItem),\n      })\n    }\n\n    if (!this.avoidScrolling && this.shouldScroll(prevState, prevProps)) {\n      this.scrollHighlightedItemIntoView()\n    }\n\n    /* istanbul ignore else (react-native) */\n    if (!isReactNative) {\n      this.updateStatus()\n    }\n  }\n\n  componentWillUnmount() {\n    this.cleanup() // avoids memory leak\n  }\n\n  render() {\n    const children = unwrapArray(this.props.children, noop)\n    // because the items are rerendered every time we call the children\n    // we clear this out each render and it will be populated again as\n    // getItemProps is called.\n    this.clearItems()\n    // we reset this so we know whether the user calls getRootProps during\n    // this render. If they do then we don't need to do anything,\n    // if they don't then we need to clone the element they return and\n    // apply the props for them.\n    this.getRootProps.called = false\n    this.getRootProps.refKey = undefined\n    this.getRootProps.suppressRefError = undefined\n    // we do something similar for getMenuProps\n    this.getMenuProps.called = false\n    this.getMenuProps.refKey = undefined\n    this.getMenuProps.suppressRefError = undefined\n    // we do something similar for getLabelProps\n    this.getLabelProps.called = false\n    // and something similar for getInputProps\n    this.getInputProps.called = false\n    const element = unwrapArray(children(this.getStateAndHelpers()))\n    if (!element) {\n      return null\n    }\n\n    if (this.getRootProps.called || this.props.suppressRefError) {\n      if (\n        process.env.NODE_ENV !== 'production' &&\n        !this.getRootProps.suppressRefError &&\n        !this.props.suppressRefError\n      ) {\n        validateGetRootPropsCalledCorrectly(element, this.getRootProps)\n      }\n      return element\n    } else if (isDOMElement(element)) {\n      // they didn't apply the root props, but we can clone\n      // this and apply the props ourselves\n      return cloneElement(element, this.getRootProps(getElementProps(element)))\n    }\n\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== 'production') {\n      // they didn't apply the root props, but they need to\n      // otherwise we can't query around the autocomplete\n\n      throw new Error(\n        'downshift: If you return a non-DOM element, you must apply the getRootProps function',\n      )\n    }\n\n    /* istanbul ignore next */\n    return undefined\n  }\n}\n\nexport default Downshift\n\nfunction validateGetMenuPropsCalledCorrectly(node, {refKey}) {\n  if (!node) {\n    // eslint-disable-next-line no-console\n    console.error(\n      `downshift: The ref prop \"${refKey}\" from getMenuProps was not applied correctly on your menu element.`,\n    )\n  }\n}\n\nfunction validateGetRootPropsCalledCorrectly(element, {refKey}) {\n  const refKeySpecified = refKey !== 'ref'\n  const isComposite = !isDOMElement(element)\n  if (isComposite && !refKeySpecified && !isForwardRef(element)) {\n    // eslint-disable-next-line no-console\n    console.error(\n      'downshift: You returned a non-DOM element. You must specify a refKey in getRootProps',\n    )\n  } else if (!isComposite && refKeySpecified) {\n    // eslint-disable-next-line no-console\n    console.error(\n      `downshift: You returned a DOM element. You should not specify a refKey in getRootProps. You specified \"${refKey}\"`,\n    )\n  }\n  if (!isForwardRef(element) && !getElementProps(element)[refKey]) {\n    // eslint-disable-next-line no-console\n    console.error(\n      `downshift: You must apply the ref prop \"${refKey}\" from getRootProps onto your root element.`,\n    )\n  }\n}\n","export function capitalizeString(string: string): string {\n  return `${string.slice(0, 1).toUpperCase()}${string.slice(1)}`\n}\n","import {Action, Props, State} from '../../utils-ts'\nimport {capitalizeString} from './capitalizeString'\n\nexport function callOnChangeProps<\n  S extends State,\n  P extends Partial<S> & Props<S, T>,\n  T,\n>(action: Action<T>, props: P, state: S, newState: S) {\n  const {type} = action\n  const changes: Partial<State> = {}\n  const keys = Object.keys(state)\n\n  for (const key of keys) {\n    invokeOnChangeHandler(key, action, props, state, newState)\n\n    if (newState[key] !== state[key]) {\n      changes[key] = newState[key]\n    }\n  }\n\n  if (props.onStateChange && Object.keys(changes).length) {\n    props.onStateChange({type, ...changes})\n  }\n}\n\nfunction invokeOnChangeHandler<\n  S extends State,\n  P extends Partial<S> & Props<S, T>,\n  T,\n>(key: string, action: Action<T>, props: P, state: S, newState: S) {\n  if (newState[key] === state[key]) {\n    return\n  }\n\n  const handlerKey = `on${capitalizeString(key)}Change`\n  const handler = props[handlerKey]\n\n  if (typeof handler !== 'function') {\n    return\n  }\n\n  const {type} = action\n\n  handler({type, ...newState})\n}\n","import * as React from 'react'\n\nimport {\n  type Action,\n  type Props,\n  type State,\n  getState,\n  useLatestRef,\n} from '../../utils-ts'\nimport {callOnChangeProps} from './callOnChangeProps'\n\n/**\n * Computes the controlled state using a the previous state, props,\n * two reducers, one from downshift and an optional one from the user.\n * Also calls the onChange handlers for state values that have changed.\n *\n * @param {Function} reducer Reducer function from downshift.\n * @param {Object} props The hook props, also passed to createInitialState.\n * @param {Function} createInitialState Function that returns the initial state.\n * @param {Function} isStateEqual Function that checks if a previous state is equal to the next.\n * @returns {Array} An array with the state and an action dispatcher.\n */\nexport function useEnhancedReducer<\n  S extends State,\n  P extends Partial<S> & Props<S, T>,\n  T,\n  A extends Action<T>,\n>(\n  reducer: (state: S, props: P, action: A) => S,\n  props: P,\n  createInitialState: (props: P) => S,\n  isStateEqual: (prevState: S, newState: S) => boolean,\n): [S, (action: A) => void] {\n  const prevStateRef = React.useRef<S | null>(null)\n  const actionRef = React.useRef<A>(undefined)\n  const propsRef = useLatestRef(props)\n\n  const enhancedReducer = React.useCallback(\n    (state: S, action: A): S => {\n      actionRef.current = action\n      state = getState(state, propsRef.current)\n\n      const changes = reducer(state, propsRef.current, action)\n      const newState = propsRef.current.stateReducer(state, {\n        ...action,\n        changes,\n      })\n\n      return {...state, ...newState}\n    },\n    [propsRef, reducer],\n  )\n  const [state, dispatch] = React.useReducer(\n    enhancedReducer,\n    props,\n    createInitialState,\n  )\n\n  const action = actionRef.current\n\n  React.useEffect(() => {\n    const prevState = getState(\n      prevStateRef.current ?? ({} as S),\n      propsRef.current,\n    )\n    const shouldCallOnChangeProps =\n      action && prevStateRef.current && !isStateEqual(prevState, state)\n\n    if (shouldCallOnChangeProps) {\n      callOnChangeProps(action, propsRef.current, prevState, state)\n    }\n\n    prevStateRef.current = state\n  }, [state, action, isStateEqual, propsRef])\n\n  return [state, dispatch]\n}\n","import {getState, type Action, type State, type Props} from '../../utils-ts'\nimport {useEnhancedReducer} from './useEnhancedReducer'\n\n/**\n * Wraps the useEnhancedReducer and applies the controlled prop values before\n * returning the new state.\n *\n * @param {Function} reducer Reducer function from downshift.\n * @param {Object} props The hook props, also passed to createInitialState.\n * @param {Function} createInitialState Function that returns the initial state.\n * @param {Function} isStateEqual Function that checks if a previous state is equal to the next.\n * @returns {Array} An array with the state and an action dispatcher.\n */\nexport function useControlledReducer<\n  S extends State,\n  P extends Partial<S> & Props<S, T>,\n  T,\n  A extends Action<T>,\n>(\n  reducer: (state: S, props: P, action: A) => S,\n  props: P,\n  createInitialState: (props: P) => S,\n  isStateEqual: (prevState: S, newState: S) => boolean,\n): [S, (action: A) => void] {\n  const [state, dispatch] = useEnhancedReducer(\n    reducer,\n    props,\n    createInitialState,\n    isStateEqual,\n  )\n\n  return [getState(state, props), dispatch]\n}\n","/**\n * Returns both the item and index when both or either is passed.\n *\n * @param itemProp The item which could be undefined.\n * @param indexProp The index which could be undefined.\n * @param items The array of items to get the item based on index.\n * @param errorMessage The error to be thrown if index and item could not be returned for any reason.\n * @returns An array with item and index.\n */\nexport function getItemAndIndex<Item>(\n  itemProp: Item | undefined,\n  indexProp: number | undefined,\n  items: Item[],\n  errorMessage: string,\n): [Item, number] {\n  if (itemProp !== undefined && indexProp !== undefined) {\n    return [itemProp, indexProp]\n  }\n\n  if (itemProp !== undefined) {\n    const index = items.indexOf(itemProp)\n\n    if (index < 0) {\n      throw new Error(errorMessage)\n    }\n\n    return [itemProp, items.indexOf(itemProp)]\n  }\n\n  if (indexProp !== undefined) {\n    const item = items[indexProp]\n\n    if (item === undefined) {\n      throw new Error(errorMessage)\n    }\n    return [item, indexProp]\n  }\n\n  throw new Error(errorMessage)\n}\n","import * as React from 'react'\n\n/**\n * Tracks if it's the first render.\n */\nexport function useIsInitialMount(): boolean {\n  const isInitialMountRef = React.useRef(true)\n\n  React.useEffect(() => {\n    isInitialMountRef.current = false\n\n    return () => {\n      isInitialMountRef.current = true\n    }\n  }, [])\n\n  return isInitialMountRef.current\n}\n","import {Action, State} from '../../utils-ts'\n\n/**\n * Default state reducer that returns the changes.\n *\n */\nexport function stateReducer<T>(_s: State, a: Action<T>) {\n  return a.changes\n}\n","import PropTypes from 'prop-types'\n\n// Shared between all exports.\nexport const propTypes = {\n  environment: PropTypes.shape({\n    addEventListener: PropTypes.func.isRequired,\n    removeEventListener: PropTypes.func.isRequired,\n    document: PropTypes.shape({\n      createElement: PropTypes.func.isRequired,\n      getElementById: PropTypes.func.isRequired,\n      activeElement: PropTypes.any.isRequired,\n      body: PropTypes.any.isRequired,\n    }).isRequired,\n    Node: PropTypes.func.isRequired,\n  }),\n  itemToKey: PropTypes.func,\n  stateReducer: PropTypes.func,\n}\n","import {State} from '../../utils-ts'\nimport {capitalizeString} from './capitalizeString'\n\nexport function getDefaultValue<S extends State, P extends Partial<S>>(\n  props: P,\n  propKey: keyof S,\n  defaultStateValues: S,\n): S[keyof S] {\n  const defaultValue = props[`default${capitalizeString(propKey as string)}`]\n\n  if (defaultValue !== undefined) {\n    return defaultValue as S[keyof S]\n  }\n\n  return defaultStateValues[propKey]\n}\n","import {State} from '../../utils-ts'\nimport {capitalizeString} from './capitalizeString'\nimport {getDefaultValue} from './getDefaultValue'\n\nexport function getInitialValue<S extends State, P extends Partial<S>>(\n  props: P,\n  propKey: keyof S,\n  defaultStateValues: S,\n): S[keyof S] {\n  const value = props[propKey] as keyof S | undefined\n\n  if (value !== undefined) {\n    return value as S[keyof S]\n  }\n\n  const initialValue = props[`initial${capitalizeString(propKey as string)}`]\n\n  if (initialValue !== undefined) {\n    return initialValue as S[keyof S]\n  }\n\n  return getDefaultValue(props, propKey, defaultStateValues)\n}\n","import * as React from 'react'\n\nimport {cleanupStatusDiv, debounce, setStatus} from '../../utils-ts'\nimport {isReactNative} from '../../is.macro.js'\nimport {useIsInitialMount} from './useIsInitialMount'\n\n/**\n * Debounced call for updating the a11y message.\n */\nconst updateA11yStatus = debounce((status: string, document: Document) => {\n  setStatus(status, document)\n}, 200)\n\n/**\n * Adds an a11y aria live status message if getA11yStatusMessage is passed.\n * @param getA11yStatusMessage The function that builds the status message.\n * @param options The options to be passed to getA11yStatusMessage if called.\n * @param dependencyArray The dependency array that triggers the status message setter via useEffect.\n * @param environment The environment object containing the document.\n */\nexport function useA11yMessageStatus<Options>(\n  getA11yStatusMessage: ((options: Options) => string) | undefined,\n  options: Options,\n  dependencyArray: unknown[],\n  environment: {document: Document | undefined} | undefined,\n) {\n  const document = environment?.document\n  const isInitialMount = useIsInitialMount()\n\n  // Adds an a11y aria live status message if getA11yStatusMessage is passed.\n  React.useEffect(() => {\n    if (!getA11yStatusMessage || isInitialMount || isReactNative || !document) {\n      return\n    }\n\n    const status = getA11yStatusMessage(options)\n\n    updateA11yStatus(status, document)\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, dependencyArray)\n\n  // Cleanup the status message container.\n  React.useEffect(() => {\n    return () => {\n      updateA11yStatus.cancel()\n      cleanupStatusDiv(document)\n    }\n  }, [document])\n}\n","import PropTypes from 'prop-types'\n\nimport {commonPropTypes} from '../utils-ts'\n\n// Shared between useSelect, useCombobox, Downshift.\nexport const propTypes = {\n  ...commonPropTypes,\n  getA11yStatusMessage: PropTypes.func,\n  highlightedIndex: PropTypes.number,\n  defaultHighlightedIndex: PropTypes.number,\n  initialHighlightedIndex: PropTypes.number,\n  isOpen: PropTypes.bool,\n  defaultIsOpen: PropTypes.bool,\n  initialIsOpen: PropTypes.bool,\n  selectedItem: PropTypes.any,\n  initialSelectedItem: PropTypes.any,\n  defaultSelectedItem: PropTypes.any,\n  id: PropTypes.string,\n  labelId: PropTypes.string,\n  menuId: PropTypes.string,\n  getItemId: PropTypes.func,\n  toggleButtonId: PropTypes.string,\n  onSelectedItemChange: PropTypes.func,\n  onHighlightedIndexChange: PropTypes.func,\n  onStateChange: PropTypes.func,\n  onIsOpenChange: PropTypes.func,\n  scrollIntoView: PropTypes.func,\n}\n","import {scrollIntoView} from '../../utils-ts'\nimport {stateReducer} from '../utils-ts'\n\nimport {isReactNative} from '../../is.macro.js'\n\nexport const defaultProps = {\n  itemToString(item: unknown) {\n    return item ? String(item) : ''\n  },\n  itemToKey(item: unknown) {\n    return item\n  },\n  stateReducer,\n  scrollIntoView,\n  environment:\n    /* istanbul ignore next (ssr) */\n    typeof window === 'undefined' || isReactNative ? undefined : window,\n}\n","export const defaultStateValues = {\n  highlightedIndex: -1,\n  isOpen: false,\n  selectedItem: null as unknown,\n  inputValue: '',\n}\n","import * as React from 'react'\nimport {isReactNative} from '../is.macro'\nimport {validateControlledUnchanged, targetWithinDownshift} from '../utils'\nimport {generateId, noop} from '../utils-ts'\nimport {useIsInitialMount, getDefaultValue, getInitialValue} from './utils-ts'\nimport {dropdownDefaultStateValues} from './utils.dropdown'\n\n// istanbul ignore next\nconst useIsomorphicLayoutEffect =\n  typeof window !== 'undefined' &&\n  typeof window.document !== 'undefined' &&\n  typeof window.document.createElement !== 'undefined'\n    ? React.useLayoutEffect\n    : React.useEffect\n\n// istanbul ignore next\nconst useElementIds =\n  'useId' in React // Avoid conditional useId call\n    ? function useElementIds({\n        id,\n        labelId,\n        menuId,\n        getItemId,\n        toggleButtonId,\n        inputId,\n      }) {\n        // Avoid conditional useId call\n        const reactId = `downshift-${React.useId()}`\n        if (!id) {\n          id = reactId\n        }\n\n        const elementIds = React.useMemo(\n          () => ({\n            labelId: labelId || `${id}-label`,\n            menuId: menuId || `${id}-menu`,\n            getItemId: getItemId || (index => `${id}-item-${index}`),\n            toggleButtonId: toggleButtonId || `${id}-toggle-button`,\n            inputId: inputId || `${id}-input`,\n          }),\n          [getItemId, id, inputId, labelId, menuId, toggleButtonId],\n        )\n\n        return elementIds\n      }\n    : function useElementIds({\n        id = `downshift-${generateId()}`,\n        labelId,\n        menuId,\n        getItemId,\n        toggleButtonId,\n        inputId,\n      }) {\n        const elementIds = React.useMemo(\n          () => ({\n            labelId: labelId || `${id}-label`,\n            menuId: menuId || `${id}-menu`,\n            getItemId: getItemId || (index => `${id}-item-${index}`),\n            toggleButtonId: toggleButtonId || `${id}-toggle-button`,\n            inputId: inputId || `${id}-input`,\n          }),\n          [getItemId, id, inputId, labelId, menuId, toggleButtonId],\n        )\n\n        return elementIds\n      }\n\nfunction isAcceptedCharacterKey(key) {\n  return /^\\S{1}$/.test(key)\n}\n\nfunction getInitialState(props) {\n  const selectedItem = getInitialValue(\n    props,\n    'selectedItem',\n    dropdownDefaultStateValues,\n  )\n  const isOpen = getInitialValue(props, 'isOpen', dropdownDefaultStateValues)\n  const highlightedIndex = getInitialHighlightedIndex(props)\n  const inputValue = getInitialValue(\n    props,\n    'inputValue',\n    dropdownDefaultStateValues,\n  )\n\n  return {\n    highlightedIndex:\n      highlightedIndex < 0 && selectedItem && isOpen\n        ? props.items.findIndex(\n            item => props.itemToKey(item) === props.itemToKey(selectedItem),\n          )\n        : highlightedIndex,\n    isOpen,\n    selectedItem,\n    inputValue,\n  }\n}\n\nfunction getHighlightedIndexOnOpen(props, state, offset) {\n  const {\n    items,\n    initialHighlightedIndex,\n    defaultHighlightedIndex,\n    isItemDisabled,\n    itemToKey,\n  } = props\n  const {selectedItem, highlightedIndex} = state\n\n  if (items.length === 0) {\n    return -1\n  }\n\n  // initialHighlightedIndex will give value to highlightedIndex on initial state only.\n  if (\n    initialHighlightedIndex !== undefined &&\n    highlightedIndex === initialHighlightedIndex &&\n    !isItemDisabled(items[initialHighlightedIndex], initialHighlightedIndex)\n  ) {\n    return initialHighlightedIndex\n  }\n\n  if (\n    defaultHighlightedIndex !== undefined &&\n    !isItemDisabled(items[defaultHighlightedIndex], defaultHighlightedIndex)\n  ) {\n    return defaultHighlightedIndex\n  }\n\n  if (selectedItem) {\n    return items.findIndex(item => itemToKey(selectedItem) === itemToKey(item))\n  }\n\n  if (\n    offset < 0 &&\n    !isItemDisabled(items[items.length - 1], items.length - 1)\n  ) {\n    return items.length - 1\n  }\n\n  if (offset > 0 && !isItemDisabled(items[0], 0)) {\n    return 0\n  }\n\n  return -1\n}\n/**\n * Tracks mouse and touch events, such as mouseDown, touchMove and touchEnd.\n *\n * @param {Window} environment The environment to add the event listeners to, for instance window.\n * @param {() => void} handleBlur The function that is called if mouseDown or touchEnd occured outside the downshiftElements.\n * @param {Array<{current: HTMLElement}>} downshiftElementsRefs The refs for the elements that should not trigger a blur action from mouseDown or touchEnd.\n * @returns {{isMouseDown: boolean, isTouchMove: boolean, isTouchEnd: boolean}} The mouse and touch events information, if any of are happening.\n */\nfunction useMouseAndTouchTracker(\n  environment,\n  handleBlur,\n  downshiftRefs,\n) {\n  const mouseAndTouchTrackersRef = React.useRef({\n    isMouseDown: false,\n    isTouchMove: false,\n    isTouchEnd: false,\n  })\n\nconst getDownshiftElements = React.useCallback(\n  () => downshiftRefs.map(ref => ref.current),\n  [downshiftRefs],\n);\n\n  React.useEffect(() => {\n    if (isReactNative || !environment) {\n      return noop\n    }\n\n    function onMouseDown() {\n      mouseAndTouchTrackersRef.current.isTouchEnd = false // reset this one.\n      mouseAndTouchTrackersRef.current.isMouseDown = true\n    }\n    function onMouseUp(event) {\n      mouseAndTouchTrackersRef.current.isMouseDown = false\n\n      if (\n        !targetWithinDownshift(\n          event.target,\n          getDownshiftElements(),\n          environment,\n        )\n      ) {\n        handleBlur()\n      }\n    }\n    function onTouchStart() {\n      mouseAndTouchTrackersRef.current.isTouchEnd = false\n      mouseAndTouchTrackersRef.current.isTouchMove = false\n    }\n    function onTouchMove() {\n      mouseAndTouchTrackersRef.current.isTouchMove = true\n    }\n    function onTouchEnd(event) {\n      mouseAndTouchTrackersRef.current.isTouchEnd = true\n\n      if (\n        !mouseAndTouchTrackersRef.current.isTouchMove &&\n        !targetWithinDownshift(\n          event.target,\n          getDownshiftElements(),\n          environment,\n          false,\n        )\n      ) {\n        handleBlur()\n      }\n    }\n\n    environment.addEventListener('mousedown', onMouseDown)\n    environment.addEventListener('mouseup', onMouseUp)\n    environment.addEventListener('touchstart', onTouchStart)\n    environment.addEventListener('touchmove', onTouchMove)\n    environment.addEventListener('touchend', onTouchEnd)\n\n    return function cleanup() {\n      environment.removeEventListener('mousedown', onMouseDown)\n      environment.removeEventListener('mouseup', onMouseUp)\n      environment.removeEventListener('touchstart', onTouchStart)\n      environment.removeEventListener('touchmove', onTouchMove)\n      environment.removeEventListener('touchend', onTouchEnd)\n    }\n  }, [environment, getDownshiftElements, handleBlur])\n\n  return mouseAndTouchTrackersRef.current\n}\n\n/* istanbul ignore next */\n// eslint-disable-next-line import/no-mutable-exports\nlet useGetterPropsCalledChecker = () => noop\n/**\n * Custom hook that checks if getter props are called correctly.\n *\n * @param  {...any} propKeys Getter prop names to be handled.\n * @returns {Function} Setter function called inside getter props to set call information.\n */\n/* istanbul ignore next */\nif (process.env.NODE_ENV !== 'production') {\n  useGetterPropsCalledChecker = (...propKeys) => {\n    const getterPropsCalledRef = React.useRef(\n      propKeys.reduce((acc, propKey) => {\n        acc[propKey] = {}\n\n        return acc\n      }, {}),\n    )\n\n    React.useEffect(() => {\n      Object.keys(getterPropsCalledRef.current).forEach(propKey => {\n        const propCallInfo = getterPropsCalledRef.current[propKey]\n\n        if (!Object.keys(propCallInfo).length) {\n          // eslint-disable-next-line no-console\n          console.error(\n            `downshift: You forgot to call the ${propKey} getter function on your component / element.`,\n          )\n          return\n        }\n\n        const {suppressRefError, refKey, elementRef} = propCallInfo\n\n        if (suppressRefError) {\n          return\n        }\n\n        if (!elementRef?.current) {\n          // eslint-disable-next-line no-console\n          console.error(\n            `downshift: The ref prop \"${refKey}\" from ${propKey} was not applied correctly on your element.`,\n          )\n        }\n      })\n    }, [])\n\n    const setGetterPropCallInfo = React.useCallback(\n      (propKey, suppressRefError, refKey, elementRef) => {\n        getterPropsCalledRef.current[propKey] = {\n          suppressRefError,\n          refKey,\n          elementRef,\n        }\n      },\n      [],\n    )\n\n    return setGetterPropCallInfo\n  }\n}\n\nfunction useScrollIntoView({\n  highlightedIndex,\n  isOpen,\n  itemRefs,\n  getItemNodeFromIndex,\n  menuElement,\n  scrollIntoView: scrollIntoViewProp,\n}) {\n  // used not to scroll on highlight by mouse.\n  const shouldScrollRef = React.useRef(true)\n  // Scroll on highlighted item if change comes from keyboard.\n  useIsomorphicLayoutEffect(() => {\n    if (\n      highlightedIndex < 0 ||\n      !isOpen ||\n      !Object.keys(itemRefs.current).length\n    ) {\n      return\n    }\n\n    if (shouldScrollRef.current === false) {\n      shouldScrollRef.current = true\n    } else {\n      scrollIntoViewProp(getItemNodeFromIndex(highlightedIndex), menuElement)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [highlightedIndex])\n\n  return shouldScrollRef\n}\n\n// eslint-disable-next-line import/no-mutable-exports\nlet useControlPropsValidator = noop\n/* istanbul ignore next */\nif (process.env.NODE_ENV !== 'production') {\n  useControlPropsValidator = ({props, state}) => {\n    // used for checking when props are moving from controlled to uncontrolled.\n    const prevPropsRef = React.useRef(props)\n    const isInitialMount = useIsInitialMount()\n\n    React.useEffect(() => {\n      if (isInitialMount) {\n        return\n      }\n\n      validateControlledUnchanged(state, prevPropsRef.current, props)\n      prevPropsRef.current = props\n    }, [state, props, isInitialMount])\n  }\n}\n\n/**\n * Handles selection on Enter / Alt + ArrowUp. Closes the menu and resets the highlighted index, unless there is a highlighted.\n * In that case, selects the item and resets to defaults for open state and highlighted idex.\n * @param {Object} props The useCombobox props.\n * @param {number} highlightedIndex The index from the state.\n * @param {boolean} inputValue Also return the input value for state.\n * @returns The changes for the state.\n */\nfunction getChangesOnSelection(props, highlightedIndex, inputValue = true) {\n  const shouldSelect = props.items?.length && highlightedIndex >= 0\n\n  return {\n    isOpen: false,\n    highlightedIndex: -1,\n    ...(shouldSelect && {\n      selectedItem: props.items[highlightedIndex],\n      isOpen: getDefaultValue(props, 'isOpen', dropdownDefaultStateValues),\n      highlightedIndex: getDefaultValue(\n        props,\n        'highlightedIndex',\n        dropdownDefaultStateValues,\n      ),\n      ...(inputValue && {\n        inputValue: props.itemToString(props.items[highlightedIndex]),\n      }),\n    }),\n  }\n}\n\n/**\n * Check if a state is equal for dropdowns, by comparing isOpen, inputValue, highlightedIndex and selected item.\n * Used by useSelect and useCombobox.\n *\n * @param {Object} prevState\n * @param {Object} newState\n * @returns {boolean} Wheather the states are deeply equal.\n */\nfunction isDropdownsStateEqual(prevState, newState) {\n  return (\n    prevState.isOpen === newState.isOpen &&\n    prevState.inputValue === newState.inputValue &&\n    prevState.highlightedIndex === newState.highlightedIndex &&\n    prevState.selectedItem === newState.selectedItem\n  )\n}\n\n/**\n * Returns the new highlightedIndex based on the defaultHighlightedIndex prop, if it's not disabled.\n *\n * @param {Object} props Props from useCombobox or useSelect.\n * @returns {number} The highlighted index.\n */\nfunction getDefaultHighlightedIndex(props) {\n  const highlightedIndex = getDefaultValue(\n    props,\n    'highlightedIndex',\n    dropdownDefaultStateValues,\n  )\n  if (\n    highlightedIndex > -1 &&\n    props.isItemDisabled(props.items[highlightedIndex], highlightedIndex)\n  ) {\n    return -1\n  }\n\n  return highlightedIndex\n}\n\n/**\n * Returns the new highlightedIndex based on the initialHighlightedIndex prop, if not disabled.\n *\n * @param {Object} props Props from useCombobox or useSelect.\n * @returns {number} The highlighted index.\n */\nfunction getInitialHighlightedIndex(props) {\n  const highlightedIndex = getInitialValue(\n    props,\n    'highlightedIndex',\n    dropdownDefaultStateValues,\n  )\n\n  if (\n    highlightedIndex > -1 &&\n    props.isItemDisabled(props.items[highlightedIndex], highlightedIndex)\n  ) {\n    return -1\n  }\n\n  return highlightedIndex\n}\n\nexport {\n  useControlPropsValidator,\n  useScrollIntoView,\n  useGetterPropsCalledChecker,\n  useMouseAndTouchTracker,\n  getHighlightedIndexOnOpen,\n  isAcceptedCharacterKey,\n  useElementIds,\n  getChangesOnSelection,\n  isDropdownsStateEqual,\n  getDefaultHighlightedIndex,\n  getInitialState,\n}\n","import {getHighlightedIndexOnOpen, getDefaultHighlightedIndex} from './utils'\nimport {getDefaultValue} from './utils-ts'\nimport {dropdownDefaultStateValues} from './utils.dropdown'\n\nexport default function downshiftCommonReducer(\n  state,\n  props,\n  action,\n  stateChangeTypes,\n) {\n  const {type} = action\n  let changes\n\n  switch (type) {\n    case stateChangeTypes.ItemMouseMove:\n      changes = {\n        highlightedIndex: action.disabled ? -1 : action.index,\n      }\n\n      break\n    case stateChangeTypes.MenuMouseLeave:\n      changes = {\n        highlightedIndex: -1,\n      }\n\n      break\n    case stateChangeTypes.ToggleButtonClick:\n    case stateChangeTypes.FunctionToggleMenu:\n      changes = {\n        isOpen: !state.isOpen,\n        highlightedIndex: state.isOpen\n          ? -1\n          : getHighlightedIndexOnOpen(props, state, 0),\n      }\n\n      break\n    case stateChangeTypes.FunctionOpenMenu:\n      changes = {\n        isOpen: true,\n        highlightedIndex: getHighlightedIndexOnOpen(props, state, 0),\n      }\n\n      break\n    case stateChangeTypes.FunctionCloseMenu:\n      changes = {\n        isOpen: false,\n      }\n\n      break\n    case stateChangeTypes.FunctionSetHighlightedIndex:\n      changes = {\n        highlightedIndex: props.isItemDisabled(\n          props.items[action.highlightedIndex],\n          action.highlightedIndex,\n        )\n          ? -1\n          : action.highlightedIndex,\n      }\n\n      break\n    case stateChangeTypes.FunctionSetInputValue:\n      changes = {\n        inputValue: action.inputValue,\n      }\n\n      break\n    case stateChangeTypes.FunctionReset:\n      changes = {\n        highlightedIndex: getDefaultHighlightedIndex(props),\n        isOpen: getDefaultValue(props, 'isOpen', dropdownDefaultStateValues),\n        selectedItem: getDefaultValue(\n          props,\n          'selectedItem',\n          dropdownDefaultStateValues,\n        ),\n        inputValue: getDefaultValue(\n          props,\n          'inputValue',\n          dropdownDefaultStateValues,\n        ),\n      }\n\n      break\n    default:\n      throw new Error('Reducer called without proper action type.')\n  }\n\n  return {\n    ...state,\n    ...changes,\n  }\n}\n/* eslint-enable complexity */\n","import PropTypes from 'prop-types'\nimport {dropdownPropTypes} from '../../utils.dropdown'\n\nexport const propTypes = {\n  ...dropdownPropTypes,\n  items: PropTypes.array.isRequired,\n  isItemDisabled: PropTypes.func,\n}\n","import {dropdownDefaultProps} from '../../utils.dropdown'\n\nexport const defaultProps = {\n  ...dropdownDefaultProps,\n  isItemDisabled() {\n    return false\n  },\n}\n","type GetItemIndexByCharacterKeyOptions<Item> = {\n  keysSoFar: string\n  highlightedIndex: number\n  items: Item[]\n  itemToString(item: Item | null): string\n  isItemDisabled(item: Item, index: number): boolean\n}\n\nexport function getItemIndexByCharacterKey<Item>({\n  keysSoFar,\n  highlightedIndex,\n  items,\n  itemToString,\n  isItemDisabled,\n}: GetItemIndexByCharacterKeyOptions<Item>) {\n  const lowerCasedKeysSoFar = keysSoFar.toLowerCase()\n\n  for (let index = 0; index < items.length; index++) {\n    // if we already have a search query in progress, we also consider the current highlighted item.\n    const offsetIndex =\n      (index + highlightedIndex + (keysSoFar.length < 2 ? 1 : 0)) % items.length\n\n    const item = items[offsetIndex]\n\n    if (\n      item !== undefined &&\n      itemToString(item).toLowerCase().startsWith(lowerCasedKeysSoFar) &&\n      !isItemDisabled(item, offsetIndex)\n    ) {\n      return offsetIndex\n    }\n  }\n\n  return highlightedIndex\n}\n","import productionEnum from '../../productionEnum.macro'\n\nexport const ToggleButtonClick = productionEnum('__togglebutton_click__')\nexport const ToggleButtonKeyDownArrowDown = productionEnum(\n  '__togglebutton_keydown_arrow_down__',\n)\nexport const ToggleButtonKeyDownArrowUp = productionEnum(\n  '__togglebutton_keydown_arrow_up__',\n)\nexport const ToggleButtonKeyDownCharacter = productionEnum(\n  '__togglebutton_keydown_character__',\n)\nexport const ToggleButtonKeyDownEscape = productionEnum(\n  '__togglebutton_keydown_escape__',\n)\nexport const ToggleButtonKeyDownHome = productionEnum(\n  '__togglebutton_keydown_home__',\n)\nexport const ToggleButtonKeyDownEnd = productionEnum(\n  '__togglebutton_keydown_end__',\n)\nexport const ToggleButtonKeyDownEnter = productionEnum(\n  '__togglebutton_keydown_enter__',\n)\nexport const ToggleButtonKeyDownSpaceButton = productionEnum(\n  '__togglebutton_keydown_space_button__',\n)\nexport const ToggleButtonKeyDownPageUp = productionEnum(\n  '__togglebutton_keydown_page_up__',\n)\nexport const ToggleButtonKeyDownPageDown = productionEnum(\n  '__togglebutton_keydown_page_down__',\n)\nexport const ToggleButtonBlur = productionEnum('__togglebutton_blur__')\n\nexport const MenuMouseLeave = productionEnum('__menu_mouse_leave__')\n\nexport const ItemMouseMove = productionEnum('__item_mouse_move__')\nexport const ItemClick = productionEnum('__item_click__')\n\nexport const FunctionToggleMenu = productionEnum('__function_toggle_menu__')\nexport const FunctionOpenMenu = productionEnum('__function_open_menu__')\nexport const FunctionCloseMenu = productionEnum('__function_close_menu__')\nexport const FunctionSetHighlightedIndex = productionEnum(\n  '__function_set_highlighted_index__',\n)\nexport const FunctionSelectItem = productionEnum('__function_select_item__')\nexport const FunctionSetInputValue = productionEnum(\n  '__function_set_input_value__',\n)\nexport const FunctionReset = productionEnum('__function_reset__')\n","import {getNonDisabledIndex, getHighlightedIndex} from '../../utils'\nimport {\n  getHighlightedIndexOnOpen,\n  getChangesOnSelection,\n  getDefaultHighlightedIndex,\n} from '../utils'\nimport {getDefaultValue} from '../utils-ts'\nimport commonReducer from '../reducer'\nimport {defaultStateValues} from '../utils.dropdown/defaultStateValues'\nimport {getItemIndexByCharacterKey} from './utils'\nimport * as stateChangeTypes from './stateChangeTypes'\n\n/* eslint-disable complexity */\nexport default function downshiftSelectReducer(state, props, action) {\n  const {type, altKey} = action\n  let changes\n\n  switch (type) {\n    case stateChangeTypes.ItemClick:\n      changes = {\n        isOpen: getDefaultValue(props, 'isOpen', defaultStateValues),\n        highlightedIndex: getDefaultHighlightedIndex(props),\n        selectedItem: props.items[action.index],\n      }\n\n      break\n    case stateChangeTypes.ToggleButtonKeyDownCharacter:\n      {\n        const lowercasedKey = action.key\n        const inputValue = `${state.inputValue}${lowercasedKey}`\n        const prevHighlightedIndex =\n          !state.isOpen && state.selectedItem\n            ? props.items.findIndex(\n                item =>\n                  props.itemToKey(item) === props.itemToKey(state.selectedItem),\n              )\n            : state.highlightedIndex\n        const highlightedIndex = getItemIndexByCharacterKey({\n          keysSoFar: inputValue,\n          highlightedIndex: prevHighlightedIndex,\n          items: props.items,\n          itemToString: props.itemToString,\n          isItemDisabled: props.isItemDisabled,\n        })\n\n        changes = {\n          inputValue,\n          highlightedIndex,\n          isOpen: true,\n        }\n      }\n\n      break\n    case stateChangeTypes.ToggleButtonKeyDownArrowDown:\n      {\n        const highlightedIndex = state.isOpen\n          ? getHighlightedIndex(\n              state.highlightedIndex,\n              1,\n              props.items,\n              props.isItemDisabled,\n            )\n          : altKey && state.selectedItem == null\n          ? -1\n          : getHighlightedIndexOnOpen(props, state, 1)\n        changes = {\n          highlightedIndex,\n          isOpen: true,\n        }\n      }\n\n      break\n    case stateChangeTypes.ToggleButtonKeyDownArrowUp:\n      if (state.isOpen && altKey) {\n        changes = getChangesOnSelection(props, state.highlightedIndex, false)\n      } else {\n        const highlightedIndex = state.isOpen\n          ? getHighlightedIndex(\n              state.highlightedIndex,\n              -1,\n              props.items,\n              props.isItemDisabled,\n            )\n          : getHighlightedIndexOnOpen(props, state, -1)\n        changes = {\n          highlightedIndex,\n          isOpen: true,\n        }\n      }\n\n      break\n    // only triggered when menu is open.\n    case stateChangeTypes.ToggleButtonKeyDownEnter:\n    case stateChangeTypes.ToggleButtonKeyDownSpaceButton:\n      changes = getChangesOnSelection(props, state.highlightedIndex, false)\n\n      break\n    case stateChangeTypes.ToggleButtonKeyDownHome:\n      changes = {\n        highlightedIndex: getNonDisabledIndex(\n          0,\n          false,\n          props.items,\n          props.isItemDisabled,\n        ),\n        isOpen: true,\n      }\n\n      break\n    case stateChangeTypes.ToggleButtonKeyDownEnd:\n      changes = {\n        highlightedIndex: getNonDisabledIndex(\n          props.items.length - 1,\n          true,\n          props.items,\n          props.isItemDisabled,\n        ),\n        isOpen: true,\n      }\n\n      break\n    case stateChangeTypes.ToggleButtonKeyDownPageUp:\n      changes = {\n        highlightedIndex: getHighlightedIndex(\n          state.highlightedIndex,\n          -10,\n          props.items,\n          props.isItemDisabled,\n        ),\n      }\n      break\n    case stateChangeTypes.ToggleButtonKeyDownPageDown:\n      changes = {\n        highlightedIndex: getHighlightedIndex(\n          state.highlightedIndex,\n          10,\n          props.items,\n          props.isItemDisabled,\n        ),\n      }\n      break\n    case stateChangeTypes.ToggleButtonKeyDownEscape:\n      changes = {\n        isOpen: false,\n        highlightedIndex: -1,\n      }\n\n      break\n    case stateChangeTypes.ToggleButtonBlur:\n      changes = {\n        isOpen: false,\n        highlightedIndex: -1,\n        ...(state.highlightedIndex >= 0 &&\n          props.items?.length && {\n            selectedItem: props.items[state.highlightedIndex],\n          }),\n      }\n\n      break\n    case stateChangeTypes.FunctionSelectItem:\n      changes = {\n        selectedItem: action.selectedItem,\n      }\n\n      break\n    default:\n      return commonReducer(state, props, action, stateChangeTypes)\n  }\n\n  return {\n    ...state,\n    ...changes,\n  }\n}\n/* eslint-enable complexity */\n","import {useRef, useEffect, useCallback, useMemo} from 'react'\nimport {useLatestRef, validatePropTypes} from '../../utils-ts'\nimport {\n  callAllEventHandlers,\n  handleRefs,\n  debounce,\n  normalizeArrowKey,\n} from '../../utils'\nimport {\n  isAcceptedCharacterKey,\n  getInitialState,\n  useGetterPropsCalledChecker,\n  useScrollIntoView,\n  useControlPropsValidator,\n  useElementIds,\n  useMouseAndTouchTracker,\n  isDropdownsStateEqual,\n} from '../utils'\nimport {\n  useControlledReducer,\n  getInitialValue,\n  getItemAndIndex,\n  useA11yMessageStatus,\n} from '../utils-ts'\nimport {defaultStateValues} from '../utils.dropdown/defaultStateValues'\nimport {isReactNative, isReactNativeWeb} from '../../is.macro'\nimport downshiftSelectReducer from './reducer'\nimport {defaultProps, propTypes} from './utils'\nimport * as stateChangeTypes from './stateChangeTypes'\n\nuseSelect.stateChangeTypes = stateChangeTypes\n\nfunction useSelect(userProps = {}) {\n  validatePropTypes(userProps, useSelect, propTypes)\n  // Props defaults and destructuring.\n  const props = {\n    ...defaultProps,\n    ...userProps,\n  }\n  const {scrollIntoView, environment, getA11yStatusMessage} = props\n  // Initial state depending on controlled props.\n  const [state, dispatch] = useControlledReducer(\n    downshiftSelectReducer,\n    props,\n    getInitialState,\n    isDropdownsStateEqual,\n  )\n  const {isOpen, highlightedIndex, selectedItem, inputValue} = state\n  // Element efs.\n  const toggleButtonRef = useRef(null)\n  const menuRef = useRef(null)\n  const itemRefs = useRef({})\n\n  // used to keep the inputValue clearTimeout object between renders.\n  const clearTimeoutRef = useRef(null)\n  // prevent id re-generation between renders.\n  const elementIds = useElementIds(props)\n  // utility callback to get item element.\n  const latest = useLatestRef({\n    state,\n    props,\n  })\n\n  // Some utils.\n  const getItemNodeFromIndex = useCallback(\n    index => itemRefs.current[elementIds.getItemId(index)],\n    [elementIds],\n  )\n\n  // Effects.\n  // Adds an a11y aria live status message if getA11yStatusMessage is passed.\n  useA11yMessageStatus(\n    getA11yStatusMessage,\n    state,\n    [isOpen, highlightedIndex, selectedItem, inputValue],\n    environment,\n  )\n  // Scroll on highlighted item if change comes from keyboard.\n  const shouldScrollRef = useScrollIntoView({\n    menuElement: menuRef.current,\n    highlightedIndex,\n    isOpen,\n    itemRefs,\n    scrollIntoView,\n    getItemNodeFromIndex,\n  })\n  // Sets cleanup for the keysSoFar callback, debounded after 500ms.\n  useEffect(() => {\n    // init the clean function here as we need access to dispatch.\n    clearTimeoutRef.current = debounce(outerDispatch => {\n      outerDispatch({\n        type: stateChangeTypes.FunctionSetInputValue,\n        inputValue: '',\n      })\n    }, 500)\n\n    // Cancel any pending debounced calls on mount\n    return () => {\n      clearTimeoutRef.current.cancel()\n    }\n  }, [])\n  // Invokes the keysSoFar callback set up above.\n  useEffect(() => {\n    if (!inputValue) {\n      return\n    }\n\n    clearTimeoutRef.current(dispatch)\n  }, [dispatch, inputValue])\n\n  useControlPropsValidator({\n    props,\n    state,\n  })\n  // Focus the toggle button on first render if required.\n  useEffect(() => {\n    const focusOnOpen = getInitialValue(props, 'isOpen', defaultStateValues)\n\n    if (focusOnOpen && toggleButtonRef.current) {\n      toggleButtonRef.current.focus()\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const handleBlurInTracker = useCallback(\n    function handleBlur() {\n      if (latest.current.state.isOpen) {\n        dispatch({\n          type: stateChangeTypes.ToggleButtonBlur,\n        })\n      }\n    },\n    [dispatch, latest],\n  )\n  const downshiftRefs = useMemo(() => [menuRef, toggleButtonRef], [])\n  const mouseAndTouchTrackers = useMouseAndTouchTracker(\n    environment,\n    handleBlurInTracker,\n    downshiftRefs,\n  )\n  const setGetterPropCallInfo = useGetterPropsCalledChecker(\n    'getMenuProps',\n    'getToggleButtonProps',\n  )\n  // Reset itemRefs on close.\n  useEffect(() => {\n    if (!isOpen) {\n      itemRefs.current = {}\n    }\n  }, [isOpen])\n\n  // Event handler functions.\n  const toggleButtonKeyDownHandlers = useMemo(\n    () => ({\n      ArrowDown(event) {\n        event.preventDefault()\n\n        dispatch({\n          type: stateChangeTypes.ToggleButtonKeyDownArrowDown,\n          altKey: event.altKey,\n        })\n      },\n      ArrowUp(event) {\n        event.preventDefault()\n\n        dispatch({\n          type: stateChangeTypes.ToggleButtonKeyDownArrowUp,\n          altKey: event.altKey,\n        })\n      },\n      Home(event) {\n        event.preventDefault()\n\n        dispatch({\n          type: stateChangeTypes.ToggleButtonKeyDownHome,\n        })\n      },\n      End(event) {\n        event.preventDefault()\n\n        dispatch({\n          type: stateChangeTypes.ToggleButtonKeyDownEnd,\n        })\n      },\n      Escape() {\n        if (latest.current.state.isOpen) {\n          dispatch({\n            type: stateChangeTypes.ToggleButtonKeyDownEscape,\n          })\n        }\n      },\n      Enter(event) {\n        event.preventDefault()\n\n        dispatch({\n          type: latest.current.state.isOpen\n            ? stateChangeTypes.ToggleButtonKeyDownEnter\n            : stateChangeTypes.ToggleButtonClick,\n        })\n      },\n      PageUp(event) {\n        if (latest.current.state.isOpen) {\n          event.preventDefault()\n\n          dispatch({\n            type: stateChangeTypes.ToggleButtonKeyDownPageUp,\n          })\n        }\n      },\n      PageDown(event) {\n        if (latest.current.state.isOpen) {\n          event.preventDefault()\n\n          dispatch({\n            type: stateChangeTypes.ToggleButtonKeyDownPageDown,\n          })\n        }\n      },\n      ' '(event) {\n        event.preventDefault()\n\n        const currentState = latest.current.state\n\n        if (!currentState.isOpen) {\n          dispatch({type: stateChangeTypes.ToggleButtonClick})\n          return\n        }\n\n        if (currentState.inputValue) {\n          dispatch({\n            type: stateChangeTypes.ToggleButtonKeyDownCharacter,\n            key: ' ',\n          })\n        } else {\n          dispatch({type: stateChangeTypes.ToggleButtonKeyDownSpaceButton})\n        }\n      },\n    }),\n    [dispatch, latest],\n  )\n\n  // Action functions.\n  const toggleMenu = useCallback(() => {\n    dispatch({\n      type: stateChangeTypes.FunctionToggleMenu,\n    })\n  }, [dispatch])\n  const closeMenu = useCallback(() => {\n    dispatch({\n      type: stateChangeTypes.FunctionCloseMenu,\n    })\n  }, [dispatch])\n  const openMenu = useCallback(() => {\n    dispatch({\n      type: stateChangeTypes.FunctionOpenMenu,\n    })\n  }, [dispatch])\n  const setHighlightedIndex = useCallback(\n    newHighlightedIndex => {\n      dispatch({\n        type: stateChangeTypes.FunctionSetHighlightedIndex,\n        highlightedIndex: newHighlightedIndex,\n      })\n    },\n    [dispatch],\n  )\n  const selectItem = useCallback(\n    newSelectedItem => {\n      dispatch({\n        type: stateChangeTypes.FunctionSelectItem,\n        selectedItem: newSelectedItem,\n      })\n    },\n    [dispatch],\n  )\n  const reset = useCallback(() => {\n    dispatch({\n      type: stateChangeTypes.FunctionReset,\n    })\n  }, [dispatch])\n  const setInputValue = useCallback(\n    newInputValue => {\n      dispatch({\n        type: stateChangeTypes.FunctionSetInputValue,\n        inputValue: newInputValue,\n      })\n    },\n    [dispatch],\n  )\n  // Getter functions.\n  const getLabelProps = useCallback(\n    ({onClick, ...labelProps} = {}) => {\n      const labelHandleClick = () => {\n        toggleButtonRef.current?.focus()\n      }\n\n      return {\n        id: elementIds.labelId,\n        htmlFor: elementIds.toggleButtonId,\n        onClick: callAllEventHandlers(onClick, labelHandleClick),\n        ...labelProps,\n      }\n    },\n    [elementIds],\n  )\n  const getMenuProps = useCallback(\n    (\n      {onMouseLeave, refKey = 'ref', ref, ...rest} = {},\n      {suppressRefError = false} = {},\n    ) => {\n      const menuHandleMouseLeave = () => {\n        dispatch({\n          type: stateChangeTypes.MenuMouseLeave,\n        })\n      }\n\n      setGetterPropCallInfo('getMenuProps', suppressRefError, refKey, menuRef)\n\n      return {\n        [refKey]: handleRefs(ref, menuNode => {\n          menuRef.current = menuNode\n        }),\n        id: elementIds.menuId,\n        role: 'listbox',\n        'aria-labelledby':\n          rest && rest['aria-label'] ? undefined : `${elementIds.labelId}`,\n        onMouseLeave: callAllEventHandlers(onMouseLeave, menuHandleMouseLeave),\n        ...rest,\n      }\n    },\n    [dispatch, setGetterPropCallInfo, elementIds],\n  )\n  const getToggleButtonProps = useCallback(\n    (\n      {onBlur, onClick, onPress, onKeyDown, refKey = 'ref', ref, ...rest} = {},\n      {suppressRefError = false} = {},\n    ) => {\n      const latestState = latest.current.state\n      const toggleButtonHandleClick = () => {\n        dispatch({\n          type: stateChangeTypes.ToggleButtonClick,\n        })\n      }\n      const toggleButtonHandleBlur = () => {\n        if (latestState.isOpen && !mouseAndTouchTrackers.isMouseDown) {\n          dispatch({\n            type: stateChangeTypes.ToggleButtonBlur,\n          })\n        }\n      }\n      const toggleButtonHandleKeyDown = event => {\n        const key = normalizeArrowKey(event)\n        if (key && toggleButtonKeyDownHandlers[key]) {\n          toggleButtonKeyDownHandlers[key](event)\n        } else if (isAcceptedCharacterKey(key)) {\n          dispatch({\n            type: stateChangeTypes.ToggleButtonKeyDownCharacter,\n            key,\n          })\n        }\n      }\n      const toggleProps = {\n        [refKey]: handleRefs(ref, toggleButtonNode => {\n          toggleButtonRef.current = toggleButtonNode\n        }),\n        'aria-activedescendant':\n          latestState.isOpen && latestState.highlightedIndex > -1\n            ? elementIds.getItemId(latestState.highlightedIndex)\n            : '',\n        'aria-controls': elementIds.menuId,\n        'aria-expanded': latest.current.state.isOpen,\n        'aria-haspopup': 'listbox',\n        'aria-labelledby':\n          rest && rest['aria-label'] ? undefined : `${elementIds.labelId}`,\n        id: elementIds.toggleButtonId,\n        role: 'combobox',\n        tabIndex: 0,\n        onBlur: callAllEventHandlers(onBlur, toggleButtonHandleBlur),\n        ...rest,\n      }\n\n      if (!rest.disabled) {\n        /* istanbul ignore if (react-native) */\n        if (isReactNative || isReactNativeWeb) {\n          toggleProps.onPress = callAllEventHandlers(\n            onPress,\n            toggleButtonHandleClick,\n          )\n        } else {\n          toggleProps.onClick = callAllEventHandlers(\n            onClick,\n            toggleButtonHandleClick,\n          )\n          toggleProps.onKeyDown = callAllEventHandlers(\n            onKeyDown,\n            toggleButtonHandleKeyDown,\n          )\n        }\n      }\n\n      setGetterPropCallInfo(\n        'getToggleButtonProps',\n        suppressRefError,\n        refKey,\n        toggleButtonRef,\n      )\n\n      return toggleProps\n    },\n    [\n      dispatch,\n      elementIds,\n      latest,\n      mouseAndTouchTrackers,\n      setGetterPropCallInfo,\n      toggleButtonKeyDownHandlers,\n    ],\n  )\n  const getItemProps = useCallback(\n    ({\n      item: itemProp,\n      index: indexProp,\n      onMouseMove,\n      onClick,\n      onMouseDown,\n      onPress,\n      refKey = 'ref',\n      disabled: disabledProp,\n      ref,\n      ...rest\n    } = {}) => {\n      if (disabledProp !== undefined) {\n        console.warn(\n          'Passing \"disabled\" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useSelect.',\n        )\n      }\n\n      const {state: latestState, props: latestProps} = latest.current\n      const [item, index] = getItemAndIndex(\n        itemProp,\n        indexProp,\n        latestProps.items,\n        'Pass either item or index to getItemProps!',\n      )\n      const disabled = latestProps.isItemDisabled(item, index)\n\n      const itemHandleMouseMove = () => {\n        if (\n          mouseAndTouchTrackers.isTouchEnd ||\n          index === latestState.highlightedIndex\n        ) {\n          return\n        }\n        shouldScrollRef.current = false\n        dispatch({\n          type: stateChangeTypes.ItemMouseMove,\n          index,\n          disabled,\n        })\n      }\n      const itemHandleClick = () => {\n        dispatch({\n          type: stateChangeTypes.ItemClick,\n          index,\n        })\n      }\n      const itemHandleMouseDown = e => e.preventDefault() // keep focus on the toggle after item click select.\n\n      const itemProps = {\n        [refKey]: handleRefs(ref, itemNode => {\n          if (itemNode) {\n            itemRefs.current[elementIds.getItemId(index)] = itemNode\n          }\n        }),\n        'aria-disabled': disabled,\n        'aria-selected': item === latestState.selectedItem,\n        id: elementIds.getItemId(index),\n        role: 'option',\n        ...rest,\n      }\n\n      if (!disabled) {\n        /* istanbul ignore next (react-native) */\n        if (isReactNative || isReactNativeWeb) {\n          itemProps.onPress = callAllEventHandlers(onPress, itemHandleClick)\n        } else {\n          itemProps.onClick = callAllEventHandlers(onClick, itemHandleClick)\n        }\n      }\n\n      itemProps.onMouseMove = callAllEventHandlers(\n        onMouseMove,\n        itemHandleMouseMove,\n      )\n      itemProps.onMouseDown = callAllEventHandlers(\n        onMouseDown,\n        itemHandleMouseDown,\n      )\n\n      return itemProps\n    },\n    [latest, elementIds, mouseAndTouchTrackers, shouldScrollRef, dispatch],\n  )\n\n  return {\n    // prop getters.\n    getToggleButtonProps,\n    getLabelProps,\n    getMenuProps,\n    getItemProps,\n    // actions.\n    toggleMenu,\n    openMenu,\n    closeMenu,\n    setHighlightedIndex,\n    selectItem,\n    reset,\n    setInputValue,\n    // state.\n    highlightedIndex,\n    isOpen,\n    selectedItem,\n    inputValue,\n  }\n}\n\nexport default useSelect\n","import productionEnum from '../../productionEnum.macro'\n\nexport const InputKeyDownArrowDown = productionEnum(\n  '__input_keydown_arrow_down__',\n)\nexport const InputKeyDownArrowUp = productionEnum('__input_keydown_arrow_up__')\nexport const InputKeyDownEscape = productionEnum('__input_keydown_escape__')\nexport const InputKeyDownHome = productionEnum('__input_keydown_home__')\nexport const InputKeyDownEnd = productionEnum('__input_keydown_end__')\nexport const InputKeyDownPageUp = productionEnum('__input_keydown_page_up__')\nexport const InputKeyDownPageDown = productionEnum(\n  '__input_keydown_page_down__',\n)\nexport const InputKeyDownEnter = productionEnum('__input_keydown_enter__')\nexport const InputChange = productionEnum('__input_change__')\nexport const InputBlur = productionEnum('__input_blur__')\nexport const InputClick = productionEnum('__input_click__')\n\nexport const MenuMouseLeave = productionEnum('__menu_mouse_leave__')\n\nexport const ItemMouseMove = productionEnum('__item_mouse_move__')\nexport const ItemClick = productionEnum('__item_click__')\n\nexport const ToggleButtonClick = productionEnum('__togglebutton_click__')\n\nexport const FunctionToggleMenu = productionEnum('__function_toggle_menu__')\nexport const FunctionOpenMenu = productionEnum('__function_open_menu__')\nexport const FunctionCloseMenu = productionEnum('__function_close_menu__')\nexport const FunctionSetHighlightedIndex = productionEnum(\n  '__function_set_highlighted_index__',\n)\nexport const FunctionSelectItem = productionEnum('__function_select_item__')\nexport const FunctionSetInputValue = productionEnum(\n  '__function_set_input_value__',\n)\nexport const FunctionReset = productionEnum('__function_reset__')\nexport const ControlledPropUpdatedSelectedItem = productionEnum(\n  '__controlled_prop_updated_selected_item__',\n)\n","import {useRef, useEffect} from 'react'\nimport PropTypes from 'prop-types'\nimport {isControlledProp} from '../../utils'\nimport {getState} from '../../utils-ts'\nimport {getInitialState as getInitialStateCommon} from '../utils'\nimport {dropdownDefaultProps, dropdownPropTypes} from '../utils.dropdown'\nimport {useIsInitialMount, useEnhancedReducer} from '../utils-ts'\nimport {ControlledPropUpdatedSelectedItem} from './stateChangeTypes'\n\nexport function getInitialState(props) {\n  const initialState = getInitialStateCommon(props)\n  const {selectedItem} = initialState\n  let {inputValue} = initialState\n\n  if (\n    inputValue === '' &&\n    selectedItem &&\n    props.defaultInputValue === undefined &&\n    props.initialInputValue === undefined &&\n    props.inputValue === undefined\n  ) {\n    inputValue = props.itemToString(selectedItem)\n  }\n\n  return {\n    ...initialState,\n    inputValue,\n  }\n}\n\nexport const propTypes = {\n  ...dropdownPropTypes,\n  items: PropTypes.array.isRequired,\n  isItemDisabled: PropTypes.func,\n  inputValue: PropTypes.string,\n  defaultInputValue: PropTypes.string,\n  initialInputValue: PropTypes.string,\n  inputId: PropTypes.string,\n  onInputValueChange: PropTypes.func,\n}\n\n/**\n * The useCombobox version of useControlledReducer, which also\n * checks if the controlled prop selectedItem changed between\n * renders. If so, it will also update inputValue with its\n * string equivalent. It uses the common useEnhancedReducer to\n * compute the rest of the state.\n *\n * @param {Function} reducer Reducer function from downshift.\n * @param {Object} props The hook props, also passed to createInitialState.\n * @param {Function} createInitialState Function that returns the initial state.\n * @param {Function} isStateEqual Function that checks if a previous state is equal to the next.\n * @returns {Array} An array with the state and an action dispatcher.\n */\nexport function useControlledReducer(\n  reducer,\n  props,\n  createInitialState,\n  isStateEqual,\n) {\n  const previousSelectedItemRef = useRef()\n  const [state, dispatch] = useEnhancedReducer(\n    reducer,\n    props,\n    createInitialState,\n    isStateEqual,\n  )\n  const isInitialMount = useIsInitialMount()\n\n  useEffect(() => {\n    if (!isControlledProp(props, 'selectedItem')) {\n      return\n    }\n\n    if (\n      !isInitialMount // on first mount we already have the proper inputValue for a initial selected item.\n    ) {\n      const shouldCallDispatch =\n        props.itemToKey(props.selectedItem) !==\n        props.itemToKey(previousSelectedItemRef.current)\n\n      if (shouldCallDispatch) {\n        dispatch({\n          type: ControlledPropUpdatedSelectedItem,\n          inputValue: props.itemToString(props.selectedItem),\n        })\n      }\n    }\n\n    previousSelectedItemRef.current =\n      state.selectedItem === previousSelectedItemRef.current\n        ? props.selectedItem\n        : state.selectedItem\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [state.selectedItem, props.selectedItem])\n\n  return [getState(state, props), dispatch]\n}\n\nexport const defaultProps = {\n  ...dropdownDefaultProps,\n  isItemDisabled() {\n    return false\n  },\n}\n","import {\n  getHighlightedIndexOnOpen,\n  getChangesOnSelection,\n  getDefaultHighlightedIndex,\n} from '../utils'\nimport {getDefaultValue} from '../utils-ts'\nimport {getHighlightedIndex, getNonDisabledIndex} from '../../utils'\nimport commonReducer from '../reducer'\nimport {dropdownDefaultStateValues} from '../utils.dropdown'\nimport * as stateChangeTypes from './stateChangeTypes'\n\n/* eslint-disable complexity */\nexport default function downshiftUseComboboxReducer(state, props, action) {\n  const {type, altKey} = action\n  let changes\n\n  switch (type) {\n    case stateChangeTypes.ItemClick:\n      changes = {\n        isOpen: getDefaultValue(props, 'isOpen', dropdownDefaultStateValues),\n        highlightedIndex: getDefaultHighlightedIndex(props),\n        selectedItem: props.items[action.index],\n        inputValue: props.itemToString(props.items[action.index]),\n      }\n\n      break\n    case stateChangeTypes.InputKeyDownArrowDown:\n      if (state.isOpen) {\n        changes = {\n          highlightedIndex: getHighlightedIndex(\n            state.highlightedIndex,\n            1,\n            props.items,\n            props.isItemDisabled,\n            true,\n          ),\n        }\n      } else {\n        changes = {\n          highlightedIndex:\n            altKey && state.selectedItem == null\n              ? -1\n              : getHighlightedIndexOnOpen(props, state, 1),\n          isOpen: props.items.length >= 0,\n        }\n      }\n      break\n    case stateChangeTypes.InputKeyDownArrowUp:\n      if (state.isOpen) {\n        if (altKey) {\n          changes = getChangesOnSelection(props, state.highlightedIndex)\n        } else {\n          changes = {\n            highlightedIndex: getHighlightedIndex(\n              state.highlightedIndex,\n              -1,\n              props.items,\n              props.isItemDisabled,\n              true,\n            ),\n          }\n        }\n      } else {\n        changes = {\n          highlightedIndex: getHighlightedIndexOnOpen(props, state, -1),\n          isOpen: props.items.length >= 0,\n        }\n      }\n      break\n    case stateChangeTypes.InputKeyDownEnter:\n      changes = getChangesOnSelection(props, state.highlightedIndex)\n\n      break\n    case stateChangeTypes.InputKeyDownEscape:\n      changes = {\n        isOpen: false,\n        highlightedIndex: -1,\n        ...(!state.isOpen && {\n          selectedItem: null,\n          inputValue: '',\n        }),\n      }\n      break\n    case stateChangeTypes.InputKeyDownPageUp:\n      changes = {\n        highlightedIndex: getHighlightedIndex(\n          state.highlightedIndex,\n          -10,\n          props.items,\n          props.isItemDisabled,\n          true,\n        ),\n      }\n      break\n    case stateChangeTypes.InputKeyDownPageDown:\n      changes = {\n        highlightedIndex: getHighlightedIndex(\n          state.highlightedIndex,\n          10,\n          props.items,\n          props.isItemDisabled,\n          true,\n        ),\n      }\n      break\n    case stateChangeTypes.InputKeyDownHome:\n      changes = {\n        highlightedIndex: getNonDisabledIndex(\n          0,\n          false,\n          props.items,\n          props.isItemDisabled,\n        ),\n      }\n      break\n    case stateChangeTypes.InputKeyDownEnd:\n      changes = {\n        highlightedIndex: getNonDisabledIndex(\n          props.items.length - 1,\n          true,\n          props.items,\n          props.isItemDisabled,\n        ),\n      }\n      break\n    case stateChangeTypes.InputBlur:\n      changes = {\n        isOpen: false,\n        highlightedIndex: -1,\n        ...(state.highlightedIndex >= 0 &&\n          props.items?.length &&\n          action.selectItem && {\n            selectedItem: props.items[state.highlightedIndex],\n            inputValue: props.itemToString(props.items[state.highlightedIndex]),\n          }),\n      }\n      break\n    case stateChangeTypes.InputChange:\n      changes = {\n        isOpen: true,\n        highlightedIndex: getDefaultHighlightedIndex(props),\n        inputValue: action.inputValue,\n      }\n      break\n    case stateChangeTypes.InputClick:\n      changes = {\n        isOpen: !state.isOpen,\n        highlightedIndex: state.isOpen\n          ? -1\n          : getHighlightedIndexOnOpen(props, state, 0),\n      }\n      break\n    case stateChangeTypes.FunctionSelectItem:\n      changes = {\n        selectedItem: action.selectedItem,\n        inputValue: props.itemToString(action.selectedItem),\n      }\n      break\n    case stateChangeTypes.ControlledPropUpdatedSelectedItem:\n      changes = {\n        inputValue: action.inputValue,\n      }\n      break\n    default:\n      return commonReducer(state, props, action, stateChangeTypes)\n  }\n\n  return {\n    ...state,\n    ...changes,\n  }\n}\n/* eslint-enable complexity */\n","import {useRef, useEffect, useCallback, useMemo} from 'react'\nimport {isPreact, isReactNative, isReactNativeWeb} from '../../is.macro'\nimport {handleRefs, normalizeArrowKey, callAllEventHandlers} from '../../utils'\nimport {useLatestRef, validatePropTypes} from '../../utils-ts'\nimport {\n  useMouseAndTouchTracker,\n  useGetterPropsCalledChecker,\n  useScrollIntoView,\n  useControlPropsValidator,\n  useElementIds,\n  isDropdownsStateEqual,\n} from '../utils'\nimport {\n  getItemAndIndex,\n  getInitialValue,\n  useIsInitialMount,\n  useA11yMessageStatus,\n} from '../utils-ts'\nimport {defaultStateValues} from '../utils.dropdown/defaultStateValues'\nimport {\n  getInitialState,\n  defaultProps,\n  useControlledReducer,\n  propTypes,\n} from './utils'\nimport downshiftUseComboboxReducer from './reducer'\nimport * as stateChangeTypes from './stateChangeTypes'\n\nuseCombobox.stateChangeTypes = stateChangeTypes\n\nfunction useCombobox(userProps = {}) {\n  validatePropTypes(userProps, useCombobox, propTypes)\n  // Props defaults and destructuring.\n  const props = {\n    ...defaultProps,\n    ...userProps,\n  }\n  const {items, scrollIntoView, environment, getA11yStatusMessage} = props\n  // Initial state depending on controlled props.\n  const [state, dispatch] = useControlledReducer(\n    downshiftUseComboboxReducer,\n    props,\n    getInitialState,\n    isDropdownsStateEqual,\n  )\n  const {isOpen, highlightedIndex, selectedItem, inputValue} = state\n\n  // Element refs.\n  const menuRef = useRef(null)\n  const itemRefs = useRef({})\n  const inputRef = useRef(null)\n  const toggleButtonRef = useRef(null)\n  const isInitialMount = useIsInitialMount()\n\n  // prevent id re-generation between renders.\n  const elementIds = useElementIds(props)\n  // used to keep track of how many items we had on previous cycle.\n  const previousResultCountRef = useRef()\n  // utility callback to get item element.\n  const latest = useLatestRef({state, props})\n\n  const getItemNodeFromIndex = useCallback(\n    index => itemRefs.current[elementIds.getItemId(index)],\n    [elementIds],\n  )\n\n  // Effects.\n  // Adds an a11y aria live status message if getA11yStatusMessage is passed.\n  useA11yMessageStatus(\n    getA11yStatusMessage,\n    state,\n    [isOpen, highlightedIndex, selectedItem, inputValue],\n    environment,\n  )\n  // Scroll on highlighted item if change comes from keyboard.\n  const shouldScrollRef = useScrollIntoView({\n    menuElement: menuRef.current,\n    highlightedIndex,\n    isOpen,\n    itemRefs,\n    scrollIntoView,\n    getItemNodeFromIndex,\n  })\n  useControlPropsValidator({\n    props,\n    state,\n  })\n  // Focus the input on first render if required.\n  useEffect(() => {\n    const focusOnOpen = getInitialValue(props, 'isOpen', defaultStateValues)\n\n    if (focusOnOpen && inputRef.current) {\n      inputRef.current.focus()\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n  useEffect(() => {\n    if (!isInitialMount) {\n      previousResultCountRef.current = items.length\n    }\n  })\n\n  const handleBlurInTracker = useCallback(\n    function handleBlur() {\n      if (latest.current.state.isOpen) {\n        dispatch({\n          type: stateChangeTypes.InputBlur,\n        })\n      }\n    },\n    [dispatch, latest],\n  )\n  const downshiftRefs = useMemo(() => [menuRef, toggleButtonRef, inputRef], [])\n  const mouseAndTouchTrackers = useMouseAndTouchTracker(\n    environment,\n    handleBlurInTracker,\n    downshiftRefs\n  )\n  const setGetterPropCallInfo = useGetterPropsCalledChecker(\n    'getInputProps',\n    'getMenuProps',\n  )\n  // Reset itemRefs on close.\n  useEffect(() => {\n    if (!isOpen) {\n      itemRefs.current = {}\n    }\n  }, [isOpen])\n  // Reset itemRefs on close.\n  useEffect(() => {\n    if (!isOpen || !environment?.document || !inputRef?.current?.focus) {\n      return\n    }\n\n    if (environment.document.activeElement !== inputRef.current) {\n      inputRef.current.focus()\n    }\n  }, [isOpen, environment])\n\n  /* Event handler functions */\n  const inputKeyDownHandlers = useMemo(\n    () => ({\n      ArrowDown(event) {\n        event.preventDefault()\n        dispatch({\n          type: stateChangeTypes.InputKeyDownArrowDown,\n          altKey: event.altKey,\n        })\n      },\n      ArrowUp(event) {\n        event.preventDefault()\n        dispatch({\n          type: stateChangeTypes.InputKeyDownArrowUp,\n          altKey: event.altKey,\n        })\n      },\n      Home(event) {\n        if (!latest.current.state.isOpen) {\n          return\n        }\n\n        event.preventDefault()\n        dispatch({\n          type: stateChangeTypes.InputKeyDownHome,\n        })\n      },\n      End(event) {\n        if (!latest.current.state.isOpen) {\n          return\n        }\n\n        event.preventDefault()\n        dispatch({\n          type: stateChangeTypes.InputKeyDownEnd,\n        })\n      },\n      Escape(event) {\n        const latestState = latest.current.state\n        if (\n          latestState.isOpen ||\n          latestState.inputValue ||\n          latestState.selectedItem ||\n          latestState.highlightedIndex > -1\n        ) {\n          event.preventDefault()\n\n          dispatch({\n            type: stateChangeTypes.InputKeyDownEscape,\n          })\n        }\n      },\n      Enter(event) {\n        const latestState = latest.current.state\n        // if closed or no highlighted index, do nothing.\n        if (\n          !latestState.isOpen ||\n          event.which === 229 // if IME composing, wait for next Enter keydown event.\n        ) {\n          return\n        }\n\n        event.preventDefault()\n        dispatch({\n          type: stateChangeTypes.InputKeyDownEnter,\n        })\n      },\n      PageUp(event) {\n        if (latest.current.state.isOpen) {\n          event.preventDefault()\n\n          dispatch({\n            type: stateChangeTypes.InputKeyDownPageUp,\n          })\n        }\n      },\n      PageDown(event) {\n        if (latest.current.state.isOpen) {\n          event.preventDefault()\n\n          dispatch({\n            type: stateChangeTypes.InputKeyDownPageDown,\n          })\n        }\n      },\n    }),\n    [dispatch, latest],\n  )\n\n  // Getter props.\n  const getLabelProps = useCallback(\n    labelProps => ({\n      id: elementIds.labelId,\n      htmlFor: elementIds.inputId,\n      ...labelProps,\n    }),\n    [elementIds],\n  )\n  const getMenuProps = useCallback(\n    (\n      {onMouseLeave, refKey = 'ref', ref, ...rest} = {},\n      {suppressRefError = false} = {},\n    ) => {\n      setGetterPropCallInfo('getMenuProps', suppressRefError, refKey, menuRef)\n      return {\n        [refKey]: handleRefs(ref, menuNode => {\n          menuRef.current = menuNode\n        }),\n        id: elementIds.menuId,\n        role: 'listbox',\n        'aria-labelledby':\n          rest && rest['aria-label'] ? undefined : `${elementIds.labelId}`,\n        onMouseLeave: callAllEventHandlers(onMouseLeave, () => {\n          dispatch({\n            type: stateChangeTypes.MenuMouseLeave,\n          })\n        }),\n        ...rest,\n      }\n    },\n    [dispatch, setGetterPropCallInfo, elementIds],\n  )\n\n  const getItemProps = useCallback(\n    ({\n      item: itemProp,\n      index: indexProp,\n      refKey = 'ref',\n      ref,\n      onMouseMove,\n      onMouseDown,\n      onClick,\n      onPress,\n      disabled: disabledProp,\n      ...rest\n    } = {}) => {\n      if (disabledProp !== undefined) {\n        console.warn(\n          'Passing \"disabled\" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useCombobox.',\n        )\n      }\n\n      const {props: latestProps, state: latestState} = latest.current\n      const [item, index] = getItemAndIndex(\n        itemProp,\n        indexProp,\n        latestProps.items,\n        'Pass either item or index to getItemProps!',\n      )\n      const disabled = latestProps.isItemDisabled(item, index)\n      const onSelectKey =\n        isReactNative || isReactNativeWeb\n          ? /* istanbul ignore next (react-native) */ 'onPress'\n          : 'onClick'\n      const customClickHandler = isReactNative\n        ? /* istanbul ignore next (react-native) */ onPress\n        : onClick\n\n      const itemHandleMouseMove = () => {\n        if (\n          mouseAndTouchTrackers.isTouchEnd ||\n          index === latestState.highlightedIndex\n        ) {\n          return\n        }\n\n        shouldScrollRef.current = false\n\n        dispatch({\n          type: stateChangeTypes.ItemMouseMove,\n          index,\n          disabled,\n        })\n      }\n      const itemHandleClick = () => {\n        dispatch({\n          type: stateChangeTypes.ItemClick,\n          index,\n        })\n      }\n      const itemHandleMouseDown = e => e.preventDefault() // keep focus on the input after item click select.\n\n      return {\n        [refKey]: handleRefs(ref, itemNode => {\n          if (itemNode) {\n            itemRefs.current[elementIds.getItemId(index)] = itemNode\n          }\n        }),\n        'aria-disabled': disabled,\n        'aria-selected': index === latestState.highlightedIndex,\n        id: elementIds.getItemId(index),\n        role: 'option',\n        ...(!disabled && {\n          [onSelectKey]: callAllEventHandlers(\n            customClickHandler,\n            itemHandleClick,\n          ),\n        }),\n        onMouseMove: callAllEventHandlers(onMouseMove, itemHandleMouseMove),\n        onMouseDown: callAllEventHandlers(onMouseDown, itemHandleMouseDown),\n        ...rest,\n      }\n    },\n\n    [dispatch, elementIds, latest, mouseAndTouchTrackers, shouldScrollRef],\n  )\n\n  const getToggleButtonProps = useCallback(\n    ({onClick, onPress, refKey = 'ref', ref, ...rest} = {}) => {\n      const latestState = latest.current.state\n      const toggleButtonHandleClick = () => {\n        dispatch({\n          type: stateChangeTypes.ToggleButtonClick,\n        })\n      }\n\n      return {\n        [refKey]: handleRefs(ref, toggleButtonNode => {\n          toggleButtonRef.current = toggleButtonNode\n        }),\n        'aria-controls': elementIds.menuId,\n        'aria-expanded': latestState.isOpen,\n        id: elementIds.toggleButtonId,\n        tabIndex: -1,\n        ...(!rest.disabled && {\n          ...(isReactNative || isReactNativeWeb\n            ? /* istanbul ignore next (react-native) */ {\n                onPress: callAllEventHandlers(onPress, toggleButtonHandleClick),\n              }\n            : {\n                onClick: callAllEventHandlers(onClick, toggleButtonHandleClick),\n              }),\n        }),\n        ...rest,\n      }\n    },\n    [dispatch, latest, elementIds],\n  )\n  const getInputProps = useCallback(\n    (\n      {\n        onKeyDown,\n        onChange,\n        onInput,\n        onBlur,\n        onChangeText,\n        onClick,\n        refKey = 'ref',\n        ref,\n        ...rest\n      } = {},\n      {suppressRefError = false} = {},\n    ) => {\n      setGetterPropCallInfo('getInputProps', suppressRefError, refKey, inputRef)\n\n      const latestState = latest.current.state\n      const inputHandleKeyDown = event => {\n        const key = normalizeArrowKey(event)\n        if (key && inputKeyDownHandlers[key]) {\n          inputKeyDownHandlers[key](event)\n        }\n      }\n      const inputHandleChange = event => {\n        dispatch({\n          type: stateChangeTypes.InputChange,\n          inputValue:\n            isReactNative || isReactNativeWeb\n              ? /* istanbul ignore next (react-native) */ event.nativeEvent.text\n              : event.target.value,\n        })\n      }\n      const inputHandleBlur = event => {\n        /* istanbul ignore else */\n        if (\n          environment?.document &&\n          latestState.isOpen &&\n          !mouseAndTouchTrackers.isMouseDown\n        ) {\n          const isBlurByTabChange =\n            event.relatedTarget === null &&\n            environment.document.activeElement !== environment.document.body\n\n          dispatch({\n            type: stateChangeTypes.InputBlur,\n            selectItem: !isBlurByTabChange,\n          })\n        }\n      }\n\n      const inputHandleClick = () => {\n        dispatch({\n          type: stateChangeTypes.InputClick,\n        })\n      }\n\n      /* istanbul ignore next (preact) */\n      const onChangeKey = isPreact ? 'onInput' : 'onChange'\n      let eventHandlers = {}\n\n      if (!rest.disabled) {\n        eventHandlers = {\n          [onChangeKey]: callAllEventHandlers(\n            onChange,\n            onInput,\n            inputHandleChange,\n          ),\n          onKeyDown: callAllEventHandlers(onKeyDown, inputHandleKeyDown),\n          onBlur: callAllEventHandlers(onBlur, inputHandleBlur),\n          onClick: callAllEventHandlers(onClick, inputHandleClick),\n        }\n      }\n\n      /* istanbul ignore if (react-native) */\n      if (isReactNative) {\n        eventHandlers.onChange = callAllEventHandlers(\n          onChange,\n          onInput,\n          inputHandleChange,\n        )\n        eventHandlers.onChangeText = callAllEventHandlers(\n          onChangeText,\n          onInput,\n          text => {\n            inputHandleChange({nativeEvent: {text}})\n          },\n        )\n      }\n\n      return {\n        [refKey]: handleRefs(ref, inputNode => {\n          inputRef.current = inputNode\n        }),\n        'aria-activedescendant':\n          latestState.isOpen && latestState.highlightedIndex > -1\n            ? elementIds.getItemId(latestState.highlightedIndex)\n            : '',\n        'aria-autocomplete': 'list',\n        'aria-controls': elementIds.menuId,\n        'aria-expanded': latestState.isOpen,\n        'aria-labelledby':\n          rest && rest['aria-label'] ? undefined : elementIds.labelId,\n        // https://developer.mozilla.org/en-US/docs/Web/Security/Securing_your_site/Turning_off_form_autocompletion\n        // revert back since autocomplete=\"nope\" is ignored on latest Chrome and Opera\n        autoComplete: 'off',\n        id: elementIds.inputId,\n        role: 'combobox',\n        value: latestState.inputValue,\n        ...eventHandlers,\n        ...rest,\n      }\n    },\n    [\n      dispatch,\n      elementIds,\n      environment,\n      inputKeyDownHandlers,\n      latest,\n      mouseAndTouchTrackers,\n      setGetterPropCallInfo,\n    ],\n  )\n\n  // returns\n  const toggleMenu = useCallback(() => {\n    dispatch({\n      type: stateChangeTypes.FunctionToggleMenu,\n    })\n  }, [dispatch])\n  const closeMenu = useCallback(() => {\n    dispatch({\n      type: stateChangeTypes.FunctionCloseMenu,\n    })\n  }, [dispatch])\n  const openMenu = useCallback(() => {\n    dispatch({\n      type: stateChangeTypes.FunctionOpenMenu,\n    })\n  }, [dispatch])\n  const setHighlightedIndex = useCallback(\n    newHighlightedIndex => {\n      dispatch({\n        type: stateChangeTypes.FunctionSetHighlightedIndex,\n        highlightedIndex: newHighlightedIndex,\n      })\n    },\n    [dispatch],\n  )\n  const selectItem = useCallback(\n    newSelectedItem => {\n      dispatch({\n        type: stateChangeTypes.FunctionSelectItem,\n        selectedItem: newSelectedItem,\n      })\n    },\n    [dispatch],\n  )\n  const setInputValue = useCallback(\n    newInputValue => {\n      dispatch({\n        type: stateChangeTypes.FunctionSetInputValue,\n        inputValue: newInputValue,\n      })\n    },\n    [dispatch],\n  )\n  const reset = useCallback(() => {\n    dispatch({\n      type: stateChangeTypes.FunctionReset,\n    })\n  }, [dispatch])\n\n  return {\n    // prop getters.\n    getItemProps,\n    getLabelProps,\n    getMenuProps,\n    getInputProps,\n    getToggleButtonProps,\n    // actions.\n    toggleMenu,\n    openMenu,\n    closeMenu,\n    setHighlightedIndex,\n    setInputValue,\n    selectItem,\n    reset,\n    // state.\n    highlightedIndex,\n    isOpen,\n    selectedItem,\n    inputValue,\n  }\n}\n\nexport default useCombobox\n","import PropTypes from 'prop-types'\n\nimport {noop} from '../../utils-ts'\nimport {\n  getInitialValue as getInitialValueCommon,\n  getDefaultValue as getDefaultValueCommon,\n} from '../utils-ts'\nimport {dropdownDefaultProps, dropdownPropTypes} from '../utils.dropdown'\n\nconst defaultStateValues = {\n  activeIndex: -1,\n  selectedItems: [],\n}\n\n/**\n * Returns the initial value for a state key in the following order:\n * 1. controlled prop, 2. initial prop, 3. default prop, 4. default\n * value from Downshift.\n *\n * @param {Object} props Props passed to the hook.\n * @param {string} propKey Props key to generate the value for.\n * @returns {any} The initial value for that prop.\n */\nfunction getInitialValue(props, propKey) {\n  return getInitialValueCommon(props, propKey, defaultStateValues)\n}\n\n/**\n * Returns the default value for a state key in the following order:\n * 1. controlled prop, 2. default prop, 3. default value from Downshift.\n *\n * @param {Object} props Props passed to the hook.\n * @param {string} propKey Props key to generate the value for.\n * @returns {any} The initial value for that prop.\n */\nfunction getDefaultValue(props, propKey) {\n  return getDefaultValueCommon(props, propKey, defaultStateValues)\n}\n\n/**\n * Gets the initial state based on the provided props. It uses initial, default\n * and controlled props related to state in order to compute the initial value.\n *\n * @param {Object} props Props passed to the hook.\n * @returns {Object} The initial state.\n */\nfunction getInitialState(props) {\n  const activeIndex = getInitialValue(props, 'activeIndex')\n  const selectedItems = getInitialValue(props, 'selectedItems')\n\n  return {\n    activeIndex,\n    selectedItems,\n  }\n}\n\n/**\n * Returns true if dropdown keydown operation is permitted. Should not be\n * allowed on keydown with modifier keys (ctrl, alt, shift, meta), on\n * input element with text content that is either highlighted or selection\n * cursor is not at the starting position.\n *\n * @param {KeyboardEvent} event The event from keydown.\n * @returns {boolean} Whether the operation is allowed.\n */\nfunction isKeyDownOperationPermitted(event) {\n  if (event.shiftKey || event.metaKey || event.ctrlKey || event.altKey) {\n    return false\n  }\n\n  const element = event.target\n\n  if (\n    element instanceof HTMLInputElement && // if element is a text input\n    element.value !== '' && // and we have text in it\n    // and cursor is either not at the start or is currently highlighting text.\n    (element.selectionStart !== 0 || element.selectionEnd !== 0)\n  ) {\n    return false\n  }\n\n  return true\n}\n\n/**\n * Check if a state is equal for taglist, by comparing active index and selected items.\n * Used by useSelect and useCombobox.\n *\n * @param {Object} prevState\n * @param {Object} newState\n * @returns {boolean} Wheather the states are deeply equal.\n */\nfunction isStateEqual(prevState, newState) {\n  return (\n    prevState.selectedItems === newState.selectedItems &&\n    prevState.activeIndex === newState.activeIndex\n  )\n}\n\nconst propTypes = {\n  stateReducer: dropdownPropTypes.stateReducer,\n  itemToKey: dropdownPropTypes.itemToKey,\n  environment: dropdownPropTypes.environment,\n  selectedItems: PropTypes.array,\n  initialSelectedItems: PropTypes.array,\n  defaultSelectedItems: PropTypes.array,\n  getA11yStatusMessage: PropTypes.func,\n  activeIndex: PropTypes.number,\n  initialActiveIndex: PropTypes.number,\n  defaultActiveIndex: PropTypes.number,\n  onActiveIndexChange: PropTypes.func,\n  onSelectedItemsChange: PropTypes.func,\n  keyNavigationNext: PropTypes.string,\n  keyNavigationPrevious: PropTypes.string,\n}\n\nexport const defaultProps = {\n  itemToKey: dropdownDefaultProps.itemToKey,\n  stateReducer: dropdownDefaultProps.stateReducer,\n  environment: dropdownDefaultProps.environment,\n  keyNavigationNext: 'ArrowRight',\n  keyNavigationPrevious: 'ArrowLeft',\n}\n\n// eslint-disable-next-line import/no-mutable-exports\nlet validatePropTypes = noop\n/* istanbul ignore next */\nif (process.env.NODE_ENV !== 'production') {\n  validatePropTypes = (options, caller) => {\n    PropTypes.checkPropTypes(propTypes, options, 'prop', caller.name)\n  }\n}\n\nexport {\n  validatePropTypes,\n  getDefaultValue,\n  getInitialState,\n  isKeyDownOperationPermitted,\n  isStateEqual,\n}\n","import productionEnum from '../../productionEnum.macro'\n\nexport const SelectedItemClick = productionEnum('__selected_item_click__')\nexport const SelectedItemKeyDownDelete = productionEnum(\n  '__selected_item_keydown_delete__',\n)\nexport const SelectedItemKeyDownBackspace = productionEnum(\n  '__selected_item_keydown_backspace__',\n)\nexport const SelectedItemKeyDownNavigationNext = productionEnum(\n  '__selected_item_keydown_navigation_next__',\n)\nexport const SelectedItemKeyDownNavigationPrevious = productionEnum(\n  '__selected_item_keydown_navigation_previous__',\n)\n\nexport const DropdownKeyDownNavigationPrevious = productionEnum(\n  '__dropdown_keydown_navigation_previous__',\n)\nexport const DropdownKeyDownBackspace = productionEnum(\n  '__dropdown_keydown_backspace__',\n)\nexport const DropdownClick = productionEnum('__dropdown_click__')\n\nexport const FunctionAddSelectedItem = productionEnum(\n  '__function_add_selected_item__',\n)\nexport const FunctionRemoveSelectedItem = productionEnum(\n  '__function_remove_selected_item__',\n)\nexport const FunctionSetSelectedItems = productionEnum(\n  '__function_set_selected_items__',\n)\nexport const FunctionSetActiveIndex = productionEnum(\n  '__function_set_active_index__',\n)\nexport const FunctionReset = productionEnum('__function_reset__')\n","import {getDefaultValue} from './utils'\nimport * as stateChangeTypes from './stateChangeTypes'\n\n/* eslint-disable complexity */\nexport default function downshiftMultipleSelectionReducer(\n  state,\n  props,\n  action,\n) {\n  const {type, index, selectedItem} = action\n  const {activeIndex, selectedItems} = state\n  let changes\n\n  switch (type) {\n    case stateChangeTypes.SelectedItemClick:\n      changes = {\n        activeIndex: index,\n      }\n\n      break\n    case stateChangeTypes.SelectedItemKeyDownNavigationPrevious:\n      changes = {\n        activeIndex: activeIndex - 1 < 0 ? 0 : activeIndex - 1,\n      }\n\n      break\n    case stateChangeTypes.SelectedItemKeyDownNavigationNext:\n      changes = {\n        activeIndex:\n          activeIndex + 1 >= selectedItems.length ? -1 : activeIndex + 1,\n      }\n\n      break\n    case stateChangeTypes.SelectedItemKeyDownBackspace:\n    case stateChangeTypes.SelectedItemKeyDownDelete: {\n      if (activeIndex < 0) {\n        break\n      }\n\n      let newActiveIndex = activeIndex\n\n      if (selectedItems.length === 1) {\n        newActiveIndex = -1\n      } else if (activeIndex === selectedItems.length - 1) {\n        newActiveIndex = selectedItems.length - 2\n      }\n\n      changes = {\n        selectedItems: [\n          ...selectedItems.slice(0, activeIndex),\n          ...selectedItems.slice(activeIndex + 1),\n        ],\n        ...{activeIndex: newActiveIndex},\n      }\n\n      break\n    }\n\n    case stateChangeTypes.DropdownKeyDownNavigationPrevious:\n      changes = {\n        activeIndex: selectedItems.length - 1,\n      }\n      break\n    case stateChangeTypes.DropdownKeyDownBackspace:\n      changes = {\n        selectedItems: selectedItems.slice(0, selectedItems.length - 1),\n      }\n      break\n    case stateChangeTypes.FunctionAddSelectedItem:\n      changes = {\n        selectedItems: [...selectedItems, selectedItem],\n      }\n      break\n    case stateChangeTypes.DropdownClick:\n      changes = {\n        activeIndex: -1,\n      }\n      break\n    case stateChangeTypes.FunctionRemoveSelectedItem: {\n      let newActiveIndex = activeIndex\n      const selectedItemIndex = selectedItems.findIndex(\n        item => props.itemToKey(item) === props.itemToKey(selectedItem),\n      )\n\n      if (selectedItemIndex < 0) {\n        break\n      }\n\n      if (selectedItems.length === 1) {\n        newActiveIndex = -1\n      } else if (selectedItemIndex === selectedItems.length - 1) {\n        newActiveIndex = selectedItems.length - 2\n      }\n\n      changes = {\n        selectedItems: [\n          ...selectedItems.slice(0, selectedItemIndex),\n          ...selectedItems.slice(selectedItemIndex + 1),\n        ],\n        activeIndex: newActiveIndex,\n      }\n\n      break\n    }\n    case stateChangeTypes.FunctionSetSelectedItems: {\n      const {selectedItems: newSelectedItems} = action\n      changes = {\n        selectedItems: newSelectedItems,\n      }\n      break\n    }\n    case stateChangeTypes.FunctionSetActiveIndex: {\n      const {activeIndex: newActiveIndex} = action\n      changes = {\n        activeIndex: newActiveIndex,\n      }\n      break\n    }\n    case stateChangeTypes.FunctionReset:\n      changes = {\n        activeIndex: getDefaultValue(props, 'activeIndex'),\n        selectedItems: getDefaultValue(props, 'selectedItems'),\n      }\n      break\n    default:\n      throw new Error('Reducer called without proper action type.')\n  }\n\n  return {\n    ...state,\n    ...changes,\n  }\n}\n","import {useRef, useEffect, useCallback, useMemo} from 'react'\nimport {handleRefs, callAllEventHandlers, normalizeArrowKey} from '../../utils'\nimport {useLatestRef} from '../../utils-ts'\nimport {useGetterPropsCalledChecker, useControlPropsValidator} from '../utils'\nimport {\n  useControlledReducer,\n  useIsInitialMount,\n  useA11yMessageStatus,\n  getItemAndIndex,\n} from '../utils-ts'\nimport {\n  getInitialState,\n  defaultProps,\n  isKeyDownOperationPermitted,\n  validatePropTypes,\n  isStateEqual,\n} from './utils'\nimport downshiftMultipleSelectionReducer from './reducer'\nimport * as stateChangeTypes from './stateChangeTypes'\n\nuseMultipleSelection.stateChangeTypes = stateChangeTypes\n\nfunction useMultipleSelection(userProps = {}) {\n  validatePropTypes(userProps, useMultipleSelection)\n  // Props defaults and destructuring.\n  const props = {\n    ...defaultProps,\n    ...userProps,\n  }\n  const {\n    getA11yStatusMessage,\n    environment,\n    keyNavigationNext,\n    keyNavigationPrevious,\n  } = props\n\n  // Reducer init.\n  const [state, dispatch] = useControlledReducer(\n    downshiftMultipleSelectionReducer,\n    props,\n    getInitialState,\n    isStateEqual,\n  )\n  const {activeIndex, selectedItems} = state\n\n  // Refs.\n  const isInitialMount = useIsInitialMount()\n  const dropdownRef = useRef(null)\n  const selectedItemRefs = useRef()\n  selectedItemRefs.current = []\n  const latest = useLatestRef({state, props})\n\n  // Effects.\n  // Adds an a11y aria live status message if getA11yStatusMessage is passed.\n  useA11yMessageStatus(\n    getA11yStatusMessage,\n    state,\n    [activeIndex, selectedItems],\n    environment,\n  )\n  // Sets focus on active item.\n  useEffect(() => {\n    if (isInitialMount) {\n      return\n    }\n\n    if (activeIndex === -1 && dropdownRef.current) {\n      dropdownRef.current.focus()\n    } else if (selectedItemRefs.current[activeIndex]) {\n      selectedItemRefs.current[activeIndex].focus()\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [activeIndex])\n  useControlPropsValidator({\n    props,\n    state,\n  })\n  const setGetterPropCallInfo = useGetterPropsCalledChecker('getDropdownProps')\n\n  // Event handler functions.\n  const selectedItemKeyDownHandlers = useMemo(\n    () => ({\n      [keyNavigationPrevious]() {\n        dispatch({\n          type: stateChangeTypes.SelectedItemKeyDownNavigationPrevious,\n        })\n      },\n      [keyNavigationNext]() {\n        dispatch({\n          type: stateChangeTypes.SelectedItemKeyDownNavigationNext,\n        })\n      },\n      Delete() {\n        dispatch({\n          type: stateChangeTypes.SelectedItemKeyDownDelete,\n        })\n      },\n      Backspace() {\n        dispatch({\n          type: stateChangeTypes.SelectedItemKeyDownBackspace,\n        })\n      },\n    }),\n    [dispatch, keyNavigationNext, keyNavigationPrevious],\n  )\n  const dropdownKeyDownHandlers = useMemo(\n    () => ({\n      [keyNavigationPrevious](event) {\n        if (isKeyDownOperationPermitted(event)) {\n          dispatch({\n            type: stateChangeTypes.DropdownKeyDownNavigationPrevious,\n          })\n        }\n      },\n      Backspace(event) {\n        if (isKeyDownOperationPermitted(event)) {\n          dispatch({\n            type: stateChangeTypes.DropdownKeyDownBackspace,\n          })\n        }\n      },\n    }),\n    [dispatch, keyNavigationPrevious],\n  )\n\n  // Getter props.\n  const getSelectedItemProps = useCallback(\n    ({\n      refKey = 'ref',\n      ref,\n      onClick,\n      onKeyDown,\n      selectedItem: selectedItemProp,\n      index: indexProp,\n      ...rest\n    } = {}) => {\n      const {state: latestState} = latest.current\n      const [, index] = getItemAndIndex(\n        selectedItemProp,\n        indexProp,\n        latestState.selectedItems,\n        'Pass either item or index to getSelectedItemProps!',\n      )\n      const isFocusable = index > -1 && index === latestState.activeIndex\n\n      const selectedItemHandleClick = () => {\n        dispatch({\n          type: stateChangeTypes.SelectedItemClick,\n          index,\n        })\n      }\n      const selectedItemHandleKeyDown = event => {\n        const key = normalizeArrowKey(event)\n        if (key && selectedItemKeyDownHandlers[key]) {\n          selectedItemKeyDownHandlers[key](event)\n        }\n      }\n\n      return {\n        [refKey]: handleRefs(ref, selectedItemNode => {\n          if (selectedItemNode) {\n            selectedItemRefs.current.push(selectedItemNode)\n          }\n        }),\n        tabIndex: isFocusable ? 0 : -1,\n        onClick: callAllEventHandlers(onClick, selectedItemHandleClick),\n        onKeyDown: callAllEventHandlers(onKeyDown, selectedItemHandleKeyDown),\n        ...rest,\n      }\n    },\n    [dispatch, latest, selectedItemKeyDownHandlers],\n  )\n  const getDropdownProps = useCallback(\n    (\n      {\n        refKey = 'ref',\n        ref,\n        onKeyDown,\n        onClick,\n        preventKeyAction = false,\n        ...rest\n      } = {},\n      {suppressRefError = false} = {},\n    ) => {\n      setGetterPropCallInfo(\n        'getDropdownProps',\n        suppressRefError,\n        refKey,\n        dropdownRef,\n      )\n\n      const dropdownHandleKeyDown = event => {\n        const key = normalizeArrowKey(event)\n        if (key && dropdownKeyDownHandlers[key]) {\n          dropdownKeyDownHandlers[key](event)\n        }\n      }\n      const dropdownHandleClick = () => {\n        dispatch({\n          type: stateChangeTypes.DropdownClick,\n        })\n      }\n\n      return {\n        [refKey]: handleRefs(ref, dropdownNode => {\n          if (dropdownNode) {\n            dropdownRef.current = dropdownNode\n          }\n        }),\n        ...(!preventKeyAction && {\n          onKeyDown: callAllEventHandlers(onKeyDown, dropdownHandleKeyDown),\n          onClick: callAllEventHandlers(onClick, dropdownHandleClick),\n        }),\n        ...rest,\n      }\n    },\n    [dispatch, dropdownKeyDownHandlers, setGetterPropCallInfo],\n  )\n\n  // returns\n  const addSelectedItem = useCallback(\n    selectedItem => {\n      dispatch({\n        type: stateChangeTypes.FunctionAddSelectedItem,\n        selectedItem,\n      })\n    },\n    [dispatch],\n  )\n  const removeSelectedItem = useCallback(\n    selectedItem => {\n      dispatch({\n        type: stateChangeTypes.FunctionRemoveSelectedItem,\n        selectedItem,\n      })\n    },\n    [dispatch],\n  )\n  const setSelectedItems = useCallback(\n    newSelectedItems => {\n      dispatch({\n        type: stateChangeTypes.FunctionSetSelectedItems,\n        selectedItems: newSelectedItems,\n      })\n    },\n    [dispatch],\n  )\n  const setActiveIndex = useCallback(\n    newActiveIndex => {\n      dispatch({\n        type: stateChangeTypes.FunctionSetActiveIndex,\n        activeIndex: newActiveIndex,\n      })\n    },\n    [dispatch],\n  )\n  const reset = useCallback(() => {\n    dispatch({\n      type: stateChangeTypes.FunctionReset,\n    })\n  }, [dispatch])\n\n  return {\n    getSelectedItemProps,\n    getDropdownProps,\n    addSelectedItem,\n    removeSelectedItem,\n    setSelectedItems,\n    setActiveIndex,\n    reset,\n    selectedItems,\n    activeIndex,\n  }\n}\n\nexport default useMultipleSelection\n","import productionEnum from '../../productionEnum.macro'\nimport {UseTagGroupStateChangeTypes} from './index.types'\n\nexport const TagClick = productionEnum(\n  '__tag_click__',\n) as UseTagGroupStateChangeTypes.TagClick\n\nexport const TagGroupKeyDownArrowLeft = productionEnum(\n  '__taggroup_keydown_arrowleft__',\n) as UseTagGroupStateChangeTypes.TagGroupKeyDownArrowLeft\nexport const TagGroupKeyDownArrowRight = productionEnum(\n  '__taggroup_keydown_arrowright__',\n) as UseTagGroupStateChangeTypes.TagGroupKeyDownArrowRight\nexport const TagGroupKeyDownDelete = productionEnum(\n  '__taggroup_keydown_delete__',\n) as UseTagGroupStateChangeTypes.TagGroupKeyDownDelete\nexport const TagGroupKeyDownBackspace = productionEnum(\n  '__taggroup_keydown_backspace__',\n) as UseTagGroupStateChangeTypes.TagGroupKeyDownBackspace\n\nexport const TagRemoveClick = productionEnum(\n  '__tagremove_click__',\n) as UseTagGroupStateChangeTypes.TagRemoveClick\n\nexport const FunctionAddItem = productionEnum(\n  '__function_add_item__',\n) as UseTagGroupStateChangeTypes.FunctionAddItem\n","import {\n  UseTagGroupProps,\n  UseTagGroupReducerAction,\n  UseTagGroupState,\n} from './index.types'\nimport * as stateChangeTypes from './stateChangeTypes'\n\nexport function useTagGroupReducer<Item>(\n  state: UseTagGroupState<Item>,\n  _props: UseTagGroupProps<Item>,\n  action: UseTagGroupReducerAction<Item>,\n): UseTagGroupState<Item> {\n  const {type} = action\n\n  let changes\n\n  switch (type) {\n    case stateChangeTypes.TagClick:\n      changes = {\n        activeIndex: action.index,\n      }\n      break\n    case stateChangeTypes.TagGroupKeyDownArrowLeft:\n      changes = {\n        activeIndex:\n          state.activeIndex === 0\n            ? state.items.length - 1\n            : state.activeIndex - 1,\n      }\n      break\n    case stateChangeTypes.TagGroupKeyDownArrowRight:\n      changes = {\n        activeIndex:\n          state.activeIndex === state.items.length - 1\n            ? 0\n            : state.activeIndex + 1,\n      }\n      break\n    case stateChangeTypes.TagGroupKeyDownBackspace:\n    case stateChangeTypes.TagGroupKeyDownDelete: {\n      const newItems = [\n        ...state.items.slice(0, state.activeIndex),\n        ...state.items.slice(state.activeIndex + 1),\n      ]\n      const newActiveIndex =\n        newItems.length === 0\n          ? -1\n          : newItems.length === state.activeIndex\n          ? state.activeIndex - 1\n          : state.activeIndex\n      changes = {\n        items: [\n          ...state.items.slice(0, state.activeIndex),\n          ...state.items.slice(state.activeIndex + 1),\n        ],\n        activeIndex: newActiveIndex,\n      }\n      break\n    }\n    case stateChangeTypes.TagRemoveClick:\n      {\n        const newItems = [\n          ...state.items.slice(0, action.index),\n          ...state.items.slice(action.index + 1),\n        ]\n        const newActiveIndex =\n          newItems.length === 0\n            ? -1\n            : newItems.length === action.index\n            ? action.index - 1\n            : action.index\n        changes = {\n          items: newItems,\n          activeIndex: newActiveIndex,\n        }\n      }\n      break\n    case stateChangeTypes.FunctionAddItem: {\n      let newItems: Item[] = []\n\n      if (action.index === undefined) {\n        newItems = [...state.items, action.item]\n      } else {\n        newItems = [\n          ...state.items.slice(0, action.index),\n          action.item,\n          ...state.items.slice(action.index),\n        ]\n      }\n\n      const newActiveIndex =\n        state.activeIndex === -1 ? newItems.length - 1 : state.activeIndex\n\n      changes = {\n        items: newItems,\n        activeIndex: newActiveIndex,\n      }\n      break\n    }\n    default:\n      throw new Error('Invalid useTagGroup reducer action.')\n  }\n\n  return {...state, ...changes}\n}\n","import * as React from 'react'\n\nimport {generateId} from '../../../utils-ts'\nimport {UseTagGroupProps} from '../index.types'\n\nexport type UseElementIdsProps = Pick<\n  UseTagGroupProps<unknown>,\n  'id' | 'getTagId' | 'tagGroupId'\n>\n\nexport type UseElementIdsReturnValue = Required<\n  Pick<UseTagGroupProps<unknown>, 'getTagId' | 'tagGroupId'>\n>\n\n// istanbul ignore next\nexport const useElementIds: (\n  props: UseElementIdsProps,\n) => UseElementIdsReturnValue =\n  'useId' in React // Avoid conditional useId call\n    ? useElementIdsR18\n    : useElementIdsLegacy\n\nfunction useElementIdsR18({\n  id,\n  tagGroupId,\n  getTagId,\n}: UseElementIdsProps): UseElementIdsReturnValue {\n  // Avoid conditional useId call\n  const reactId = `downshift-${React.useId()}`\n  if (!id) {\n    id = reactId\n  }\n\n  const elementIdsRef = React.useRef({\n    tagGroupId: tagGroupId ?? `${id}-tag-group`,\n    getTagId: getTagId ?? (index => `${id}-tag-${index}`),\n  })\n\n  return elementIdsRef.current\n}\n\nfunction useElementIdsLegacy({\n  id = `downshift-${generateId()}`,\n  getTagId,\n  tagGroupId,\n}: UseElementIdsProps): UseElementIdsReturnValue {\n  const elementIdsRef = React.useRef({\n    tagGroupId: tagGroupId ?? `${id}-tag-group`,\n    getTagId: getTagId ?? (index => `${id}-tag-${index}`),\n  })\n\n  return elementIdsRef.current\n}\n","import {UseTagGroupProps, UseTagGroupState} from '../index.types'\n\nexport function getInitialState<I>(\n  props: UseTagGroupProps<I>,\n): UseTagGroupState<I> {\n  const items = props.items ?? props.initialItems ?? []\n  const activeIndex =\n    props.activeIndex ??\n    props.initialActiveIndex ??\n    (items.length === 0 ? -1 : 0)\n\n  return {\n    activeIndex,\n    items,\n  }\n}\n","import {UseTagGroupState} from '../index.types'\n\nexport function isStateEqual<I>(\n  oldState: UseTagGroupState<I>,\n  newState: UseTagGroupState<I>,\n): boolean {\n  return (\n    oldState.activeIndex === newState.activeIndex &&\n    oldState.items === newState.items\n  )\n}\n","import * as React from 'react'\n\nexport const A11Y_DESCRIPTION_ELEMENT_ID = 'tag-group-a11y-description'\n\nexport function useAccessibleDescription(\n  document: Document | undefined,\n  description: string,\n) {\n  React.useEffect(() => {\n    if (!document) {\n      return\n    }\n\n    const accessibleDescriptionElement = document.createElement('div')\n\n    accessibleDescriptionElement.setAttribute('id', A11Y_DESCRIPTION_ELEMENT_ID)\n    accessibleDescriptionElement.style.display = 'none'\n    accessibleDescriptionElement.textContent = description\n\n    document.body.appendChild(accessibleDescriptionElement)\n\n    return () => {\n      accessibleDescriptionElement.remove()\n    }\n  }, [description, document])\n}\n","import {UseTagGroupProps, UseTagGroupMergedProps} from '../index.types'\n\nimport {isReactNative} from '../../../is.macro.js'\n\nexport function getMergedProps<Item>(\n  userProps: UseTagGroupProps<Item>,\n): UseTagGroupMergedProps<Item> {\n  return {\n    stateReducer(_s, {changes}) {\n      return changes\n    },\n    environment:\n      /* istanbul ignore next (ssr) */\n      typeof window === 'undefined' || isReactNative ? undefined : window,\n    removeElementDescription: 'Press Delete or Backspace to remove tag.',\n    ...userProps,\n  }\n}\n","import * as React from 'react'\nimport {UseTagGroupProps} from '../index.types'\n\n/**\n * Focuses the tag at activeIndex when it changes or when an item is removed.\n */\nexport function useRovingTagFocus(\n  activeIndex: number,\n  itemsLength: number,\n  getTagId: NonNullable<UseTagGroupProps<unknown>['getTagId']>,\n): React.MutableRefObject<Record<string, HTMLElement>> {\n  const itemRefs = React.useRef<Record<string, HTMLElement>>({})\n  const previousActiveIndexRef = React.useRef(activeIndex)\n  const previousItemsLengthRef = React.useRef(itemsLength)\n\n  React.useEffect(() => {\n    if (\n      (activeIndex !== -1 &&\n        previousActiveIndexRef.current !== -1 &&\n        activeIndex !== previousActiveIndexRef.current) ||\n      previousItemsLengthRef.current === itemsLength + 1\n    ) {\n      itemRefs.current[getTagId(activeIndex)]?.focus()\n    }\n\n    previousActiveIndexRef.current = activeIndex\n    previousItemsLengthRef.current = itemsLength\n  }, [activeIndex, getTagId, itemsLength])\n\n  return itemRefs\n}\n","import PropTypes from 'prop-types'\n\nexport {\n  type UseElementIdsProps,\n  type UseElementIdsReturnValue,\n  useElementIds,\n} from './useElementIds'\nexport {getInitialState} from './getInitialState'\nexport {isStateEqual} from './isStateEqual'\nexport {\n  useAccessibleDescription,\n  A11Y_DESCRIPTION_ELEMENT_ID,\n} from './useAccessibleDescription'\nexport {getMergedProps} from './getMergedProps'\nexport {useRovingTagFocus} from './useRovingTagFocus'\n\nexport const propTypes: Record<\n  string,\n  PropTypes.Requireable<(...args: unknown[]) => unknown>\n> = {\n  isItemDisabled: PropTypes.func,\n}\n","import {useCallback} from 'react'\n\nimport {\n  callAllEventHandlers,\n  handleRefs,\n  useLatestRef,\n  validatePropTypes,\n} from '../../utils-ts'\nimport {useControlledReducer} from '../utils-ts'\nimport * as stateChangeTypes from './stateChangeTypes'\nimport {\n  GetTagGroupPropsOptions,\n  GetTagPropsOptions,\n  GetTagRemovePropsOptions,\n  UseTagGroupInterface,\n  UseTagGroupProps,\n  UseTagGroupMergedProps,\n  UseTagGroupReducerAction,\n  UseTagGroupReturnValue,\n  UseTagGroupState,\n  UseTagGroupStateChangeTypes,\n  GetTagRemovePropsReturnValue,\n  GetTagPropsReturnValue,\n  GetTagGroupPropsReturnValue,\n} from './index.types'\nimport {useTagGroupReducer} from './reducer'\nimport {\n  getInitialState,\n  isStateEqual,\n  propTypes,\n  useElementIds,\n  useAccessibleDescription,\n  A11Y_DESCRIPTION_ELEMENT_ID,\n  getMergedProps,\n  useRovingTagFocus,\n} from './utils'\n\nconst useTagGroup: UseTagGroupInterface = <Item>(\n  userProps: UseTagGroupProps<Item> = {},\n) => {\n  /* State and Props */\n\n  validatePropTypes(userProps, useTagGroup, propTypes)\n\n  const props = getMergedProps(userProps)\n\n  const [state, dispatch] = useControlledReducer<\n    UseTagGroupState<Item>,\n    UseTagGroupMergedProps<Item>,\n    UseTagGroupStateChangeTypes,\n    UseTagGroupReducerAction<Item>\n  >(useTagGroupReducer, props, getInitialState, isStateEqual)\n\n  const {activeIndex, items} = state\n\n  /* Refs */\n\n  const latest = useLatestRef({state, props})\n  const elementIds = useElementIds({\n    getTagId: props.getTagId,\n    id: props.id,\n    tagGroupId: props.tagGroupId,\n  })\n\n  /* Effects */\n\n  useAccessibleDescription(\n    props.environment?.document,\n    props.removeElementDescription,\n  )\n\n  const itemRefs = useRovingTagFocus(\n    activeIndex,\n    items.length,\n    elementIds.getTagId,\n  )\n\n  /* Getter functions */\n\n  const getTagGroupProps = useCallback(\n    <Extra extends Record<string, unknown>>(\n      options?: GetTagGroupPropsOptions & Extra,\n    ) => {\n      const {onKeyDown, ...rest} =\n        options ?? ({} as GetTagGroupPropsOptions & Extra)\n      const handleKeyDown = (e: React.KeyboardEvent<HTMLElement>): void => {\n        switch (e.key) {\n          case 'ArrowLeft':\n            dispatch({\n              type: stateChangeTypes.TagGroupKeyDownArrowLeft,\n            })\n            break\n          case 'ArrowRight':\n            dispatch({\n              type: stateChangeTypes.TagGroupKeyDownArrowRight,\n            })\n            break\n          case 'Delete':\n            dispatch({\n              type: stateChangeTypes.TagGroupKeyDownDelete,\n            })\n            break\n          case 'Backspace':\n            dispatch({\n              type: stateChangeTypes.TagGroupKeyDownBackspace,\n            })\n            break\n          default:\n        }\n      }\n\n      const tagGroupProps = {\n        id: elementIds.tagGroupId,\n        'aria-live': 'polite',\n        'aria-atomic': 'false',\n        'aria-relevant': 'additions',\n        role: 'listbox',\n        onKeyDown: callAllEventHandlers(onKeyDown, handleKeyDown),\n        ...rest,\n      } as GetTagGroupPropsReturnValue & Extra\n\n      return tagGroupProps\n    },\n    [dispatch, elementIds.tagGroupId],\n  )\n\n  const getTagProps = useCallback(\n    <Extra extends Record<string, unknown>>(\n      options: GetTagPropsOptions & Extra,\n    ) => {\n      const {index, refKey = 'ref', ref, onClick, ...rest} = options\n\n      if (!Number.isInteger(index) || index < 0) {\n        throw new Error('Pass correct item index to getTagProps!')\n      }\n\n      const latestState = latest.current.state\n\n      const handleClick = () => {\n        dispatch({type: stateChangeTypes.TagClick, index})\n      }\n      const tagId = elementIds.getTagId(index)\n\n      return {\n        'aria-describedby': A11Y_DESCRIPTION_ELEMENT_ID,\n        [refKey]: handleRefs(ref, itemNode => {\n          if (itemNode) {\n            itemRefs.current[tagId] = itemNode\n          }\n        }),\n        'aria-labelledby': tagId,\n        role: 'option',\n        id: tagId,\n        onClick: callAllEventHandlers(onClick, handleClick),\n        tabIndex: latestState.activeIndex === index ? 0 : -1,\n        ...rest,\n      } as GetTagPropsReturnValue & Extra\n    },\n    [dispatch, elementIds, latest, itemRefs],\n  )\n\n  const getTagRemoveProps = useCallback(\n    <Extra extends Record<string, unknown>>(\n      options: GetTagRemovePropsOptions & Extra,\n    ) => {\n      const {index, onClick, ...rest} = options\n\n      if (!Number.isInteger(index) || index < 0) {\n        throw new Error('Pass correct item index to getTagRemoveProps!')\n      }\n\n      const handleClick = (event: React.MouseEvent) => {\n        event.stopPropagation()\n        dispatch({type: stateChangeTypes.TagRemoveClick, index})\n      }\n\n      const tagId = elementIds.getTagId(index)\n      const tagRemoveId = `${tagId}-remove`\n\n      return {\n        id: tagRemoveId,\n        tabIndex: -1,\n        'aria-labelledby': `${tagRemoveId} ${tagId}`,\n        onClick: callAllEventHandlers(onClick, handleClick),\n        ...rest,\n      } as GetTagRemovePropsReturnValue & Extra\n    },\n    [elementIds, dispatch],\n  )\n\n  /* Imperative Functions */\n\n  const addItem = useCallback<UseTagGroupReturnValue<Item>['addItem']>(\n    (item, index): void => {\n      dispatch({type: stateChangeTypes.FunctionAddItem, item, index})\n    },\n    [dispatch],\n  )\n\n  return {\n    activeIndex,\n    addItem,\n    getTagGroupProps,\n    getTagProps,\n    getTagRemoveProps,\n    items,\n  }\n}\n\nuseTagGroup.stateChangeTypes = stateChangeTypes\n\nexport default useTagGroup\n"],"names":["setPrototypeOf","reactIsModule","require$$1","unknown","mouseUp","itemMouseEnter","keyDownArrowUp","keyDownArrowDown","keyDownEscape","keyDownEnter","keyDownHome","keyDownEnd","clickItem","blurInput","changeInput","keyDownSpaceButton","clickButton","blurButton","controlledPropUpdatedSelectedItem","touchEnd","idCounter","generateId","String","resetIdCounter","React","console","warn","useLatestRef","val","ref","useRef","current","handleRefs","_len","arguments","length","refs","Array","_key","node","forEach","callAllEventHandlers","fns","event","_len2","args","_key2","some","fn","apply","concat","preventDownshiftDefault","hasOwnProperty","nativeEvent","debounce","time","timeoutId","cancel","clearTimeout","wrapper","setTimeout","cleanupStatus","document","getStatusDiv","textContent","statusDiv","getElementById","createElement","setAttribute","Object","assign","style","border","clip","height","margin","overflow","padding","position","width","body","appendChild","setStatus","status","div","cleanupStatusDiv","remove","noop","validatePropTypes","options","caller","propTypes","PropTypes","checkPropTypes","name","getState","state","props","keys","reduce","newState","key","undefined","_extends","scrollIntoView","menuNode","actions","compute","boundary","_ref","el","top","left","scrollTop","scrollLeft","cbToCb","cb","isOrContainsNode","parent","child","environment","result","Node","contains","_len3","_key3","_len4","_key4","getA11yStatusMessage","isOpen","resultCount","previousResultCount","unwrapArray","arg","defaultValue","isArray","isDOMElement","element","type","nodeName","getElementProps","attributes","requiredProp","fnName","propName","error","stateKeys","pickState","k","isControlledProp","normalizeArrowKey","keyCode","indexOf","isPlainObject","obj","prototype","toString","call","getHighlightedIndex","start","offset","items","isItemDisabled","circular","count","itemsLastIndex","highlightedIndex","getNonDisabledIndex","backwards","index","targetWithinDownshift","target","downshiftElements","checkActiveElement","contextNode","activeElement","validateControlledUnchanged","prevProps","nextProps","warningDescription","propKey","Downshift","_Component","_this","id","menuId","labelId","inputId","getItemId","itemCount","timeoutIds","internalSetTimeout","filter","i","push","setItemCount","unsetItemCount","_item","currentElementNode","getItemNodeFromIndex","hasAttribute","setHighlightedIndex","otherStateToSet","defaultHighlightedIndex","internalSetState","clearSelection","selectedItem","inputValue","defaultIsOpen","selectItem","item","itemToString","selectItemAtIndex","itemIndex","selectHighlightedItem","stateToSet","isItemSelected","onChangeArg","onStateChangeArg","isStateToSetFunction","onInputValueChange","getStateAndHelpers","setState","_newStateToSet","newStateToSet","stateReducer","nextState","stateChangeTypes","nextFullState","hasMoreStateThanType","onStateChange","onSelect","onChange","onUserAction","rootRef","_rootNode","getRootProps","_temp","_temp2","_extends2","_ref$refKey","refKey","rest","_objectWithoutPropertiesLoose","_excluded","_ref2","_ref2$suppressRefErro","suppressRefError","called","_this$getState","role","keyDownHandlers","ArrowDown","_this2","preventDefault","amount","shiftKey","moveHighlightedIndex","getItemCount","_this2$getState","nextHighlightedIndex","ArrowUp","_this3","_this3$getState","Enter","which","_this$getState2","itemNode","Escape","reset","buttonKeyDownHandlers","_","toggleMenu","inputKeyDownHandlers","Home","_this$getState3","newHighlightedIndex","End","_this$getState4","getToggleButtonProps","_temp3","_ref3","onClick","onPress","onKeyDown","onKeyUp","onBlur","_excluded2","_this$getState5","enabledEventHandlers","buttonHandleClick","buttonHandleKeyDown","buttonHandleKeyUp","buttonHandleBlur","eventHandlers","disabled","_this$props$environme","focus","blurTarget","isMouseDown","getLabelProps","htmlFor","getInputProps","_temp4","_ref4","onInput","onChangeText","_excluded3","onChangeKey","_this$getState6","_eventHandlers","inputHandleChange","inputHandleKeyDown","inputHandleBlur","autoComplete","value","_activeElement$datase","downshiftButtonIsActive","dataset","toggle","menuRef","_menuNode","getMenuProps","_temp5","_temp6","_extends3","_ref5","_ref5$refKey","_excluded4","_ref6","_ref6$suppressRefErro","getItemProps","_temp7","_enabledEventHandlers","_ref7","onMouseMove","onMouseDown","_ref7$item","_excluded5","onSelectKey","customClickHandler","avoidScrolling","clearItems","_ref8","_ref9","_this$getState7","openMenu","closeMenu","updateStatus","_this$props","highlightedItem","_this$props2","_this$props2$initialH","initialHighlightedIndex","_this$props2$initialI","initialIsOpen","_this$props2$initialI2","initialInputValue","_this$props2$initialS","initialSelectedItem","_inheritsLoose","_proto","internalClearTimeouts","stateToMerge","scrollHighlightedItemIntoView","_this$getState8","_this$getState9","componentDidMount","_this4","validateGetMenuPropsCalledCorrectly","cleanup","onMouseUp","contextWithinDownshift","onOuterClick","onTouchStart","isTouchMove","onTouchMove","onTouchEnd","addEventListener","removeEventListener","shouldScroll","prevState","_ref0","currentHighlightedIndex","_ref1","prevHighlightedIndex","scrollWhenOpen","scrollWhenNavigating","componentDidUpdate","selectedItemChanged","componentWillUnmount","render","children","validateGetRootPropsCalledCorrectly","cloneElement","Error","Component","defaultProps","prevItem","window","_ref10","_ref11","refKeySpecified","isComposite","isForwardRef","capitalizeString","string","slice","toUpperCase","callOnChangeProps","action","changes","_i","_keys","invokeOnChangeHandler","handlerKey","handler","useEnhancedReducer","reducer","createInitialState","isStateEqual","prevStateRef","actionRef","propsRef","enhancedReducer","useCallback","_React$useReducer","useReducer","dispatch","useEffect","_prevStateRef$current","shouldCallOnChangeProps","useControlledReducer","_useEnhancedReducer","getItemAndIndex","itemProp","indexProp","errorMessage","useIsInitialMount","isInitialMountRef","_s","a","shape","func","isRequired","any","itemToKey","getDefaultValue","defaultStateValues","getInitialValue","initialValue","updateA11yStatus","useA11yMessageStatus","dependencyArray","isInitialMount","commonPropTypes","number","bool","defaultSelectedItem","toggleButtonId","onSelectedItemChange","onHighlightedIndexChange","onIsOpenChange","useIsomorphicLayoutEffect","useLayoutEffect","useElementIds","reactId","useId","elementIds","useMemo","_ref2$id","isAcceptedCharacterKey","test","getInitialState","dropdownDefaultStateValues","getInitialHighlightedIndex","findIndex","getHighlightedIndexOnOpen","useMouseAndTouchTracker","handleBlur","downshiftRefs","mouseAndTouchTrackersRef","isTouchEnd","getDownshiftElements","map","useGetterPropsCalledChecker","propKeys","getterPropsCalledRef","acc","propCallInfo","elementRef","setGetterPropCallInfo","useScrollIntoView","itemRefs","menuElement","scrollIntoViewProp","shouldScrollRef","useControlPropsValidator","prevPropsRef","getChangesOnSelection","_props$items","shouldSelect","isDropdownsStateEqual","getDefaultHighlightedIndex","downshiftCommonReducer","ItemMouseMove","MenuMouseLeave","ToggleButtonClick","FunctionToggleMenu","FunctionOpenMenu","FunctionCloseMenu","FunctionSetHighlightedIndex","FunctionSetInputValue","FunctionReset","dropdownPropTypes","array","dropdownDefaultProps","getItemIndexByCharacterKey","keysSoFar","lowerCasedKeysSoFar","toLowerCase","offsetIndex","startsWith","ToggleButtonKeyDownArrowDown","ToggleButtonKeyDownArrowUp","ToggleButtonKeyDownCharacter","ToggleButtonKeyDownEscape","ToggleButtonKeyDownHome","ToggleButtonKeyDownEnd","ToggleButtonKeyDownEnter","ToggleButtonKeyDownSpaceButton","ToggleButtonKeyDownPageUp","ToggleButtonKeyDownPageDown","ToggleButtonBlur","ItemClick","FunctionSelectItem","downshiftSelectReducer","altKey","lowercasedKey","commonReducer","useSelect","userProps","_useControlledReducer","toggleButtonRef","clearTimeoutRef","latest","outerDispatch","focusOnOpen","handleBlurInTracker","mouseAndTouchTrackers","toggleButtonKeyDownHandlers","PageUp","PageDown","currentState","newSelectedItem","setInputValue","newInputValue","labelProps","labelHandleClick","_toggleButtonRef$curr","onMouseLeave","_ref2$refKey","_ref3$suppressRefErro","menuHandleMouseLeave","_ref4$refKey","_ref5$suppressRefErro","latestState","toggleButtonHandleClick","toggleButtonHandleBlur","toggleButtonHandleKeyDown","toggleProps","toggleButtonNode","tabIndex","_extends4","_ref6$refKey","disabledProp","_latest$current","latestProps","_getItemAndIndex","itemHandleMouseMove","itemHandleClick","itemHandleMouseDown","e","itemProps","InputKeyDownArrowDown","InputKeyDownArrowUp","InputKeyDownEscape","InputKeyDownHome","InputKeyDownEnd","InputKeyDownPageUp","InputKeyDownPageDown","InputKeyDownEnter","InputChange","InputBlur","InputClick","ControlledPropUpdatedSelectedItem","initialState","getInitialStateCommon","defaultInputValue","previousSelectedItemRef","shouldCallDispatch","downshiftUseComboboxReducer","useCombobox","inputRef","previousResultCountRef","_inputRef$current","_ref3$refKey","_extends5","_ref7$suppressRefErro","isBlurByTabChange","relatedTarget","inputHandleClick","inputNode","activeIndex","selectedItems","getInitialValueCommon","getDefaultValueCommon","isKeyDownOperationPermitted","metaKey","ctrlKey","HTMLInputElement","selectionStart","selectionEnd","initialSelectedItems","defaultSelectedItems","initialActiveIndex","defaultActiveIndex","onActiveIndexChange","onSelectedItemsChange","keyNavigationNext","keyNavigationPrevious","SelectedItemClick","SelectedItemKeyDownDelete","SelectedItemKeyDownBackspace","SelectedItemKeyDownNavigationNext","SelectedItemKeyDownNavigationPrevious","DropdownKeyDownNavigationPrevious","DropdownKeyDownBackspace","DropdownClick","FunctionAddSelectedItem","FunctionRemoveSelectedItem","FunctionSetSelectedItems","FunctionSetActiveIndex","downshiftMultipleSelectionReducer","newActiveIndex","selectedItemIndex","newSelectedItems","useMultipleSelection","dropdownRef","selectedItemRefs","selectedItemKeyDownHandlers","Delete","Backspace","dropdownKeyDownHandlers","getSelectedItemProps","selectedItemProp","isFocusable","selectedItemHandleClick","selectedItemHandleKeyDown","selectedItemNode","getDropdownProps","_ref4$preventKeyActio","preventKeyAction","dropdownHandleKeyDown","dropdownHandleClick","dropdownNode","addSelectedItem","removeSelectedItem","setSelectedItems","setActiveIndex","TagClick","TagGroupKeyDownArrowLeft","TagGroupKeyDownArrowRight","TagGroupKeyDownDelete","TagGroupKeyDownBackspace","TagRemoveClick","FunctionAddItem","useTagGroupReducer","_props","newItems","useElementIdsR18","useElementIdsLegacy","tagGroupId","getTagId","elementIdsRef","_props$activeIndex","initialItems","oldState","A11Y_DESCRIPTION_ELEMENT_ID","useAccessibleDescription","description","accessibleDescriptionElement","display","getMergedProps","removeElementDescription","useRovingTagFocus","itemsLength","previousActiveIndexRef","previousItemsLengthRef","_itemRefs$current$get","useTagGroup","_props$environment","getTagGroupProps","handleKeyDown","tagGroupProps","getTagProps","_options$refKey","Number","isInteger","handleClick","tagId","getTagRemoveProps","stopPropagation","tagRemoveId","addItem"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,16]}