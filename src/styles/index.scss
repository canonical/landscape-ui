// Overridden Vanilla variables
@import "vanilla-config";

// Vanilla
@import "vanilla-framework";

@include vanilla;

// Icons
// @import "vanilla-framework/scss/utilities_animations";
@include vf-u-animations;
@include vf-p-icon-pods;
@include vf-p-icon-spinner;
@include vf-p-icon-containers;
@include vf-p-icon-close;
@include vf-p-icon-connected;
@include vf-p-icon-edit;
@include vf-p-icon-change-version;
@include vf-p-icon-fork;
@include vf-p-icon-power-off;
@include vf-p-icon-restart;
@include vf-p-icon-status;
@include vf-p-icon-open-terminal;
@include vf-p-icon-units;
@include vf-p-icon-status-failed-small;
@include vf-p-icon-status-in-progress-small;
@include vf-p-icon-status-waiting-small;
@include vf-p-icon-status-queued-small;
@include vf-p-icon-status-succeeded-small;
@include vf-p-icon-begin-downloading;
@include vf-p-icon-warning-grey;
@include vf-p-icon-status-in-progress;
@include vf-p-icon-status-queued;
@include vf-p-icon-status-waiting;
@include vf-p-icon-pin;
@include vf-p-icon-lock-locked;
@include vf-p-icon-lock-locked-active;
@include vf-p-icon-lock-unlock;
@include vf-p-icon-switcher-dashboard;
@include vf-p-icon-machines;
@include vf-p-icon-switcher-environments;
@include vf-p-icon-settings;
@include vf-p-icon-pause;
@include vf-p-icon-play;
@include vf-p-icon-change-version;
@include vf-p-icon-canvas;
@include vf-p-icon-inspector-debug;
@include vf-p-icon-applications;
@include vf-p-icon-unit-running;

// Custom styles
.p-panel {
  &__inner {
    @extend %vf-grid-container-padding;
  }

  &__controls {
    display: flex;
    align-items: center;
    gap: 1rem;
  }
}

.l-aside {
  background-color: $color-x-light;
}

.form-buttons {
  margin-top: 1.5rem;
  text-align: right;
}

.checkbox-group {
  padding: 0;
  border: 0;

  &__inner {
    column-count: 2;
  }

  legend {
    margin-bottom: 0.25rem;
  }

  .p-form-validation__message {
    margin-top: 0;
  }
}

.p-modal {
  &__footer {
    & > button {
      margin-bottom: 0 !important;
    }
  }
}

@mixin vf-icon-close-sidebar($color) {
  background-image: url("data:image/svg+xml,%3Csvg width='16' height='16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='#{vf-url-friendly-color($color)}' fill-rule='nonzero' d='M12.5 14.9747L14 14.9747L14 1L12.5 1L12.5 14.9747ZM5.54288 3.26465L0.858296 7.94923L5.54288 12.6338L6.42676 11.7499L3.3753 8.69981L10.9014 8.69923L10.9014 7.19923L3.3753 7.19981L6.42676 4.14853L5.54288 3.26465Z'/%3E%3C/svg%3E");
}

.p-icon--close-sidebar {
  @extend %icon;
  @include vf-icon-close-sidebar($color-mid-dark);

  [class*="--dark"] &,
  &.is-light {
    @include vf-icon-close-sidebar($color-x-light);
  }
}

@mixin vf-icon-logout($color) {
  background-image: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 13 13' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='#{vf-url-friendly-color($color)}' fill-rule='nonzero' d='M1.32973 12.4804C0.965955 12.4804 0.653389 12.3507 0.392033 12.0912C0.130678 11.8317 0 11.5213 0 11.1602V1.32972C0 0.965938 0.130678 0.653372 0.392033 0.392017C0.653389 0.130672 0.965955 0 1.32973 0H6.24567V1.32972H1.32973V11.1602H6.24567V12.4804H1.32973ZM9.44857 9.50075L8.49638 8.5674L10.1587 6.90508H4.46668V5.58478H10.1254L8.46305 3.92247L9.41523 2.98912L12.6783 6.2616L9.44857 9.50075Z'/%3E%3C/svg%3E");
}

.p-icon--logout {
  @extend %icon;
  @include vf-icon-logout(#ffffff);
}

@mixin vf-icon--account($color) {
  background-image: url("data:image/svg+xml,%3Csvg width='16' height='16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8 1a4 4 0 014 4v.5a3.987 3.987 0 01-1.139 2.795 6 6 0 014.135 5.48L15 14H1a6.003 6.003 0 014.14-5.706A3.98 3.98 0 014 5.5V5a4 4 0 014-4zm1 8.5H7a4.502 4.502 0 00-4.203 2.888l-.04.112h10.486l-.03-.084a4.504 4.504 0 00-4-2.911L9 9.5zm-1-7a2.5 2.5 0 00-2.495 2.336L5.5 5v.5a2.5 2.5 0 004.995.164L10.5 5.5V5A2.5 2.5 0 008 2.5z' fill='#{vf-url-friendly-color($color)}' fill-rule='nonzero'/%3E%3C/svg%3E");
}

.p-icon--account {
  @extend %icon;
  @include vf-icon--account(#ffffff);
}

@mixin vf-icon--snapcraft() {
  background-image: url("data:image/svg+xml,%3Csvg width='65' height='64' viewBox='0 0 65 64' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg clip-path='url(%23clip0_4725_192297)'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M36.6211 15.5605L50.4691 21.7145L36.6211 35.5625V15.5605Z' fill='%2382BFA1'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M10.1836 62.0002L34.6156 37.5682L27.1616 30.1602L10.1836 62.0002Z' fill='%2382BFA1'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M0.5 2L35.45 36.736V14.632L0.5 2Z' fill='%2382BFA1'/%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M57.5518 14.6309H37.4258L63.3018 26.1309L57.5518 14.6309Z' fill='%23FA6340'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='clip0_4725_192297'%3E%3Crect width='64' height='64' fill='white' transform='translate(0.5)'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E%0A");
}

.p-icon--snapcraft {
  @extend %icon;
  @include vf-icon--snapcraft();
}

.u-off-screen:not(:focus):not(:active) {
  top: 0;
}

.p-modal__dialog {
  @media (min-width: $breakpoint-large) {
    min-width: 40rem;
  }
}

@mixin vf-icon--cluster($color) {
  background-image: url("data:image/svg+xml,%3Csvg width='16' height='16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8 1.07224L11.8451 3.29218L11.845 7.03123L14.805 8.73999V13.1799L10.9599 15.3998L8.00001 13.6902L5.04007 15.3998L1.19501 13.1799V8.73999L4.15401 7.03123L4.15494 3.29218L8 1.07224ZM5.04 8.25201L2.695 9.60601V12.313L5.04 13.667L7.11401 12.4682V9.44923L5.04 8.25201ZM10.959 8.25201L8.88501 9.44823V12.4692L10.959 13.667L13.304 12.313V9.60601L10.959 8.25201ZM8 2.80401L5.654 4.15801V6.86601L8 8.21901L10.345 6.86601V4.15801L8 2.80401Z' fill='#{vf-url-friendly-color($color)}' fill-rule='nonzero'/%3E%3C/svg%3E%0A");
}

.p-icon--cluster {
  @extend %icon;
  @include vf-icon--cluster(#ffffff);
}

@mixin vf-icon--bell($color) {
  background-image: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M8.95577 1.79502C8.98452 1.70177 9 1.60269 9 1.5C9 0.947715 8.55228 0.5 8 0.5C7.44772 0.5 7 0.947715 7 1.5C7 1.60255 7.01544 1.7015 7.04411 1.79464C4.57 2.11426 3.24467 3.73558 3.25296 6.47665L3.25296 9.48815C3.25296 10.2187 2.71546 11.0259 1.5513 11.8951C0.973101 12.3268 1.27842 13.246 2 13.246H5.00994C5.13509 14.7878 6.42599 16 8 16C9.57402 16 10.8649 14.7878 10.9901 13.246H14.0019C14.7233 13.246 15.0287 12.3271 14.4508 11.8953C13.2877 11.0261 12.7507 10.2189 12.7507 9.48815V6.47439C12.7543 3.7358 11.4279 2.11546 8.95577 1.79502ZM6.52008 13.246H9.47992C9.36254 13.9574 8.74463 14.5 8 14.5C7.25537 14.5 6.63746 13.9574 6.52008 13.246ZM7.9984 3.23611C10.2563 3.23611 11.2536 4.22996 11.2507 6.4734V9.48815L11.2573 9.69045C11.3013 10.3624 11.5649 11.0102 12.0349 11.636L12.121 11.746H3.881L3.96803 11.6362C4.48555 10.9478 4.75296 10.2327 4.75296 9.48815V6.47439C4.74617 4.22918 5.74102 3.23611 7.9984 3.23611Z' fill='#{vf-url-friendly-color($color)}'/%3E%3C/svg%3E%0A");
}

.p-icon--bell {
  @extend %icon;
  @include vf-icon--bell(#ffffff);
}

a[target="_blank"] {
  &::after {
    content: "";
    @extend %icon;
    @include vf-icon-external-link($color-link);
  }

  .is-dark & {
    &::after {
      @include vf-icon-external-link($color-x-light);
    }
  }
}

.divided-blocks {
  display: flex;
  justify-content: end;

  &__item {
    &:not(:last-child) {
      padding-right: $sph--small;
    }

    &:not(:first-child) {
      &::before {
        content: "\007c";
        margin-right: $sph--small;
        color: $color-mid-light;
      }
    }
  }
}

@mixin vf-icon--contextual-menu($color) {
  background-image: url("data:image/svg+xml,%3Csvg width='4' height='16' viewBox='0 0 4 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M3.5 2.00934C3.5 1.18091 2.82843 0.509338 2 0.509338C1.17157 0.509338 0.5 1.18091 0.5 2.00934C0.5 2.83777 1.17157 3.50934 2 3.50934C2.82843 3.50934 3.5 2.83777 3.5 2.00934ZM2 6.5C2.82843 6.5 3.5 7.17157 3.5 8C3.5 8.82842 2.82843 9.5 2 9.5C1.17157 9.5 0.5 8.82842 0.5 8C0.5 7.17157 1.17157 6.5 2 6.5ZM2 12.4907C2.82843 12.4907 3.5 13.1622 3.5 13.9907C3.5 14.8191 2.82843 15.4907 2 15.4907C1.17157 15.4907 0.5 14.8191 0.5 13.9907C0.5 13.1622 1.17157 12.4907 2 12.4907Z' fill='#{vf-url-friendly-color($color)}'/%3E%3C/svg%3E%0A");
}

.p-icon--contextual-menu {
  @extend %icon;
  @include vf-icon--contextual-menu($color-mid-dark);
}

.fade-in--down {
  &[aria-hidden="true"] {
    .multi-select__dropdown {
      bottom: 0;
    }
  }
}

.is-detached {
  .p-tooltip__message {
    max-width: 20rem;
    white-space: normal;
    width: max-content;
    z-index: 1000;
  }
}
