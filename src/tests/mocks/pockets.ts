import type { Pocket } from "@/features/mirrors";
import type { PackageDiff, PackageObject } from "@/features/packages";

export const listPockets: PackageObject[] = [
  {
    arch: "amd64",
    component: "main",
    name: "pocket1",
    udeb: false,
    version: "1.0.0",
  },
  {
    arch: "amd64",
    component: "main",
    name: "pocket2",
    udeb: false,
    version: "1.0.0",
  },
  {
    arch: "amd64",
    component: "main",
    name: "pocket3",
    udeb: false,
    version: "1.0.0",
  },
  {
    arch: "amd64",
    component: "main",
    name: "pocket4",
    udeb: false,
    version: "1.0.0",
  },
  {
    arch: "amd64",
    component: "main",
    name: "pocket5",
    udeb: false,
    version: "1.0.0",
  },
];

export const diffPocket: PackageDiff = {
  "main:amd64": {
    add: [
      ["pocket1", "1.0.0"],
      ["pocket2", "1.0.0"],
      ["pocket3", "1.0.0"],
      ["pocket4", "1.0.0"],
      ["pocket5", "1.0.0"],
    ],
    delete: [["pocket6", "1.0.0"]],
  },
};

export const pockets: Pocket[] = [
  {
    mode: "mirror",
    mirror_uri: "https://snapshot.ubuntu.com/ubuntu/20210901T000000Z",
    name: "Pocket 1",
    apt_source_line: "",
    architectures: [],
    components: [],
    creation_time: "",
    distribution: {
      access_group: "",
      creation_time: "",
      name: "Distribution",
    },
    gpg_key: {
      fingerprint: "",
      id: 1,
      has_secret: false,
      key_id: "",
      name: "GPG key",
    },
    id: 12,
    include_udeb: false,
    last_sync_activity: {
      id: 1,
      pocket_id: 1,
      pocket_name: "Pocket 2",
      progress: 0,
      result_text: "",
      summary: "",
      type: "sync",
    },
    last_sync_time: "",
    last_sync_status: "failed",
    last_sync_status_message: "",
    mirror_suite: "",
    package_count: 0,
    series: {
      creation_time: "",
      name: "Series",
    },
  },
  {
    mode: "pull",
    filter_type: null,
    filters: ["filter1", "filter2"],
    pull_pocket: "",
    name: "Pocket 2",
    apt_source_line: "",
    architectures: [],
    components: [],
    creation_time: "",
    distribution: {
      access_group: "",
      creation_time: "",
      name: "Distribution 2",
    },
    gpg_key: {
      fingerprint: "",
      id: 1,
      has_secret: false,
      key_id: "",
      name: "GPG key 2",
    },
    id: 12,
    include_udeb: false,
    last_sync_activity: null,
    last_sync_time: null,
    last_sync_status: null,
    last_sync_status_message: null,
    package_count: 0,
    series: {
      creation_time: "",
      name: "Series 2",
    },
  },
  {
    mode: "pull",
    filter_type: "blacklist",
    filters: ["filter1", "filter2"],
    pull_pocket: "",
    name: "Pocket 3",
    apt_source_line: "",
    architectures: [],
    components: [],
    creation_time: "",
    distribution: {
      access_group: "",
      creation_time: "",
      name: "Distribution 3",
    },
    gpg_key: {
      fingerprint: "",
      id: 1,
      has_secret: false,
      key_id: "",
      name: "GPG key 3",
    },
    id: 12,
    include_udeb: false,
    last_sync_activity: {
      id: 1,
      pocket_id: 1,
      pocket_name: "Pocket 3",
      progress: 0,
      result_text: "",
      summary: "",
      type: "sync",
    },
    last_sync_time: "",
    last_sync_status: "failed",
    last_sync_status_message: "",
    package_count: 0,
    series: {
      creation_time: "",
      name: "Series 3",
    },
  },
  {
    mode: "upload",
    name: "Pocket 4",
    upload_allow_unsigned: false,
    upload_gpg_keys: [
      {
        fingerprint: "",
        id: 1,
        has_secret: false,
        name: "GPG key 4",
      },
    ],
    apt_source_line: "",
    architectures: [],
    components: [],
    creation_time: "",
    distribution: {
      access_group: "",
      creation_time: "",
      name: "Distribution 4",
    },
    gpg_key: {
      fingerprint: "",
      id: 1,
      has_secret: false,
      key_id: "",
      name: "GPG key 4",
    },
    id: 12,
    include_udeb: false,
    package_count: 0,
    series: {
      creation_time: "",
      name: "Series 4",
    },
  },
  {
    mode: "mirror",
    mirror_uri: "",
    name: "Pocket 5",
    apt_source_line: "",
    architectures: [],
    components: [],
    creation_time: "",
    distribution: {
      access_group: "",
      creation_time: "",
      name: "Distribution",
    },
    gpg_key: {
      fingerprint: "",
      id: 1,
      has_secret: false,
      key_id: "",
      name: "GPG key",
    },
    id: 12,
    include_udeb: false,
    last_sync_activity: {
      id: 1,
      pocket_id: 1,
      pocket_name: "Pocket 5",
      progress: 0,
      result_text: "",
      summary: "",
      type: "sync",
    },
    last_sync_time: "",
    last_sync_status: "synced",
    last_sync_status_message: "",
    mirror_suite: "",
    package_count: 0,
    series: {
      creation_time: "",
      name: "Series",
    },
  },
  {
    mode: "mirror",
    mirror_uri: "https://snapshot.ubuntu.com/ubuntu",
    name: "Pocket 6",
    apt_source_line: "",
    architectures: [],
    components: [],
    creation_time: "",
    distribution: {
      access_group: "",
      creation_time: "",
      name: "Distribution",
    },
    gpg_key: {
      fingerprint: "",
      id: 1,
      has_secret: false,
      key_id: "",
      name: "GPG key",
    },
    id: 12,
    include_udeb: false,
    last_sync_activity: {
      id: 1,
      pocket_id: 1,
      pocket_name: "Pocket 6",
      progress: 0,
      result_text: "",
      summary: "",
      type: "sync",
    },
    last_sync_time: "",
    last_sync_status: "in progress",
    last_sync_status_message: "",
    mirror_suite: "",
    package_count: 0,
    series: {
      creation_time: "",
      name: "Series",
    },
  },
];

export const pocketsWithoutSnapshot: Pocket[] = pockets.filter(
  (pocket) =>
    pocket.mode !== "mirror" ||
    (pocket.mode === "mirror" &&
      !pocket.mirror_uri.startsWith("https://snapshot.ubuntu.com/ubuntu")),
);
